var Lado=function(){"use strict";const e={};const t=Symbol("solid-proxy"),n=Symbol("solid-track"),r={equals:(e,t)=>e===t};let s=F;const i={},o={owned:null,cleanups:null,context:null,owner:null},[l,a]=y(!1);var c=null;let u,m=null,h=null,d=null,f=null,p=0;function g(e,t){const n=m,r=c,s=0===e.length,i=s?o:{owned:null,cleanups:null,context:null,owner:t||r},l=s?e:()=>e((()=>R(i)));c=i,m=null;try{return D(l,!0)}finally{m=n,c=r}}function y(e,t){t=t?Object.assign({},r,t):r;const n={value:e,observers:null,observerSlots:null,pending:i,comparator:t.equals||void 0};return[N.bind(n),e=>("function"==typeof e&&(e=e(n.pending!==i?n.pending:n.value)),T(n,e))]}function b(e,t,n){E(V(e,t,!0,1))}function v(e,t,n){E(V(e,t,!1,1))}function P(e,t,n){s=L;const r=V(e,t,!1,1);r.user=!0,f?f.push(r):E(r)}function M(e,t,n){n=n?Object.assign({},r,n):r;const s=V(e,t,!0,0);return s.pending=i,s.observers=null,s.observerSlots=null,s.comparator=n.equals||void 0,E(s),N.bind(s)}function _(t,n,r){2===arguments.length?"object"==typeof n&&(r=n,n=t,t=!0):1===arguments.length&&(n=t,t=!0),r||(r={});const s=new Set,[i,o]=y(r.initialValue),[l,a]=y(void 0,{equals:!1}),[c,h]=y(!1),[d,f]=y();let p,g=null,v=null,P=null,_=!1,A="initialValue"in r,k="function"==typeof t&&M(t);function j(e,t,n,s){return g===e&&(g=null,A=!0,v&&(e===v||t===v)&&r.onHydrated&&queueMicrotask((()=>r.onHydrated(s,{value:t}))),v=null,f(p=n),$(t)),t}function $(e){x((()=>{o((()=>e)),h(!1);for(const e of s.keys())e.decrement();s.clear()}))}function S(){const e=u,t=i();if(p)throw p;return m&&!m.user&&e&&b((()=>{l(),g&&(e.resolved||s.has(e)||(e.increment(),s.add(e)))})),t}function C(e=!0){if(e&&_)return;_=!1,f(p=void 0);const r=k?k():t;if(null==r||!1===r)return void j(g,w(i));const s=v||w((()=>n(r,{value:i(),refetching:e})));return"object"==typeof s&&"then"in s?(g=s,_=!0,queueMicrotask((()=>_=!1)),x((()=>{h(!0),a()})),s.then((e=>j(s,e,void 0,r)),(e=>j(s,e,e)))):(j(g,s),s)}return e.context&&(P=`${e.context.id}${e.context.count++}`,e.load&&(v=e.load(P))),Object.defineProperties(S,{loading:{get:()=>c()},error:{get:()=>d()},latest:{get(){if(!A)return S();if(p)throw p;return i()}}}),k?b((()=>C(!1))):C(!1),[S,{refetch:C,mutate:o}]}function x(e){if(h)return e();let t;const n=h=[];try{t=e()}finally{h=null}return D((()=>{for(let e=0;e<n.length;e+=1){const t=n[e];if(t.pending!==i){const e=t.pending;t.pending=i,T(t,e)}}}),!1),t}function w(e){let t,n=m;return m=null,t=e(),m=n,t}function A(e,t,n){const r=Array.isArray(e);let s,i=n&&n.defer;return n=>{let o;if(r){o=Array(e.length);for(let t=0;t<e.length;t++)o[t]=e[t]()}else o=e();if(i)return void(i=!1);const l=w((()=>t(o,s,n)));return s=o,l}}function k(e){P((()=>w(e)))}function j(e){return null===c||(null===c.cleanups?c.cleanups=[e]:c.cleanups.push(e)),e}function $(e){const t=m,n=c;return Promise.resolve().then((()=>{m=t,c=n,x(e),m=c=null}))}function S(e){const t=Symbol("context");return{id:t,Provider:U(t),defaultValue:e}}function C(e){let t;return void 0!==(t=K(c,e.id))?t:e.defaultValue}function I(e){const t=M(e);return M((()=>G(t())))}function N(){if(this.sources&&this.state){const e=d;d=null,1===this.state?E(this):B(this),d=e}if(m){const e=this.observers?this.observers.length:0;m.sources?(m.sources.push(this),m.sourceSlots.push(e)):(m.sources=[this],m.sourceSlots=[e]),this.observers?(this.observers.push(m),this.observerSlots.push(m.sources.length-1)):(this.observers=[m],this.observerSlots=[m.sources.length-1])}return this.value}function T(e,t,n){if(h)return e.pending===i&&h.push(e),e.pending=t,t;if(e.comparator&&e.comparator(e.value,t))return t;let r=!1;return e.value=t,e.observers&&e.observers.length&&D((()=>{for(let t=0;t<e.observers.length;t+=1){const n=e.observers[t];r,n.state||(n.pure?d.push(n):f.push(n),n.observers&&O(n)),n.state=1}if(d.length>1e6)throw d=[],new Error}),!1),t}function E(e){if(!e.fn)return;R(e);const t=c,n=m,r=p;m=c=e,function(e,t,n){let r;try{r=e.fn(t)}catch(e){z(e)}(!e.updatedAt||e.updatedAt<=n)&&(e.observers&&e.observers.length?T(e,r):e.value=r,e.updatedAt=n)}(e,e.value,r),m=n,c=t}function V(e,t,n,r=1,s){const i={fn:e,state:r,updatedAt:null,owned:null,sources:null,sourceSlots:null,cleanups:null,value:t,owner:c,context:null,pure:n};return null===c||c!==o&&(c.owned?c.owned.push(i):c.owned=[i]),i}function q(e){if(0===e.state)return;if(2===e.state)return B(e);if(e.suspense&&w(e.suspense.inFallback))return e.suspense.effects.push(e);const t=[e];for(;(e=e.owner)&&(!e.updatedAt||e.updatedAt<p);)e.state&&t.push(e);for(let n=t.length-1;n>=0;n--)if(1===(e=t[n]).state)E(e);else if(2===e.state){const n=d;d=null,B(e,t[0]),d=n}}function D(e,t){if(d)return e();let n=!1;t||(d=[]),f?n=!0:f=[],p++;try{const t=e();return function(e){d&&(F(d),d=null);if(e)return;f.length?x((()=>{s(f),f=null})):f=null}(n),t}catch(e){d||(f=null),z(e)}}function F(e){for(let t=0;t<e.length;t++)q(e[t])}function L(t){let n,r=0;for(n=0;n<t.length;n++){const e=t[n];e.user?t[r++]=e:q(e)}var s;e.context&&(e.context=s);const i=t.length;for(n=0;n<r;n++)q(t[n]);for(n=i;n<t.length;n++)q(t[n])}function B(e,t){e.state=0;for(let n=0;n<e.sources.length;n+=1){const r=e.sources[n];r.sources&&(1===r.state?r!==t&&q(r):2===r.state&&B(r,t))}}function O(e){for(let t=0;t<e.observers.length;t+=1){const n=e.observers[t];n.state||(n.state=2,n.pure?d.push(n):f.push(n),n.observers&&O(n))}}function R(e){let t;if(e.sources)for(;e.sources.length;){const t=e.sources.pop(),n=e.sourceSlots.pop(),r=t.observers;if(r&&r.length){const e=r.pop(),s=t.observerSlots.pop();n<r.length&&(e.sourceSlots[s]=n,r[n]=e,t.observerSlots[n]=s)}}if(e.owned){for(t=0;t<e.owned.length;t++)R(e.owned[t]);e.owned=null}if(e.cleanups){for(t=0;t<e.cleanups.length;t++)e.cleanups[t]();e.cleanups=null}e.state=0,e.context=null}function z(e){throw e}function K(e,t){return e?e.context&&void 0!==e.context[t]?e.context[t]:K(e.owner,t):void 0}function G(e){if("function"==typeof e&&!e.length)return G(e());if(Array.isArray(e)){const t=[];for(let n=0;n<e.length;n++){const r=G(e[n]);Array.isArray(r)?t.push.apply(t,r):t.push(r)}return t}return e}function U(e){return function(t){let n;return b((()=>n=w((()=>(c.context={[e]:t.value},I((()=>t.children))))))),n}}const H=Symbol("fallback");function W(e){for(let t=0;t<e.length;t++)e[t]()}function Y(e,t){return w((()=>e(t||{})))}function J(){return!0}const X={get:(e,n,r)=>n===t?r:e.get(n),has:(e,t)=>e.has(t),set:J,deleteProperty:J,getOwnPropertyDescriptor:(e,t)=>({configurable:!0,enumerable:!0,get:()=>e.get(t),set:J,deleteProperty:J}),ownKeys:e=>e.keys()};function Q(e){return null==(e="function"==typeof e?e():e)?{}:e}function Z(...e){return new Proxy({get(t){for(let n=e.length-1;n>=0;n--){const r=Q(e[n])[t];if(void 0!==r)return r}},has(t){for(let n=e.length-1;n>=0;n--)if(t in Q(e[n]))return!0;return!1},keys(){const t=[];for(let n=0;n<e.length;n++)t.push(...Object.keys(Q(e[n])));return[...new Set(t)]}},X)}function ee(e,...t){const n=new Set(t.flat()),r=Object.getOwnPropertyDescriptors(e),s=t.map((t=>{const n={};for(let s=0;s<t.length;s++){const i=t[s];Object.defineProperty(n,i,r[i]?r[i]:{get:()=>e[i],set:()=>!0})}return n}));return s.push(new Proxy({get:t=>n.has(t)?void 0:e[t],has:t=>!n.has(t)&&t in e,keys:()=>Object.keys(e).filter((e=>!n.has(e)))},X)),s}function te(e){const t="fallback"in e&&{fallback:()=>e.fallback};return M(function(e,t,r={}){let s=[],i=[],o=[],l=0,a=t.length>1?[]:null;return j((()=>W(o))),()=>{let c,u,m=e()||[];return m[n],w((()=>{let e,t,n,d,f,p,y,b,v,P=m.length;if(0===P)0!==l&&(W(o),o=[],s=[],i=[],l=0,a&&(a=[])),r.fallback&&(s=[H],i[0]=g((e=>(o[0]=e,r.fallback()))),l=1);else if(0===l){for(i=new Array(P),u=0;u<P;u++)s[u]=m[u],i[u]=g(h);l=P}else{for(n=new Array(P),d=new Array(P),a&&(f=new Array(P)),p=0,y=Math.min(l,P);p<y&&s[p]===m[p];p++);for(y=l-1,b=P-1;y>=p&&b>=p&&s[y]===m[b];y--,b--)n[b]=i[y],d[b]=o[y],a&&(f[b]=a[y]);for(e=new Map,t=new Array(b+1),u=b;u>=p;u--)v=m[u],c=e.get(v),t[u]=void 0===c?-1:c,e.set(v,u);for(c=p;c<=y;c++)v=s[c],u=e.get(v),void 0!==u&&-1!==u?(n[u]=i[c],d[u]=o[c],a&&(f[u]=a[c]),u=t[u],e.set(v,u)):o[c]();for(u=p;u<P;u++)u in n?(i[u]=n[u],o[u]=d[u],a&&(a[u]=f[u],a[u](u))):i[u]=g(h);i=i.slice(0,l=P),s=m.slice(0)}return i}));function h(e){if(o[u]=e,a){const[e,n]=y(u);return a[u]=n,t(m[u],e)}return t(m[u])}}}((()=>e.each),e.children,t||void 0))}function ne(e){let t=!1;const n=M((()=>e.when),void 0,{equals:(e,n)=>t?e===n:!e==!n});return M((()=>{const r=n();if(r){const n=e.children;return(t="function"==typeof n&&n.length>0)?w((()=>n(r))):n}return e.fallback}))}const re=new Set(["className","value","readOnly","formNoValidate","isMap","noModule","playsInline","allowfullscreen","async","autofocus","autoplay","checked","controls","default","disabled","formnovalidate","hidden","indeterminate","ismap","loop","multiple","muted","nomodule","novalidate","open","playsinline","readonly","required","reversed","seamless","selected"]),se=new Set(["innerHTML","textContent","innerText","children"]),ie={className:"class",htmlFor:"for"},oe={class:"className",formnovalidate:"formNoValidate",ismap:"isMap",nomodule:"noModule",playsinline:"playsInline",readonly:"readOnly"},le=new Set(["beforeinput","click","dblclick","contextmenu","focusin","focusout","input","keydown","keyup","mousedown","mousemove","mouseout","mouseover","mouseup","pointerdown","pointermove","pointerout","pointerover","pointerup","touchend","touchmove","touchstart"]),ae={xlink:"http://www.w3.org/1999/xlink",xml:"http://www.w3.org/XML/1998/namespace"};const ce="_$DX_DELEGATE";function ue(e,t,n){const r=document.createElement("template");r.innerHTML=e;let s=r.content.firstChild;return n&&(s=s.firstChild),s}function me(e,t=window.document){const n=t[ce]||(t[ce]=new Set);for(let r=0,s=e.length;r<s;r++){const s=e[r];n.has(s)||(n.add(s),t.addEventListener(s,ve))}}function he(e,t,n){null==n?e.removeAttribute(t):e.setAttribute(t,n)}function de(e,t){null==t?e.removeAttribute("class"):e.className=t}function fe(e,t,n,r){if(r)Array.isArray(n)?(e[`$$${t}`]=n[0],e[`$$${t}Data`]=n[1]):e[`$$${t}`]=n;else if(Array.isArray(n)){const r=n[0];e.addEventListener(t,n[0]=t=>r.call(e,n[1],t))}else e.addEventListener(t,n)}function pe(e,t,n={}){const r=e.style,s="string"==typeof n;if(null==t&&s||"string"==typeof t)return r.cssText=t;let i,o;for(o in s&&(r.cssText=void 0,n={}),t||(t={}),n)null==t[o]&&r.removeProperty(o),delete n[o];for(o in t)i=t[o],i!==n[o]&&(r.setProperty(o,i),n[o]=i);return n}function ge(e,t,n,r){if(void 0===n||r||(r=[]),"function"!=typeof t)return Me(e,t,r,n);v((r=>Me(e,t(),r,n)),r)}function ye(e,t,n){const r=t.trim().split(/\s+/);for(let t=0,s=r.length;t<s;t++)e.classList.toggle(r[t],n)}function be(e,t,n,r,s,i){let o,l,a;if("style"===t)return pe(e,n,r);if("classList"===t)return function(e,t,n={}){const r=Object.keys(t||{}),s=Object.keys(n);let i,o;for(i=0,o=s.length;i<o;i++){const r=s[i];r&&"undefined"!==r&&!t[r]&&(ye(e,r,!1),delete n[r])}for(i=0,o=r.length;i<o;i++){const s=r[i],o=!!t[s];s&&"undefined"!==s&&n[s]!==o&&o&&(ye(e,s,!0),n[s]=o)}return n}(e,n,r);if(n===r)return r;if("ref"===t)i||n(e);else if("on:"===t.slice(0,3)){const s=t.slice(3);r&&e.removeEventListener(s,r),n&&e.addEventListener(s,n)}else if("oncapture:"===t.slice(0,10)){const s=t.slice(10);r&&e.removeEventListener(s,r,!0),n&&e.addEventListener(s,n,!0)}else if("on"===t.slice(0,2)){const s=t.slice(2).toLowerCase(),i=le.has(s);if(!i&&r){const t=Array.isArray(r)?r[0]:r;e.removeEventListener(s,t)}(i||n)&&(fe(e,s,n,i),i&&me([s]))}else if((a=se.has(t))||!s&&(oe[t]||(l=re.has(t)))||(o=e.nodeName.includes("-")))"class"===t||"className"===t?de(e,n):!o||l||a?e[oe[t]||t]=n:e[function(e){return e.toLowerCase().replace(/-([a-z])/g,((e,t)=>t.toUpperCase()))}(t)]=n;else{const r=s&&t.indexOf(":")>-1&&ae[t.split(":")[0]];r?function(e,t,n,r){null==r?e.removeAttributeNS(t,n):e.setAttributeNS(t,n,r)}(e,r,t,n):he(e,ie[t]||t,n)}return n}function ve(t){const n=`$$${t.type}`;let r=t.composedPath&&t.composedPath()[0]||t.target;for(t.target!==r&&Object.defineProperty(t,"target",{configurable:!0,value:r}),Object.defineProperty(t,"currentTarget",{configurable:!0,get:()=>r||document}),e.registry&&!e.done&&(e.done=!0,document.querySelectorAll("[id^=pl-]").forEach((e=>e.remove())));null!==r;){const e=r[n];if(e&&!r.disabled){const s=r[`${n}Data`];if(void 0!==s?e.call(r,s,t):e.call(r,t),t.cancelBubble)return}r=r.host&&r.host!==r&&r.host instanceof Node?r.host:r.parentNode}}function Pe(e,t,n={},r,s){return t||(t={}),!s&&"children"in t&&v((()=>n.children=Me(e,t.children,n.children))),t.ref&&t.ref(e),v((()=>function(e,t,n,r,s={},i=!1){t||(t={});for(const r in s)if(!(r in t)){if("children"===r)continue;be(e,r,null,s[r],n,i)}for(const o in t){if("children"===o){r||Me(e,t.children);continue}const l=t[o];s[o]=be(e,o,l,s[o],n,i)}}(e,t,r,!0,n,!0))),n}function Me(t,n,r,s,i){for(e.context&&!r&&(r=[...t.childNodes]);"function"==typeof r;)r=r();if(n===r)return r;const o=typeof n,l=void 0!==s;if(t=l&&r[0]&&r[0].parentNode||t,"string"===o||"number"===o){if(e.context)return r;if("number"===o&&(n=n.toString()),l){let e=r[0];e&&3===e.nodeType?e.data=n:e=document.createTextNode(n),r=we(t,r,s,e)}else r=""!==r&&"string"==typeof r?t.firstChild.data=n:t.textContent=n}else if(null==n||"boolean"===o){if(e.context)return r;r=we(t,r,s)}else{if("function"===o)return v((()=>{let e=n();for(;"function"==typeof e;)e=e();r=Me(t,e,r,s)})),()=>r;if(Array.isArray(n)){const o=[],a=r&&Array.isArray(r);if(_e(o,n,r,i))return v((()=>r=Me(t,o,r,s,!0))),()=>r;if(e.context)for(let e=0;e<o.length;e++)if(o[e].parentNode)return r=o;if(0===o.length){if(r=we(t,r,s),l)return r}else a?0===r.length?xe(t,o,s):function(e,t,n){let r=n.length,s=t.length,i=r,o=0,l=0,a=t[s-1].nextSibling,c=null;for(;o<s||l<i;)if(t[o]!==n[l]){for(;t[s-1]===n[i-1];)s--,i--;if(s===o){const t=i<r?l?n[l-1].nextSibling:n[i-l]:a;for(;l<i;)e.insertBefore(n[l++],t)}else if(i===l)for(;o<s;)c&&c.has(t[o])||t[o].remove(),o++;else if(t[o]===n[i-1]&&n[l]===t[s-1]){const r=t[--s].nextSibling;e.insertBefore(n[l++],t[o++].nextSibling),e.insertBefore(n[--i],r),t[s]=n[i]}else{if(!c){c=new Map;let e=l;for(;e<i;)c.set(n[e],e++)}const r=c.get(t[o]);if(null!=r)if(l<r&&r<i){let a,u=o,m=1;for(;++u<s&&u<i&&null!=(a=c.get(t[u]))&&a===r+m;)m++;if(m>r-l){const s=t[o];for(;l<r;)e.insertBefore(n[l++],s)}else e.replaceChild(n[l++],t[o++])}else o++;else t[o++].remove()}}else o++,l++}(t,r,o):(r&&we(t),xe(t,o));r=o}else if(n instanceof Node){if(e.context&&n.parentNode)return r=l?[n]:n;if(Array.isArray(r)){if(l)return r=we(t,r,s,n);we(t,r,null,n)}else null!=r&&""!==r&&t.firstChild?t.replaceChild(n,t.firstChild):t.appendChild(n);r=n}}return r}function _e(e,t,n,r){let s=!1;for(let i=0,o=t.length;i<o;i++){let o=t[i],l=n&&n[i];if(o instanceof Node)e.push(o);else if(null==o||!0===o||!1===o);else if(Array.isArray(o))s=_e(e,o,l)||s;else if("function"==typeof o)if(r){for(;"function"==typeof o;)o=o();s=_e(e,Array.isArray(o)?o:[o],l)||s}else e.push(o),s=!0;else{const t=String(o);l&&3===l.nodeType&&l.data===t?e.push(l):e.push(document.createTextNode(t))}}return s}function xe(e,t,n){for(let r=0,s=t.length;r<s;r++)e.insertBefore(t[r],n)}function we(e,t,n,r){if(void 0===n)return e.textContent="";const s=r||document.createTextNode("");if(t.length){let r=!1;for(let i=t.length-1;i>=0;i--){const o=t[i];if(s!==o){const t=o.parentNode===e;r||i?t&&o.remove():t?e.replaceChild(s,o):e.insertBefore(s,n)}else r=!0}}else e.insertBefore(s,n);return[s]}function Ae(e,t){const n=function(e){try{return document.querySelector(e)}catch(e){return null}}(`#${e}`);n?n.scrollIntoView():t&&window.scrollTo(0,0)}function ke(){return function(e,t,n,r){let s=!1;const i=e=>"string"==typeof e?{value:e}:e,o=function([e,t],n,r){return[n?()=>n(e()):e,r?e=>t(r(e)):t]}(y(i(e()),{equals:(e,t)=>e.value===t.value}),void 0,(e=>(!s&&t(e),e)));return n&&j(n(((t=e())=>{s=!0,o[1](i(t)),s=!1}))),{signal:o,utils:r}}((()=>({value:window.location.pathname+window.location.search+window.location.hash,state:history.state})),(({value:e,replace:t,scroll:n,state:r})=>{t?window.history.replaceState(r,"",e):window.history.pushState(r,"",e),Ae(window.location.hash.slice(1),n)}),(e=>{return t=window,n="popstate",r=()=>e(),t.addEventListener(n,r),()=>t.removeEventListener(n,r);var t,n,r}),{go:e=>window.history.go(e)})}const je=/^(?:[a-z0-9]+:)?\/\//i,$e=/^\/+|\/+$/g;function Se(e,t=!1){const n=e.replace($e,"");return n?t||/^[?#]/.test(n)?n:"/"+n:""}function Ce(e,t,n){if(je.test(t))return;const r=Se(e),s=n&&Se(n);let i="";return i=!s||t.startsWith("/")?r:0!==s.toLowerCase().indexOf(r.toLowerCase())?r+s:s,(i||"/")+Se(t,!i)}function Ie(e,t){return Se(e).replace(/\/*(\*.*)?$/g,"")+Se(t)}function Ne(e,t){return decodeURIComponent(t?e.replace(/\+/g," "):e)}function Te(e,t){const[n,r]=e.split("/*",2),s=n.split("/").filter(Boolean),i=s.length;return e=>{const n=e.split("/").filter(Boolean),o=n.length-i;if(o<0||o>0&&void 0===r&&!t)return null;const l={path:i?"":"/",params:{}};for(let e=0;e<i;e++){const t=s[e],r=n[e];if(":"===t[0])l.params[t.slice(1)]=r;else if(0!==t.localeCompare(r,void 0,{sensitivity:"base"}))return null;l.path+=`/${r}`}return r&&(l.params[r]=o?n.slice(-o).join("/"):""),l}}function Ee(e){const[t,n]=e.pattern.split("/*",2),r=t.split("/").filter(Boolean);return r.reduce(((e,t)=>e+(t.startsWith(":")?2:3)),r.length-(void 0===n?0:1))}function Ve(e){const t=new Map,n=c;return new Proxy({},{get:(r,s)=>(t.has(s)||function(e,t){const n=c;c=e;try{D(t,!0)}finally{c=n}}(n,(()=>t.set(s,M((()=>e()[s]))))),t.get(s)()),getOwnPropertyDescriptor:()=>({enumerable:!0,configurable:!0}),ownKeys:()=>Reflect.ownKeys(e())})}function qe(e){let t=/(\/?\:[^\/]+)\?/.exec(e);if(!t)return[e];let n=e.slice(0,t.index),r=e.slice(t.index+t[0].length);const s=[n,n+=t[1]];for(;t=/^(\/\:[^\/]+)\?/.exec(r);)s.push(n+=t[1]),r=r.slice(t[0].length);return qe(r).reduce(((e,t)=>[...e,...s.map((e=>e+t))]),[])}const De=S(),Fe=S(),Le=()=>function(e,t){if(null==e)throw new Error(t);return e}(C(De),"Make sure your app is wrapped in a <Router />");let Be;const Oe=()=>Be||C(Fe)||Le().base,Re=e=>{const t=Oe();return M((()=>t.resolvePath(e())))},ze=()=>Le().location;function Ke(e,t="",n){const{component:r,data:s,children:i}=e,o=!i||Array.isArray(i)&&!i.length,l={key:e,element:r?()=>Y(r,{}):()=>{const{element:t}=e;return void 0===t&&n?Y(n,{}):t},preload:e.component?r.preload:e.preload,data:s};return Ue(e.path).reduce(((e,n)=>{for(const r of qe(n)){const n=Ie(t,r),s=o?n:n.split("/*",1)[0];e.push({...l,originalPath:r,pattern:s,matcher:Te(s,!o)})}return e}),[])}function Ge(e,t=0){return{routes:e,score:1e4*Ee(e[e.length-1])-t,matcher(t){const n=[];for(let r=e.length-1;r>=0;r--){const s=e[r],i=s.matcher(t);if(!i)return null;n.unshift({...i,route:s})}return n}}}function Ue(e){return Array.isArray(e)?e:[e]}function He(e,t="",n,r=[],s=[]){const i=Ue(e);for(let e=0,o=i.length;e<o;e++){const o=i[e];if(o&&"object"==typeof o&&o.hasOwnProperty("path")){const e=Ke(o,t,n);for(const t of e){if(r.push(t),o.children)He(o.children,t.pattern,n,r,s);else{const e=Ge([...r],s.length);s.push(e)}r.pop()}}}return r.length?s:s.sort(((e,t)=>t.score-e.score))}function We(e,t="",n,r){const{signal:[s,i],utils:o={}}=function(e){return e?Array.isArray(e)?{signal:e}:e:{signal:y({value:""})}}(e),a=o.parsePath||(e=>e),c=o.renderPath||(e=>e),u=Ce("",t);if(void 0===u)throw new Error(`${u} is not a valid base path`);u&&!s().value&&i({value:u,replace:!0,scroll:!1});const[m,h]=[l,$],[d,f]=y(s().value),[p,g]=y(s().state),b=function(e,t){const n=new URL("http://sar"),r=M((t=>{const r=e();try{return new URL(r,n)}catch(e){return console.error(`Invalid path ${r}`),t}}),n,{equals:(e,t)=>e.href===t.href}),s=M((()=>Ne(r().pathname))),i=M((()=>Ne(r().search,!0))),o=M((()=>Ne(r().hash))),l=M((()=>""));return{get pathname(){return s()},get search(){return i()},get hash(){return o()},get state(){return t()},get key(){return l()},query:Ve(A(i,(()=>function(e){const t={};return e.searchParams.forEach(((e,n)=>{t[n]=e})),t}(r()))))}}(d,p),P=[],_={pattern:u,params:{},path:()=>u,outlet:()=>null,resolvePath:e=>Ce(u,e)};if(n)try{Be=_,_.data=n({data:void 0,params:{},location:b,navigate:k(_)})}finally{Be=void 0}function x(e,t,n){w((()=>{if("number"==typeof t)return void(t&&(o.go?o.go(t):console.warn("Router integration does not support relative routing")));const{replace:r,resolve:s,scroll:l,state:a}={replace:!1,resolve:!0,scroll:!0,...n},c=s?e.resolvePath(t):Ce("",t);if(void 0===c)throw new Error(`Path '${t}' is not a routable path`);if(P.length>=100)throw new Error("Too many redirects");const u=d();if(c!==u||a!==p()){const e=P.push({value:u,replace:r,scroll:l,state:p()});h((()=>{f(c),g(a)})).then((()=>{P.length===e&&function(e){const t=P[0];t&&(e.value===t.value&&e.state===t.state||i({...e,replace:t.replace,scroll:t.scroll}),P.length=0)}({value:c,state:a})}))}}))}function k(e){return e=e||C(Fe)||_,(t,n)=>x(e,t,n)}v((()=>{const{value:e,state:t}=s();w((()=>{e!==d()&&h((()=>{f(e),g(t)}))}))}));{function S(e){if(e.defaultPrevented||0!==e.button||e.metaKey||e.altKey||e.ctrlKey||e.shiftKey)return;const t=e.composedPath().find((e=>e instanceof Node&&"A"===e.nodeName.toUpperCase()));if(!t)return;const n="http://www.w3.org/2000/svg"===t.namespaceURI;const r=n?t.href.baseVal:t.href;if((n?t.target.baseVal:t.target)||!r&&!t.hasAttribute("state"))return;const s=(t.getAttribute("rel")||"").split(/\s+/);if(t.hasAttribute("download")||s&&s.includes("external"))return;const i=n?new URL(r,document.baseURI):new URL(r),o=Ne(i.pathname);if(i.origin!==window.location.origin||u&&o&&!o.toLowerCase().startsWith(u.toLowerCase()))return;const l=a(o+Ne(i.search,!0)+Ne(i.hash)),c=t.getAttribute("state");e.preventDefault(),x(_,l,{resolve:!1,replace:t.hasAttribute("replace"),scroll:!t.hasAttribute("noscroll"),state:c&&JSON.parse(c)})}document.addEventListener("click",S),j((()=>document.removeEventListener("click",S)))}return{base:_,out:undefined,location:b,isRouting:m,renderPath:c,parsePath:a,navigatorFactory:k}}function Ye(e,t,n,r){const{base:s,location:i,navigatorFactory:o}=e,{pattern:l,element:a,preload:c,data:u}=r().route,m=M((()=>r().path)),h=Ve((()=>r().params));c&&c();const d={parent:t,pattern:l,get child(){return n()},path:m,params:h,data:t.data,outlet:a,resolvePath:e=>Ce(s.path(),e,m())};if(u)try{Be=d,d.data=u({data:t.data,params:h,location:i,navigate:o(d)})}finally{Be=void 0}return d}const Je=ue("<a></a>"),Xe=e=>{const{source:t,url:n,base:r,data:s,out:i}=e,o=We(t||ke(),r,s);return Y(De.Provider,{value:o,get children(){return e.children}})},Qe=e=>{const t=Le(),n=Oe(),r=I((()=>e.children)),s=M((()=>He(r(),Ie(n.pattern,e.base||""),et))),i=M((()=>function(e,t){for(let n=0,r=e.length;n<r;n++){const r=e[n].matcher(t);if(r)return r}return[]}(s(),t.location.pathname)));t.out&&t.out.matches.push(i().map((({route:e,path:t,params:n})=>({originalPath:e.originalPath,pattern:e.pattern,path:t,params:n}))));const o=[];let l;const a=M(A(i,((e,r,s)=>{let c=r&&e.length===r.length;const u=[];for(let l=0,m=e.length;l<m;l++){const m=r&&r[l],h=e[l];s&&m&&h.route.key===m.route.key?u[l]=s[l]:(c=!1,o[l]&&o[l](),g((e=>{o[l]=e,u[l]=Ye(t,u[l-1]||n,(()=>a()[l+1]),(()=>i()[l]))})))}return o.splice(e.length).forEach((e=>e())),s&&c?s:(l=u[0],u)})));return Y(ne,{get when(){return a()&&l},children:e=>Y(Fe.Provider,{value:e,get children(){return e.outlet()}})})},Ze=e=>{const t=I((()=>e.children));return Z(e,{get children(){return t()}})},et=()=>{const e=Oe();return Y(ne,{get when(){return e.child},children:e=>Y(Fe.Provider,{value:e,get children(){return e.outlet()}})})};function tt(e){const[,t]=ee(e,["children","to","href","state"]),n=(e=>{const t=Le();return M((()=>{const n=e();return void 0!==n?t.renderPath(n):n}))})((()=>e.to));return(()=>{const r=Je.cloneNode(!0);var s,i,o,l;return s=r,o=!1,l=!0,"function"==typeof(i=t)?v((e=>Pe(s,i(),e,o,l))):Pe(s,i,void 0,o,l),ge(r,(()=>e.children)),v((t=>{const s=n()||e.href,i=JSON.stringify(e.state);return s!==t._v$&&he(r,"href",t._v$=s),i!==t._v$2&&he(r,"state",t._v$2=i),t}),{_v$:void 0,_v$2:void 0}),r})()}function nt(e){const t=Re((()=>e.href));return Y(tt,Z(e,{get to(){return t()}}))}function rt(e){e=Z({inactiveClass:"inactive",activeClass:"active"},e);const[,t]=ee(e,["activeClass","inactiveClass","end"]),n=ze(),r=Re((()=>e.href)),s=M((()=>{const t=r();if(void 0===t)return!1;const s=t.split(/[?#]/,1)[0].toLowerCase(),i=n.pathname.toLowerCase();return e.end?s===i:i.startsWith(s)}));return Y(tt,Z(t,{get to(){return r()},get classList(){return{[e.inactiveClass]:!s(),[e.activeClass]:s(),...t.classList}},get"aria-current"(){return s()?"page":void 0}}))}const st=e=>"Home",it={},ot=Symbol("solid-track"),lt={equals:(e,t)=>e===t};let at=St;const ct={},ut={owned:null,cleanups:null,context:null,owner:null};var mt=null;let ht=null,dt=null,ft=null,pt=null,gt=0;function yt(e,t){const n=ht,r=mt,s=0===e.length,i=s?ut:{owned:null,cleanups:null,context:null,owner:t||r},o=s?e:()=>e((()=>Nt(i)));mt=i,ht=null;try{return $t(o,!0)}finally{ht=n,mt=r}}function bt(e,t){t=t?Object.assign({},lt,t):lt;const n={value:e,observers:null,observerSlots:null,pending:ct,comparator:t.equals||void 0};return[xt.bind(n),e=>("function"==typeof e&&(e=e(n.pending!==ct?n.pending:n.value)),wt(n,e))]}function vt(e,t,n){At(kt(e,t,!1,1))}function Pt(e,t,n){n=n?Object.assign({},lt,n):lt;const r=kt(e,t,!0,0);return r.pending=ct,r.observers=null,r.observerSlots=null,r.comparator=n.equals||void 0,At(r),xt.bind(r)}function Mt(e){let t,n=ht;return ht=null,t=e(),ht=n,t}function _t(e){return null===mt||(null===mt.cleanups?mt.cleanups=[e]:mt.cleanups.push(e)),e}function xt(){if(this.sources&&this.state){const e=ft;ft=null,1===this.state?At(this):Ct(this),ft=e}if(ht){const e=this.observers?this.observers.length:0;ht.sources?(ht.sources.push(this),ht.sourceSlots.push(e)):(ht.sources=[this],ht.sourceSlots=[e]),this.observers?(this.observers.push(ht),this.observerSlots.push(ht.sources.length-1)):(this.observers=[ht],this.observerSlots=[ht.sources.length-1])}return this.value}function wt(e,t,n){if(dt)return e.pending===ct&&dt.push(e),e.pending=t,t;if(e.comparator&&e.comparator(e.value,t))return t;let r=!1;return e.value=t,e.observers&&e.observers.length&&$t((()=>{for(let t=0;t<e.observers.length;t+=1){const n=e.observers[t];r,n.state||(n.pure?ft.push(n):pt.push(n),n.observers&&It(n)),n.state=1}if(ft.length>1e6)throw ft=[],new Error}),!1),t}function At(e){if(!e.fn)return;Nt(e);const t=mt,n=ht,r=gt;ht=mt=e,function(e,t,n){let r;try{r=e.fn(t)}catch(e){Tt(e)}(!e.updatedAt||e.updatedAt<=n)&&(e.observers&&e.observers.length?wt(e,r):e.value=r,e.updatedAt=n)}(e,e.value,r),ht=n,mt=t}function kt(e,t,n,r=1,s){const i={fn:e,state:r,updatedAt:null,owned:null,sources:null,sourceSlots:null,cleanups:null,value:t,owner:mt,context:null,pure:n};return null===mt||mt!==ut&&(mt.owned?mt.owned.push(i):mt.owned=[i]),i}function jt(e){if(0===e.state)return;if(2===e.state)return Ct(e);if(e.suspense&&Mt(e.suspense.inFallback))return e.suspense.effects.push(e);const t=[e];for(;(e=e.owner)&&(!e.updatedAt||e.updatedAt<gt);)e.state&&t.push(e);for(let n=t.length-1;n>=0;n--)if(1===(e=t[n]).state)At(e);else if(2===e.state){const n=ft;ft=null,Ct(e,t[0]),ft=n}}function $t(e,t){if(ft)return e();let n=!1;t||(ft=[]),pt?n=!0:pt=[],gt++;try{const t=e();return function(e){ft&&(St(ft),ft=null);if(e)return;pt.length?function(e){if(dt)return e();let t;const n=dt=[];try{t=e()}finally{dt=null}$t((()=>{for(let e=0;e<n.length;e+=1){const t=n[e];if(t.pending!==ct){const e=t.pending;t.pending=ct,wt(t,e)}}}),!1)}((()=>{at(pt),pt=null})):pt=null}(n),t}catch(e){ft||(pt=null),Tt(e)}}function St(e){for(let t=0;t<e.length;t++)jt(e[t])}function Ct(e,t){e.state=0;for(let n=0;n<e.sources.length;n+=1){const r=e.sources[n];r.sources&&(1===r.state?r!==t&&jt(r):2===r.state&&Ct(r,t))}}function It(e){for(let t=0;t<e.observers.length;t+=1){const n=e.observers[t];n.state||(n.state=2,n.pure?ft.push(n):pt.push(n),n.observers&&It(n))}}function Nt(e){let t;if(e.sources)for(;e.sources.length;){const t=e.sources.pop(),n=e.sourceSlots.pop(),r=t.observers;if(r&&r.length){const e=r.pop(),s=t.observerSlots.pop();n<r.length&&(e.sourceSlots[s]=n,r[n]=e,t.observerSlots[n]=s)}}if(e.owned){for(t=0;t<e.owned.length;t++)Nt(e.owned[t]);e.owned=null}if(e.cleanups){for(t=0;t<e.cleanups.length;t++)e.cleanups[t]();e.cleanups=null}e.state=0,e.context=null}function Tt(e){throw e}const Et=Symbol("fallback");function Vt(e){for(let t=0;t<e.length;t++)e[t]()}function qt(e,t,n={}){let r=[],s=[],i=[],o=0,l=t.length>1?[]:null;return _t((()=>Vt(i))),()=>{let a,c,u=e()||[];return u[ot],Mt((()=>{let e,t,h,d,f,p,g,y,b,v=u.length;if(0===v)0!==o&&(Vt(i),i=[],r=[],s=[],o=0,l&&(l=[])),n.fallback&&(r=[Et],s[0]=yt((e=>(i[0]=e,n.fallback()))),o=1);else if(0===o){for(s=new Array(v),c=0;c<v;c++)r[c]=u[c],s[c]=yt(m);o=v}else{for(h=new Array(v),d=new Array(v),l&&(f=new Array(v)),p=0,g=Math.min(o,v);p<g&&r[p]===u[p];p++);for(g=o-1,y=v-1;g>=p&&y>=p&&r[g]===u[y];g--,y--)h[y]=s[g],d[y]=i[g],l&&(f[y]=l[g]);for(e=new Map,t=new Array(y+1),c=y;c>=p;c--)b=u[c],a=e.get(b),t[c]=void 0===a?-1:a,e.set(b,c);for(a=p;a<=g;a++)b=r[a],c=e.get(b),void 0!==c&&-1!==c?(h[c]=s[a],d[c]=i[a],l&&(f[c]=l[a]),c=t[c],e.set(b,c)):i[a]();for(c=p;c<v;c++)c in h?(s[c]=h[c],i[c]=d[c],l&&(l[c]=f[c],l[c](c))):s[c]=yt(m);s=s.slice(0,o=v),r=u.slice(0)}return s}));function m(e){if(i[c]=e,l){const[e,n]=bt(c);return l[c]=n,t(u[c],e)}return t(u[c])}}}function Dt(e,t){return Mt((()=>e(t||{})))}function Ft(e){const t="fallback"in e&&{fallback:()=>e.fallback};return Pt(qt((()=>e.each),e.children,t||void 0))}function Lt(e){let t=!1;const n=Pt((()=>e.when),void 0,{equals:(e,n)=>t?e===n:!e==!n});return Pt((()=>{const r=n();if(r){const n=e.children;return(t="function"==typeof n&&n.length>0)?Mt((()=>n(r))):n}return e.fallback}))}function Bt(e,t,n){const r=document.createElement("template");r.innerHTML=e;let s=r.content.firstChild;return n&&(s=s.firstChild),s}function Ot(e,t,n){null==n?e.removeAttribute(t):e.setAttribute(t,n)}function Rt(e,t){null==t?e.removeAttribute("class"):e.className=t}function zt(e,t,n={}){const r=e.style,s="string"==typeof n;if(null==t&&s||"string"==typeof t)return r.cssText=t;let i,o;for(o in s&&(r.cssText=void 0,n={}),t||(t={}),n)null==t[o]&&r.removeProperty(o),delete n[o];for(o in t)i=t[o],i!==n[o]&&(r.setProperty(o,i),n[o]=i);return n}function Kt(e,t,n,r){if(void 0===n||r||(r=[]),"function"!=typeof t)return Gt(e,t,r,n);vt((r=>Gt(e,t(),r,n)),r)}function Gt(e,t,n,r,s){for(it.context&&!n&&(n=[...e.childNodes]);"function"==typeof n;)n=n();if(t===n)return n;const i=typeof t,o=void 0!==r;if(e=o&&n[0]&&n[0].parentNode||e,"string"===i||"number"===i){if(it.context)return n;if("number"===i&&(t=t.toString()),o){let s=n[0];s&&3===s.nodeType?s.data=t:s=document.createTextNode(t),n=Wt(e,n,r,s)}else n=""!==n&&"string"==typeof n?e.firstChild.data=t:e.textContent=t}else if(null==t||"boolean"===i){if(it.context)return n;n=Wt(e,n,r)}else{if("function"===i)return vt((()=>{let s=t();for(;"function"==typeof s;)s=s();n=Gt(e,s,n,r)})),()=>n;if(Array.isArray(t)){const i=[],l=n&&Array.isArray(n);if(Ut(i,t,n,s))return vt((()=>n=Gt(e,i,n,r,!0))),()=>n;if(it.context)for(let e=0;e<i.length;e++)if(i[e].parentNode)return n=i;if(0===i.length){if(n=Wt(e,n,r),o)return n}else l?0===n.length?Ht(e,i,r):function(e,t,n){let r=n.length,s=t.length,i=r,o=0,l=0,a=t[s-1].nextSibling,c=null;for(;o<s||l<i;)if(t[o]!==n[l]){for(;t[s-1]===n[i-1];)s--,i--;if(s===o){const t=i<r?l?n[l-1].nextSibling:n[i-l]:a;for(;l<i;)e.insertBefore(n[l++],t)}else if(i===l)for(;o<s;)c&&c.has(t[o])||t[o].remove(),o++;else if(t[o]===n[i-1]&&n[l]===t[s-1]){const r=t[--s].nextSibling;e.insertBefore(n[l++],t[o++].nextSibling),e.insertBefore(n[--i],r),t[s]=n[i]}else{if(!c){c=new Map;let e=l;for(;e<i;)c.set(n[e],e++)}const r=c.get(t[o]);if(null!=r)if(l<r&&r<i){let a,u=o,m=1;for(;++u<s&&u<i&&null!=(a=c.get(t[u]))&&a===r+m;)m++;if(m>r-l){const s=t[o];for(;l<r;)e.insertBefore(n[l++],s)}else e.replaceChild(n[l++],t[o++])}else o++;else t[o++].remove()}}else o++,l++}(e,n,i):(n&&Wt(e),Ht(e,i));n=i}else if(t instanceof Node){if(it.context&&t.parentNode)return n=o?[t]:t;if(Array.isArray(n)){if(o)return n=Wt(e,n,r,t);Wt(e,n,null,t)}else null!=n&&""!==n&&e.firstChild?e.replaceChild(t,e.firstChild):e.appendChild(t);n=t}}return n}function Ut(e,t,n,r){let s=!1;for(let i=0,o=t.length;i<o;i++){let o=t[i],l=n&&n[i];if(o instanceof Node)e.push(o);else if(null==o||!0===o||!1===o);else if(Array.isArray(o))s=Ut(e,o,l)||s;else if("function"==typeof o)if(r){for(;"function"==typeof o;)o=o();s=Ut(e,Array.isArray(o)?o:[o],l)||s}else e.push(o),s=!0;else{const t=String(o);l&&3===l.nodeType&&l.data===t?e.push(l):e.push(document.createTextNode(t))}}return s}function Ht(e,t,n){for(let r=0,s=t.length;r<s;r++)e.insertBefore(t[r],n)}function Wt(e,t,n,r){if(void 0===n)return e.textContent="";const s=r||document.createTextNode("");if(t.length){let r=!1;for(let i=t.length-1;i>=0;i--){const o=t[i];if(s!==o){const t=o.parentNode===e;r||i?t&&o.remove():t?e.replaceChild(s,o):e.insertBefore(s,n)}else r=!0}}else e.insertBefore(s,n);return[s]}class Yt{static from_angle=e=>new Yt(Math.cos(e),Math.sin(e));static make=(e,t)=>new Yt(e,t);static get unit(){return new Yt(1,1)}static get zero(){return new Yt(0,0)}get vs(){return[this.x,this.y]}get mul_inverse(){return new Yt(1/this.x,1/this.y)}get inverse(){return new Yt(-this.x,-this.y)}get half(){return new Yt(this.x/2,this.y/2)}get length_squared(){return this.x*this.x+this.y*this.y}get length(){return Math.sqrt(this.length_squared)}get normalize(){return 0===this.length?Yt.zero:this.scale(1/this.length)}get perpendicular(){return new Yt(-this.y,this.x)}equals(e){return this.x===e.x&&this.y===e.y}get clone(){return new Yt(this.x,this.y)}get angle(){return Math.atan2(this.y,this.x)}constructor(e,t){this.x=e,this.y=t}dot(e){return this.x*e.x+this.y*e.y}cross(e){return this.x*e.y-this.y*e.x}project_to(e){let t=e.length_squared,n=this.dot(e);return Yt.make(n*e.x/t,n*e.y/t)}distance(e){return this.sub(e).length}addy(e){return Yt.make(this.x,this.y+e)}add_angle(e){return Yt.from_angle(this.angle+e)}scale(e){let{clone:t}=this;return t.scale_in(e)}scale_in(e){return this.x*=e,this.y*=e,this}add(e){let{clone:t}=this;return t.add_in(e)}add_in(e){return this.x+=e.x,this.y+=e.y,this}sub(e){let{clone:t}=this;return t.sub_in(e)}sub_in(e){return this.x-=e.x,this.y-=e.y,this}mul(e){let{clone:t}=this;return t.mul_in(e)}mul_in(e){return this.x*=e.x,this.y*=e.y,this}div(e){let{clone:t}=this;return t.div_in(e)}div_in(e){return this.x/=e.x,this.y/=e.y,this}set_in(e,t=this.y){return this.x=e,this.y=t,this}}function Jt(e,t){if("function"==typeof t)return e[1](t);e[1]((e=>t))}function Xt(e){return Array.isArray(e)?e[0]():e()}class Qt{onScroll(){this.ref.$clear_bounds()}get style(){return this.m_style()}set bras(e){this.sheet.bras=e}get ties(){return this.sheet.ties}get beams(){return this.sheet.beams}get stems(){return this.sheet.stems}get bars(){return this.sheet.bars}get bras(){return this.sheet.bras}get ledgers(){return this.sheet.ledgers}constructor(){this.ref=function(){let e=bt(),t=bt(void 0,{equals:!1}),n=Pt((()=>(Xt(t),Xt(e)?.scrollTop)));Pt((()=>{let e=Xt(n);if(void 0!==e)return Yt.make(0,e)}));let r=Pt((()=>(Xt(t),Xt(e)?.getBoundingClientRect()))),s=Pt((()=>{let e=r();if(e)return Yt.make(e.x,e.y)})),i=Pt((()=>{let e=r();if(e)return Yt.make(e.width,e.height)}));return{$clear_bounds(){Jt(t)},get $ref(){return Xt(e)},set $ref(t){Jt(e,t)},get rect(){return r()},get orig(){return s()},get size(){return i()},get_normal_at_abs_pos(e){let t=i(),n=s();if(t&&n)return e.sub(n).div(t)}}}(),this.m_style=Pt((()=>({"font-size":(this.ref.size?.y||0)/4+"px"}))),this.sheet=en(this),this.playback=Zt()}}const Zt=e=>{let t=bt(!1),n=bt(1),r=bt(1),s=bt(100),i=Pt((()=>({transform:`translate(${Xt(n)}em, 0)`,width:`${Xt(r)}em`}))),o=Pt((()=>({transform:`translate(${.01*Xt(r)*Xt(s)}em, 0)`})));return{get show(){if(Xt(t))return this},get line_style(){return o()},get style(){return i()},set_play(e){Jt(t,e)},set xwi(e){let[t,i,o]=e.split(",");Jt(n,t),Jt(r,i),Jt(s,o)}}},en=e=>{let t=bt([]),n=Pt(qt(t[0],(e=>((e,t)=>{let[n,r]=t.split("@"),[s,i]=r.split(","),[o,...l]=n.split(",");const a=Pt((()=>({transform:`translate(${s}em, ${i}em)`})));return{get klass(){return l.join(" ")},get glyph(){return o},get style(){return a()}}})(0,e)))),r=bt([]),s=Pt(qt(r[0],(e=>((e,t)=>{let[n,r]=t.split("@"),[s,i]=r.split(",");const o=Pt((()=>({transform:`translate(${s}em, ${i}em)`})));return{get style(){return o()}}})(0,e)))),i=bt([]),o=Pt(qt(i[0],(e=>((e,t)=>{let[n,r]=t.split("@"),[s]=r.split(",");const i=Pt((()=>({transform:`translate(${s}em, 0)`})));return{get style(){return i()}}})(0,e)))),l=bt([]),a=Pt(qt(l[0],(e=>((e,t)=>{let[n,r]=t.split("@"),[s,i,o]=r.split(",");const l=Pt((()=>({transform:`translate(${s}em, ${i}em)`,height:`${o}em`})));return{set xwi(e){let[t,n,r]=e.split(",");Jt(_x,t),Jt(_w,n),Jt(_i,r)},get style(){return l()}}})(0,e)))),c=bt([]),u=Pt(qt(c[0],(e=>((e,t)=>{let[n,r]=t.split("@"),[s,i,o]=r.split(",");o-=i;const l=Pt((()=>({transform:`translate(${s}em, ${i}em)`})));return{get y2(){return 100*o},get style(){return l()}}})(0,e)))),m=bt([]),h=Pt(qt(m[0],(e=>((e,t)=>{let[n,r]=t.split("@"),[s,i,o]=r.split(",");o-=s,o*=100,o=20;const l=Pt((()=>({transform:`translate(${s}em, ${i}em)`})));return{x2:o,klass:n,get style(){return l()}}})(0,e))));return{set ties(e){Jt(m,e)},get ties(){return h()},set beams(e){Jt(c,e)},get beams(){return u()},set stems(e){Jt(l,e)},get stems(){return a()},set bars(e){Jt(i,e)},get bars(){return o()},get ledgers(){return s()},set ledgers(e){Jt(r,e)},get bras(){return n()},set bras(e){Jt(t,e)}}};var tn={barline_single:"",barline_double:"",barline_final:"",quarter_text:"",gclef:"",bclef:"",double_note:"",whole_note:"",half_note:"",quarter_note:"",flat_accidental:"",natural_accidental:"",sharp_accidental:"",dflat_accidental:"",dsharp_accidental:"",eighth_flag_up:"",sixteenth_flag_up:"",thirtysecond_flag_up:"",sixtyfourth_flag_up:"",eighth_flag_down:"",sixteenth_flag_down:"",thirtysecond_flag_down:"",sixtyfourth_flag_down:"",brace:"",double_rest:"",whole_rest:"",half_rest:"",quarter_rest:"",eighth_rest:"",sixteenth_rest:"",thirtysecond_rest:"",sixtyfourth_rest:"",onetwentyeighth_rest:"",zero_time:"",one_time:"",two_time:"",three_time:"",four_time:"",five_time:"",six_time:"",seven_time:"",eight_time:"",nine_time:"",ten_time:"",twelve_time:"",common_time:"",cut_time:""};const nn=Bt("<vstaff><staff><lines> <line></line> <line></line> <line></line> <line></line> <line></line> </lines><ledgers></ledgers><bravura></bravura></staff></vstaff>"),rn=Bt('<div class="playback"><span class="cursor"><span class="line"></span></span></div>'),sn=Bt("<ledger></ledger>"),on=Bt("<bar></bar>"),ln=Bt("<stem></stem>"),an=Bt("<bra></bra>"),cn=Bt('<tie><svg width="1em" height="1em" viewBox="0 0 100 100"><path></path></svg></tie>'),un=Bt('<beam><svg width="1em" height="1em" viewBox="0 0 100 100"><path></path></svg></beam>');function mn(e,t,n,r){return e.addEventListener(t,n,r),()=>e.removeEventListener(t,n,r)}const hn=e=>(()=>{const t=cn.cloneNode(!0),n=t.firstChild.firstChild;return vt((r=>{const s=e.klass,i=e.style,o=`M 0 ${.5*(l=e.x2)} c ${l} -${.5*l}    ${4*l} -${.5*l}    ${5*l} 0\n    -${l} -${.5*l-4} -${4*l} -${.5*l-4} -${5*l} 0`;var l;return s!==r._v$5&&Rt(t,r._v$5=s),r._v$6=zt(t,i,r._v$6),o!==r._v$7&&Ot(n,"d",r._v$7=o),r}),{_v$5:void 0,_v$6:void 0,_v$7:void 0}),t})(),dn=e=>(e.y2,(()=>{const t=un.cloneNode(!0),n=t.firstChild.firstChild;return vt((r=>{const s=e.style,i=(o=100,l=e.y2,`M0,10L0,0L${o},${l}L${o},${l+10}L0,10`);var o,l;return r._v$8=zt(t,s,r._v$8),i!==r._v$9&&Ot(n,"d",r._v$9=i),r}),{_v$8:void 0,_v$9:void 0}),t})());function fn(e,t={}){let n=new Qt(e);return function(e,t,n){let r;yt((s=>{r=s,t===document?e():Kt(t,e(),t.firstChild?null:void 0,n)}))}((e=>t=>{let n=[];return n.push(mn(document,"scroll",(()=>e.onScroll()),{capture:!0,passive:!0})),n.push(mn(window,"resize",(()=>e.onScroll()),{passive:!0})),_t((()=>n.forEach((e=>e())))),(()=>{const t=nn.cloneNode(!0),n=t.firstChild,r=n.firstChild,s=r.nextSibling,i=s.nextSibling;var o;return o=t,setTimeout((()=>e.ref.$ref=o)),Kt(n,Dt(Lt,{get when(){return e.playback.show},children:e=>(()=>{const t=rn.cloneNode(!0),n=t.firstChild,r=n.firstChild;return vt((t=>{const s=e.style,i=e.line_style;return t._v$=zt(n,s,t._v$),t._v$2=zt(r,i,t._v$2),t}),{_v$:void 0,_v$2:void 0}),t})()}),r),Kt(s,Dt(Ft,{get each(){return e.ledgers},children:e=>(()=>{const t=sn.cloneNode(!0);return vt((n=>zt(t,e.style,n))),t})()}),null),Kt(s,Dt(Ft,{get each(){return e.bars},children:e=>(()=>{const t=on.cloneNode(!0);return vt((n=>zt(t,e.style,n))),t})()}),null),Kt(s,Dt(Ft,{get each(){return e.stems},children:e=>(()=>{const t=ln.cloneNode(!0);return vt((n=>zt(t,e.style,n))),t})()}),null),Kt(s,Dt(Ft,{get each(){return e.beams},children:e=>Dt(dn,{get style(){return e.style},get y2(){return e.y2}})}),null),Kt(s,Dt(Ft,{get each(){return e.ties},children:e=>Dt(hn,{get klass(){return e.klass},get style(){return e.style},get x2(){return e.x2}})}),null),Kt(i,Dt(Ft,{get each(){return e.bras},children:e=>(()=>{const t=an.cloneNode(!0);return Kt(t,(()=>tn[e.glyph])),vt((n=>{const r=e.klass,s=e.style;return r!==n._v$3&&Rt(t,n._v$3=r),n._v$4=zt(t,s,n._v$4),n}),{_v$3:void 0,_v$4:void 0}),t})()})),vt((n=>zt(t,e.style,n))),t})()})(n),e),{sheet:n.sheet,set bras(e){n.bras=e},set xwi(e){n.playback.xwi=e},set playback(e){n.playback.set_play(e)}}}var pn="",gn="";class yn{static from_angle=e=>new yn(Math.cos(e),Math.sin(e));static make=(e,t)=>new yn(e,t);static get unit(){return new yn(1,1)}static get zero(){return new yn(0,0)}get vs(){return[this.x,this.y]}get mul_inverse(){return new yn(1/this.x,1/this.y)}get inverse(){return new yn(-this.x,-this.y)}get half(){return new yn(this.x/2,this.y/2)}get length_squared(){return this.x*this.x+this.y*this.y}get length(){return Math.sqrt(this.length_squared)}get normalize(){return 0===this.length?yn.zero:this.scale(1/this.length)}get perpendicular(){return new yn(-this.y,this.x)}equals(e){return this.x===e.x&&this.y===e.y}get clone(){return new yn(this.x,this.y)}get angle(){return Math.atan2(this.y,this.x)}constructor(e,t){this.x=e,this.y=t}dot(e){return this.x*e.x+this.y*e.y}cross(e){return this.x*e.y-this.y*e.x}project_to(e){let t=e.length_squared,n=this.dot(e);return yn.make(n*e.x/t,n*e.y/t)}distance(e){return this.sub(e).length}addy(e){return yn.make(this.x,this.y+e)}add_angle(e){return yn.from_angle(this.angle+e)}scale(e){let{clone:t}=this;return t.scale_in(e)}scale_in(e){return this.x*=e,this.y*=e,this}add(e){let{clone:t}=this;return t.add_in(e)}add_in(e){return this.x+=e.x,this.y+=e.y,this}sub(e){let{clone:t}=this;return t.sub_in(e)}sub_in(e){return this.x-=e.x,this.y-=e.y,this}mul(e){let{clone:t}=this;return t.mul_in(e)}mul_in(e){return this.x*=e.x,this.y*=e.y,this}div(e){let{clone:t}=this;return t.div_in(e)}div_in(e){return this.x/=e.x,this.y/=e.y,this}set_in(e,t=this.y){return this.x=e,this.y=t,this}}function bn(e){let t,n,r=1e3/60,s=r;return t=requestAnimationFrame((function i(o){let l=n?o-n:r;l=Math.min(33.333333333333336,Math.max(16.666666666666668,l)),e(l,s)||(s=l,n=o,t=requestAnimationFrame(i))})),()=>{cancelAnimationFrame(t)}}function vn(e,t){if("function"==typeof t)return e[1](t);e[1]((e=>t))}function Pn(e,t){return e[1]((e=>(t(e),e)))}function Mn(e){return Array.isArray(e)?e[0]():e()}class _n{_set_data(e){return this.data=e,this}get maxFilterFreq(){return this.context.sampleRate/2}constructor(e){this.context=e}attack(e=this.context.currentTime){let{context:t}=this;this._out_gain=t.createGain(),this._out_gain.gain.setValueAtTime(1,e);let n=t.createDynamicsCompressor();return n.threshold.setValueAtTime(-60,t.currentTime),n.knee.setValueAtTime(40,t.currentTime),n.ratio.setValueAtTime(12,t.currentTime),n.attack.setValueAtTime(0,t.currentTime),n.release.setValueAtTime(.25,t.currentTime),this._out_gain.connect(n),n.connect(t.destination),this._attack(e),this}release(e=this.context.currentTime){return this._release(e),this}}function xn(e,t,{a:n,d:r,s:s,r:i},o,l){e.setValueAtTime(o,t),e.linearRampToValueAtTime(l,t+n),e.linearRampToValueAtTime(s,t+n+r)}function wn(e,t,{s:n,r:r},s){e.cancelAndHoldAtTime(t),e.setValueAtTime(n,t),e.linearRampToValueAtTime(s,t+(r||0))}class An{constructor(e){this.context=e}get currentTime(){return this.context.currentTime}async init(e){let{srcs:t,base_url:n}=e,r=await Promise.all(Object.keys(t).map((e=>{return(r=n+t[e],fetch(r).then((e=>e.arrayBuffer()))).then((e=>{return t=this.context,n=e,t.decodeAudioData(n);var t,n})).then((t=>[e,t]));var r})));this._buffers=new Map(r)}_ps=new Map;attack(e,t,n=this.context.currentTime){let r=this._buffers.get(t),s=new kn(this.context,r)._set_data({synth:e});s.attack(n),this._ps.set(t,s)}release(e,t=this.context.currentTime){let n=this._ps.get(e);n&&(n.release(t),this._ps.delete(e))}}class kn extends _n{constructor(e,t){super(e),this.buffer=t}_attack(e=this.context.currentTime){let{context:t,buffer:n}=this,{synth:{adsr:r}}=this.data,s=t.createGain();s.connect(this._out_gain),this.source_mix=s;let i=t.createBufferSource();this.source=i,i.buffer=n,i.connect(s),xn(s.gain,e,r,0,1),i.start()}_release(e=this.context.currentTime){let{synth:{adsr:t}}=this.data;wn(this.source_mix.gain,e,t,0),this.source.stop(e+t.r)}}const jn=(e,t)=>Array(Math.abs(t)+1).join(e);function $n(e){return null!==e&&"object"==typeof e&&"string"==typeof e.name}function Sn(e){return null!==e&&"object"==typeof e&&"number"==typeof e.step&&"number"==typeof e.alt}const Cn=[0,2,4,-1,1,3,5],In=Cn.map((e=>Math.floor(7*e/12)));function Nn(e){const{step:t,alt:n,oct:r,dir:s=1}=e,i=Cn[t]+7*n;if(void 0===r)return[s*i];return[s*i,s*(r-In[t]-4*n)]}const Tn=[3,0,4,1,5,2,6];const En={empty:!0,name:"",pc:"",acc:""},Vn=new Map,qn=e=>e<0?jn("b",-e):jn("#",e),Dn=e=>"b"===e[0]?-e.length:e.length;function Fn(e){const t=Vn.get(e);if(t)return t;const n="string"==typeof e?function(e){const t=function(e){const t=Ln.exec(e);return[t[1].toUpperCase(),t[2].replace(/x/g,"##"),t[3],t[4]]}(e);if(""===t[0]||""!==t[3])return En;const n=t[0],r=t[1],s=t[2],i=(n.charCodeAt(0)+3)%7,o=Dn(r),l=s.length?+s:void 0,a=Nn({step:i,alt:o,oct:l}),c=n+r+s,u=n+r,m=(On[i]+o+120)%12,h=void 0===l?(p=On[i]+o,g=12,(p%g+g)%g-1188):On[i]+o+12*(l+1),d=h>=0&&h<=127?h:null,f=void 0===l?null:440*Math.pow(2,(h-69)/12);var p,g;return{empty:!1,acc:r,alt:o,chroma:m,coord:a,freq:f,height:h,letter:n,midi:d,name:c,oct:l,pc:u,step:i}}(e):Sn(e)?Fn(function(e){const{step:t,alt:n,oct:r}=e,s=(e=>"CDEFGAB".charAt(e))(t);if(!s)return"";const i=s+qn(n);return r||0===r?i+r:i}(e)):$n(e)?Fn(e.name):En;return Vn.set(e,n),n}const Ln=/^([a-gA-G]?)(#{1,}|b{1,}|x{1,}|)(-?\d*)\s*(.*)$/;function Bn(e){return Fn(function(e){const[t,n,r]=e,s=Tn[function(e){const t=(e+1)%7;return t<0?7+t:t}(t)],i=Math.floor((t+1)/7);return void 0===n?{step:s,alt:i,dir:r}:{step:s,alt:i,oct:n+4*i+In[s],dir:r}}(e))}const On=[0,2,4,5,7,9,11];const Rn={empty:!0,name:"",acc:""},zn=new RegExp("^([-+]?\\d+)(d{1,4}|m|M|P|A{1,4})|(AA|A|P|M|m|d|dd)([-+]?\\d+)$");const Kn={};function Gn(e){return"string"==typeof e?Kn[e]||(Kn[e]=function(e){const t=function(e){const t=zn.exec(`${e}`);return null===t?["",""]:t[1]?[t[1],t[2]]:[t[4],t[3]]}(e);if(""===t[0])return Rn;const n=+t[0],r=t[1],s=(Math.abs(n)-1)%7,i=Hn[s];if("M"===i&&"P"===r)return Rn;const o="M"===i?"majorable":"perfectable",l=""+n+r,a=n<0?-1:1,c=8===n||-8===n?n:a*(s+1),u=function(e,t){return"M"===t&&"majorable"===e||"P"===t&&"perfectable"===e?0:"m"===t&&"majorable"===e?-1:/^A+$/.test(t)?t.length:/^d+$/.test(t)?-1*("perfectable"===e?t.length:t.length+1):0}(o,r),m=Math.floor((Math.abs(n)-1)/7),h=a*(Un[s]+u+12*m),d=(a*(Un[s]+u)%12+12)%12,f=Nn({step:s,alt:u,oct:m,dir:a});return{empty:!1,name:l,num:n,q:r,step:s,alt:u,dir:a,type:o,simple:c,semitones:h,chroma:d,coord:f,oct:m}}(e)):Sn(e)?Gn(function(e){const{step:t,alt:n,oct:r=0,dir:s}=e;if(!s)return"";const i=t+1+7*r;return(s<0?"-":"")+(0===i?t+1:i)+function(e,t){return 0===t?"majorable"===e?"M":"P":-1===t&&"majorable"===e?"m":t>0?jn("A",t):jn("d","perfectable"===e?t:t+1)}("M"===Hn[t]?"majorable":"perfectable",n)}(e)):$n(e)?Gn(e.name):Rn}const Un=[0,2,4,5,7,9,11],Hn="PMMPPMM";function Wn(e,t){const n=Fn(e),r=Gn(t);if(n.empty||r.empty)return"";const s=n.coord,i=r.coord;return Bn(1===s.length?[s[0]+i[0]]:[s[0]+i[0],s[1]+i[1]]).name}function Yn(e,t){const n=t.length,r=(e%n+n)%n;return t.slice(r,n).concat(t.slice(0,r))}const Jn={empty:!0,name:"",setNum:0,chroma:"000000000000",normalized:"000000000000",intervals:[]},Xn=e=>Number(e).toString(2),Qn=e=>parseInt(e,2),Zn=/^[01]{12}$/;function er(e){return Zn.test(e)}const tr={[Jn.chroma]:Jn};function nr(e){const t=er(e)?e:"number"==typeof(n=e)&&n>=0&&n<=4095?Xn(e):Array.isArray(e)?function(e){if(0===e.length)return Jn.chroma;let t;const n=[0,0,0,0,0,0,0,0,0,0,0,0];for(let r=0;r<e.length;r++)t=Fn(e[r]),t.empty&&(t=Gn(e[r])),t.empty||(n[t.chroma]=1);return n.join("")}(e):(e=>e&&er(e.chroma))(e)?e.chroma:Jn.chroma;var n;return tr[t]=tr[t]||function(e){const t=Qn(e),n=function(e){const t=e.split("");return t.map(((e,n)=>Yn(n,t).join("")))}(e).map(Qn).filter((e=>e>=2048)).sort()[0],r=Xn(n),s=function(e){const t=[];for(let n=0;n<12;n++)"1"===e.charAt(n)&&t.push(rr[n]);return t}(e);return{empty:!1,name:"",setNum:t,chroma:e,normalized:r,intervals:s}}(t)}const rr=["1P","2m","2M","3m","3M","4P","5d","5P","6m","6M","7m","7M"];let sr=[],ir={};function or(e,t,n){const r=function(e){const t=t=>-1!==e.indexOf(t);return t("5A")?"Augmented":t("3M")?"Major":t("5d")?"Diminished":t("3m")?"Minor":"Unknown"}(e),s={...nr(e),name:n||"",quality:r,intervals:e,aliases:t};sr.push(s),s.name&&(ir[s.name]=s),ir[s.setNum]=s,ir[s.chroma]=s,s.aliases.forEach((e=>function(e,t){ir[t]=e}(s,e)))}[["1P 3M 5P","major","M ^ "],["1P 3M 5P 7M","major seventh","maj7 Δ ma7 M7 Maj7 ^7"],["1P 3M 5P 7M 9M","major ninth","maj9 Δ9 ^9"],["1P 3M 5P 7M 9M 13M","major thirteenth","maj13 Maj13 ^13"],["1P 3M 5P 6M","sixth","6 add6 add13 M6"],["1P 3M 5P 6M 9M","sixth/ninth","6/9 69 M69"],["1P 3M 6m 7M","major seventh flat sixth","M7b6 ^7b6"],["1P 3M 5P 7M 11A","major seventh sharp eleventh","maj#4 Δ#4 Δ#11 M7#11 ^7#11 maj7#11"],["1P 3m 5P","minor","m min -"],["1P 3m 5P 7m","minor seventh","m7 min7 mi7 -7"],["1P 3m 5P 7M","minor/major seventh","m/ma7 m/maj7 mM7 mMaj7 m/M7 -Δ7 mΔ -^7"],["1P 3m 5P 6M","minor sixth","m6 -6"],["1P 3m 5P 7m 9M","minor ninth","m9 -9"],["1P 3m 5P 7M 9M","minor/major ninth","mM9 mMaj9 -^9"],["1P 3m 5P 7m 9M 11P","minor eleventh","m11 -11"],["1P 3m 5P 7m 9M 13M","minor thirteenth","m13 -13"],["1P 3m 5d","diminished","dim ° o"],["1P 3m 5d 7d","diminished seventh","dim7 °7 o7"],["1P 3m 5d 7m","half-diminished","m7b5 ø -7b5 h7 h"],["1P 3M 5P 7m","dominant seventh","7 dom"],["1P 3M 5P 7m 9M","dominant ninth","9"],["1P 3M 5P 7m 9M 13M","dominant thirteenth","13"],["1P 3M 5P 7m 11A","lydian dominant seventh","7#11 7#4"],["1P 3M 5P 7m 9m","dominant flat ninth","7b9"],["1P 3M 5P 7m 9A","dominant sharp ninth","7#9"],["1P 3M 7m 9m","altered","alt7"],["1P 4P 5P","suspended fourth","sus4 sus"],["1P 2M 5P","suspended second","sus2"],["1P 4P 5P 7m","suspended fourth seventh","7sus4 7sus"],["1P 5P 7m 9M 11P","eleventh","11"],["1P 4P 5P 7m 9m","suspended fourth flat ninth","b9sus phryg 7b9sus 7b9sus4"],["1P 5P","fifth","5"],["1P 3M 5A","augmented","aug + +5 ^#5"],["1P 3m 5A","minor augmented","m#5 -#5 m+"],["1P 3M 5A 7M","augmented seventh","maj7#5 maj7+5 +maj7 ^7#5"],["1P 3M 5P 7M 9M 11A","major sharp eleventh (lydian)","maj9#11 Δ9#11 ^9#11"],["1P 2M 4P 5P","","sus24 sus4add9"],["1P 3M 5A 7M 9M","","maj9#5 Maj9#5"],["1P 3M 5A 7m","","7#5 +7 7+ 7aug aug7"],["1P 3M 5A 7m 9A","","7#5#9 7#9#5 7alt"],["1P 3M 5A 7m 9M","","9#5 9+"],["1P 3M 5A 7m 9M 11A","","9#5#11"],["1P 3M 5A 7m 9m","","7#5b9 7b9#5"],["1P 3M 5A 7m 9m 11A","","7#5b9#11"],["1P 3M 5A 9A","","+add#9"],["1P 3M 5A 9M","","M#5add9 +add9"],["1P 3M 5P 6M 11A","","M6#11 M6b5 6#11 6b5"],["1P 3M 5P 6M 7M 9M","","M7add13"],["1P 3M 5P 6M 9M 11A","","69#11"],["1P 3m 5P 6M 9M","","m69 -69"],["1P 3M 5P 6m 7m","","7b6"],["1P 3M 5P 7M 9A 11A","","maj7#9#11"],["1P 3M 5P 7M 9M 11A 13M","","M13#11 maj13#11 M13+4 M13#4"],["1P 3M 5P 7M 9m","","M7b9"],["1P 3M 5P 7m 11A 13m","","7#11b13 7b5b13"],["1P 3M 5P 7m 13M","","7add6 67 7add13"],["1P 3M 5P 7m 9A 11A","","7#9#11 7b5#9 7#9b5"],["1P 3M 5P 7m 9A 11A 13M","","13#9#11"],["1P 3M 5P 7m 9A 11A 13m","","7#9#11b13"],["1P 3M 5P 7m 9A 13M","","13#9"],["1P 3M 5P 7m 9A 13m","","7#9b13"],["1P 3M 5P 7m 9M 11A","","9#11 9+4 9#4"],["1P 3M 5P 7m 9M 11A 13M","","13#11 13+4 13#4"],["1P 3M 5P 7m 9M 11A 13m","","9#11b13 9b5b13"],["1P 3M 5P 7m 9m 11A","","7b9#11 7b5b9 7b9b5"],["1P 3M 5P 7m 9m 11A 13M","","13b9#11"],["1P 3M 5P 7m 9m 11A 13m","","7b9b13#11 7b9#11b13 7b5b9b13"],["1P 3M 5P 7m 9m 13M","","13b9"],["1P 3M 5P 7m 9m 13m","","7b9b13"],["1P 3M 5P 7m 9m 9A","","7b9#9"],["1P 3M 5P 9M","","Madd9 2 add9 add2"],["1P 3M 5P 9m","","Maddb9"],["1P 3M 5d","","Mb5"],["1P 3M 5d 6M 7m 9M","","13b5"],["1P 3M 5d 7M","","M7b5"],["1P 3M 5d 7M 9M","","M9b5"],["1P 3M 5d 7m","","7b5"],["1P 3M 5d 7m 9M","","9b5"],["1P 3M 7m","","7no5"],["1P 3M 7m 13m","","7b13"],["1P 3M 7m 9M","","9no5"],["1P 3M 7m 9M 13M","","13no5"],["1P 3M 7m 9M 13m","","9b13"],["1P 3m 4P 5P","","madd4"],["1P 3m 5P 6m 7M","","mMaj7b6"],["1P 3m 5P 6m 7M 9M","","mMaj9b6"],["1P 3m 5P 7m 11P","","m7add11 m7add4"],["1P 3m 5P 9M","","madd9"],["1P 3m 5d 6M 7M","","o7M7"],["1P 3m 5d 7M","","oM7"],["1P 3m 6m 7M","","mb6M7"],["1P 3m 6m 7m","","m7#5"],["1P 3m 6m 7m 9M","","m9#5"],["1P 3m 5A 7m 9M 11P","","m11A"],["1P 3m 6m 9m","","mb6b9"],["1P 2M 3m 5d 7m","","m9b5"],["1P 4P 5A 7M","","M7#5sus4"],["1P 4P 5A 7M 9M","","M9#5sus4"],["1P 4P 5A 7m","","7#5sus4"],["1P 4P 5P 7M","","M7sus4"],["1P 4P 5P 7M 9M","","M9sus4"],["1P 4P 5P 7m 9M","","9sus4 9sus"],["1P 4P 5P 7m 9M 13M","","13sus4 13sus"],["1P 4P 5P 7m 9m 13m","","7sus4b9b13 7b9b13sus4"],["1P 4P 7m 10m","","4 quartal"],["1P 5P 7m 9m 11P","","11b9"]].forEach((([e,t,n])=>or(e.split(" "),n.split(" "),t))),sr.sort(((e,t)=>e.setNum-t.setNum));const lr={...Jn,intervals:[],aliases:[]};let ar={};function cr(e,t,n=[]){const r={...nr(e),name:t,intervals:e,aliases:n};return ar[r.name]=r,ar[r.setNum]=r,ar[r.chroma]=r,r.aliases.forEach((e=>function(e,t){ar[t]=e}(r,e))),r}function ur(e){if(+(t=e)>=0&&+t<=127)return+e;var t;const n=Fn(e);return n.empty?null:n.midi}[["1P 2M 3M 5P 6M","major pentatonic","pentatonic"],["1P 3M 4P 5P 7M","ionian pentatonic"],["1P 3M 4P 5P 7m","mixolydian pentatonic","indian"],["1P 2M 4P 5P 6M","ritusen"],["1P 2M 4P 5P 7m","egyptian"],["1P 3M 4P 5d 7m","neopolitan major pentatonic"],["1P 3m 4P 5P 6m","vietnamese 1"],["1P 2m 3m 5P 6m","pelog"],["1P 2m 4P 5P 6m","kumoijoshi"],["1P 2M 3m 5P 6m","hirajoshi"],["1P 2m 4P 5d 7m","iwato"],["1P 2m 4P 5P 7m","in-sen"],["1P 3M 4A 5P 7M","lydian pentatonic","chinese"],["1P 3m 4P 6m 7m","malkos raga"],["1P 3m 4P 5d 7m","locrian pentatonic","minor seven flat five pentatonic"],["1P 3m 4P 5P 7m","minor pentatonic","vietnamese 2"],["1P 3m 4P 5P 6M","minor six pentatonic"],["1P 2M 3m 5P 6M","flat three pentatonic","kumoi"],["1P 2M 3M 5P 6m","flat six pentatonic"],["1P 2m 3M 5P 6M","scriabin"],["1P 3M 5d 6m 7m","whole tone pentatonic"],["1P 3M 4A 5A 7M","lydian #5P pentatonic"],["1P 3M 4A 5P 7m","lydian dominant pentatonic"],["1P 3m 4P 5P 7M","minor #7M pentatonic"],["1P 3m 4d 5d 7m","super locrian pentatonic"],["1P 2M 3m 4P 5P 7M","minor hexatonic"],["1P 2A 3M 5P 5A 7M","augmented"],["1P 2M 3m 3M 5P 6M","major blues"],["1P 2M 4P 5P 6M 7m","piongio"],["1P 2m 3M 4A 6M 7m","prometheus neopolitan"],["1P 2M 3M 4A 6M 7m","prometheus"],["1P 2m 3M 5d 6m 7m","mystery #1"],["1P 2m 3M 4P 5A 6M","six tone symmetric"],["1P 2M 3M 4A 5A 7m","whole tone","messiaen's mode #1"],["1P 2m 4P 4A 5P 7M","messiaen's mode #5"],["1P 3m 4P 5d 5P 7m","minor blues","blues"],["1P 2M 3M 4P 5d 6m 7m","locrian major","arabian"],["1P 2m 3M 4A 5P 6m 7M","double harmonic lydian"],["1P 2M 3m 4P 5P 6m 7M","harmonic minor"],["1P 2m 2A 3M 4A 6m 7m","altered","super locrian","diminished whole tone","pomeroy"],["1P 2M 3m 4P 5d 6m 7m","locrian #2","half-diminished","aeolian b5"],["1P 2M 3M 4P 5P 6m 7m","mixolydian b6","melodic minor fifth mode","hindu"],["1P 2M 3M 4A 5P 6M 7m","lydian dominant","lydian b7","overtone"],["1P 2M 3M 4A 5P 6M 7M","lydian"],["1P 2M 3M 4A 5A 6M 7M","lydian augmented"],["1P 2m 3m 4P 5P 6M 7m","dorian b2","phrygian #6","melodic minor second mode"],["1P 2M 3m 4P 5P 6M 7M","melodic minor"],["1P 2m 3m 4P 5d 6m 7m","locrian"],["1P 2m 3m 4d 5d 6m 7d","ultralocrian","superlocrian bb7","superlocrian diminished"],["1P 2m 3m 4P 5d 6M 7m","locrian 6","locrian natural 6","locrian sharp 6"],["1P 2A 3M 4P 5P 5A 7M","augmented heptatonic"],["1P 2M 3m 4A 5P 6M 7m","dorian #4","ukrainian dorian","romanian minor","altered dorian"],["1P 2M 3m 4A 5P 6M 7M","lydian diminished"],["1P 2m 3m 4P 5P 6m 7m","phrygian"],["1P 2M 3M 4A 5A 7m 7M","leading whole tone"],["1P 2M 3M 4A 5P 6m 7m","lydian minor"],["1P 2m 3M 4P 5P 6m 7m","phrygian dominant","spanish","phrygian major"],["1P 2m 3m 4P 5P 6m 7M","balinese"],["1P 2m 3m 4P 5P 6M 7M","neopolitan major"],["1P 2M 3m 4P 5P 6m 7m","aeolian","minor"],["1P 2M 3M 4P 5P 6m 7M","harmonic major"],["1P 2m 3M 4P 5P 6m 7M","double harmonic major","gypsy"],["1P 2M 3m 4P 5P 6M 7m","dorian"],["1P 2M 3m 4A 5P 6m 7M","hungarian minor"],["1P 2A 3M 4A 5P 6M 7m","hungarian major"],["1P 2m 3M 4P 5d 6M 7m","oriental"],["1P 2m 3m 3M 4A 5P 7m","flamenco"],["1P 2m 3m 4A 5P 6m 7M","todi raga"],["1P 2M 3M 4P 5P 6M 7m","mixolydian","dominant"],["1P 2m 3M 4P 5d 6m 7M","persian"],["1P 2M 3M 4P 5P 6M 7M","major","ionian"],["1P 2m 3M 5d 6m 7m 7M","enigmatic"],["1P 2M 3M 4P 5A 6M 7M","major augmented","major #5","ionian augmented","ionian #5"],["1P 2A 3M 4A 5P 6M 7M","lydian #9"],["1P 2m 2M 4P 4A 5P 6m 7M","messiaen's mode #4"],["1P 2m 3M 4P 4A 5P 6m 7M","purvi raga"],["1P 2m 3m 3M 4P 5P 6m 7m","spanish heptatonic"],["1P 2M 3M 4P 5P 6M 7m 7M","bebop"],["1P 2M 3m 3M 4P 5P 6M 7m","bebop minor"],["1P 2M 3M 4P 5P 5A 6M 7M","bebop major"],["1P 2m 3m 4P 5d 5P 6m 7m","bebop locrian"],["1P 2M 3m 4P 5P 6m 7m 7M","minor bebop"],["1P 2M 3m 4P 5d 6m 6M 7M","diminished","whole-half diminished"],["1P 2M 3M 4P 5d 5P 6M 7M","ichikosucho"],["1P 2M 3m 4P 5P 6m 6M 7M","minor six diminished"],["1P 2m 3m 3M 4A 5P 6M 7m","half-whole diminished","dominant diminished","messiaen's mode #2"],["1P 3m 3M 4P 5P 6M 7m 7M","kafi raga"],["1P 2M 3M 4P 4A 5A 6A 7M","messiaen's mode #6"],["1P 2M 3m 3M 4P 5d 5P 6M 7m","composite blues"],["1P 2M 3m 3M 4A 5P 6m 7m 7M","messiaen's mode #3"],["1P 2m 2M 3m 4P 4A 5P 6m 6M 7M","messiaen's mode #7"],["1P 2m 2M 3m 3M 4P 5d 5P 6m 6M 7m 7M","chromatic"]].forEach((([e,t,...n])=>cr(e.split(" "),t,n)));const mr=Math.log(2),hr=Math.log(440);function dr(e){const t=12*(Math.log(e)-hr)/mr+69;return Math.round(100*t)/100}const fr="C C# D D# E F F# G G# A A# B".split(" "),pr="C Db D Eb E F Gb G Ab A Bb B".split(" ");function gr(e,t={}){if(isNaN(e)||e===-1/0||e===1/0)return"";e=Math.round(e);const n=(!0===t.sharps?fr:pr)[e%12];if(t.pitchClass)return n;return n+(Math.floor(e/12)-1)}const yr=["C","D","E","F","G","A","B"],br=e=>e.name,vr=e=>e.map(Fn).filter((e=>!e.empty));const Pr=Fn;const Mr=Wn,_r=e=>t=>Mr(t,e),xr=e=>t=>Mr(e,t);function wr(e,t){const n=Pr(e);if(n.empty)return"";const[r,s]=n.coord;return Bn(void 0===s?[r+t]:[r+t,s]).name}const Ar=(e,t)=>e.height-t.height;function kr(e,t){return t=t||Ar,vr(e).sort(t).map(br)}var jr={names:function(e){return void 0===e?yr.slice():Array.isArray(e)?vr(e).map(br):[]},get:Pr,name:e=>Pr(e).name,pitchClass:e=>Pr(e).pc,accidentals:e=>Pr(e).acc,octave:e=>Pr(e).oct,midi:e=>Pr(e).midi,ascending:Ar,descending:(e,t)=>t.height-e.height,sortedNames:kr,sortedUniqNames:function(e){return kr(e,Ar).filter(((e,t,n)=>0===t||e!==n[t-1]))},fromMidi:function(e){return gr(e)},fromMidiSharps:function(e){return gr(e,{sharps:!0})},freq:e=>Pr(e).freq,fromFreq:function(e){return gr(dr(e))},fromFreqSharps:function(e){return gr(dr(e),{sharps:!0})},chroma:e=>Pr(e).chroma,transpose:Mr,tr:Wn,transposeBy:_r,trBy:_r,transposeFrom:xr,trFrom:xr,transposeFifths:wr,trFifths:wr,simplify:e=>{const t=Pr(e);return t.empty?"":gr(t.midi||t.chroma,{sharps:t.alt>0,pitchClass:null===t.midi})},enharmonic:function(e,t){const n=Pr(e);if(n.empty)return"";const r=Pr(t||gr(n.midi||n.chroma,{sharps:n.alt<0,pitchClass:!0}));if(r.empty||r.chroma!==n.chroma)return"";if(void 0===n.oct)return r.pc;const s=n.chroma-n.alt,i=r.chroma-r.alt,o=s>11||i<0?-1:s<0||i>11?1:0,l=n.oct+o;return r.pc+l}};const $r={empty:!0,name:"",chordType:""},Sr={};function Cr(e){return"string"==typeof e?Sr[e]||(Sr[e]=function(e){const[t,n,r,s]=(i=e,Ir.exec(i)||["","","",""]);var i;if(!r)return $r;const o=r.toUpperCase(),l=Nr.indexOf(o),a=Dn(n),c=1;return{empty:!1,name:t,roman:r,interval:Gn({step:l,alt:a,dir:c}).name,acc:n,chordType:s,alt:a,step:l,major:r===o,oct:0,dir:c}}(e)):"number"==typeof e?Cr(Nr[e]||""):Sn(e)?Cr(qn((t=e).alt)+Nr[t.step]):$n(e)?Cr(e.name):$r;var t}const Ir=/^(#{1,}|b{1,}|x{1,}|)(IV|I{1,3}|VI{0,2}|iv|i{1,3}|vi{0,2})([^IViv]*)$/;const Nr="I II III IV V VI VII".split(" ");const Tr=Object.freeze([]),Er={type:"major",tonic:"",alteration:0,keySignature:""},Vr={tonic:"",grades:Tr,intervals:Tr,scale:Tr,chords:Tr,chordsHarmonicFunction:Tr,chordScales:Tr},qr={...Er,...Vr,type:"major",minorRelative:"",scale:Tr,secondaryDominants:Tr,secondaryDominantsMinorRelative:Tr,substituteDominants:Tr,substituteDominantsMinorRelative:Tr},Dr={...Er,type:"minor",relativeMajor:"",natural:Vr,harmonic:Vr,melodic:Vr},Fr=(e,t,n="")=>t.map(((t,r)=>`${e[r]}${n}${t}`));function Lr(e,t,n,r){return s=>{const i=e.map((e=>Cr(e).interval||"")),o=i.map((e=>Wn(s,e)));return{tonic:s,grades:e,intervals:i,scale:o,chords:Fr(o,t),chordsHarmonicFunction:n.slice(),chordScales:Fr(o,r," ")}}}const Br=(e,t)=>{const n=Fn(e),r=Fn(t);return n.empty||r.empty?0:r.coord[0]-n.coord[0]},Or=Lr("I II III IV V VI VII".split(" "),"maj7 m7 m7 maj7 7 m7 m7b5".split(" "),"T SD T SD D T D".split(" "),"major,dorian,phrygian,lydian,mixolydian,minor,locrian".split(",")),Rr=Lr("I II bIII IV V bVI bVII".split(" "),"m7 m7b5 maj7 m7 m7 maj7 7".split(" "),"T SD T SD D SD SD".split(" "),"minor,locrian,major,dorian,phrygian,lydian,mixolydian".split(",")),zr=Lr("I II bIII IV V bVI VII".split(" "),"mMaj7 m7b5 +maj7 m7 7 maj7 o7".split(" "),"T SD T SD D SD D".split(" "),"harmonic minor,locrian 6,major augmented,lydian diminished,phrygian dominant,lydian #9,ultralocrian".split(",")),Kr=Lr("I II bIII IV V VI VII".split(" "),"m6 m7 +maj7 7 7 m7b5 m7b5".split(" "),"T SD T SD D  ".split(" "),"melodic minor,dorian b2,lydian augmented,lydian dominant,mixolydian b6,locrian #2,altered".split(","));var Gr={majorKey:function(e){const t=Fn(e).pc;if(!t)return qr;const n=Or(t),r=Br("C",t),s=t=>{const n=Cr(t);return n.empty?"":Wn(e,n.interval)+n.chordType};return{...n,type:"major",minorRelative:Wn(t,"-3m"),alteration:r,keySignature:qn(r),secondaryDominants:"- VI7 VII7 I7 II7 III7 -".split(" ").map(s),secondaryDominantsMinorRelative:"- IIIm7b5 IV#m7 Vm7 VIm7 VIIm7b5 -".split(" ").map(s),substituteDominants:"- bIII7 IV7 bV7 bVI7 bVII7 -".split(" ").map(s),substituteDominantsMinorRelative:"- IIIm7 Im7 IIbm7 VIm7 IVm7 -".split(" ").map(s)}},majorTonicFromKeySignature:function(e){return"number"==typeof e?wr("C",e):"string"==typeof e&&/^b+|#+$/.test(e)?wr("C",Dn(e)):null},minorKey:function(e){const t=Fn(e).pc;if(!t)return Dr;const n=Br("C",t)-3;return{type:"minor",tonic:t,relativeMajor:Wn(t,"3m"),alteration:n,keySignature:qn(n),natural:Rr(t),harmonic:zr(t),melodic:Kr(t)}}};const Ur=[[0,2773,0,"ionian","","Maj7","major"],[1,2902,2,"dorian","m","m7"],[2,3418,4,"phrygian","m","m7"],[3,2741,-1,"lydian","","Maj7"],[4,2774,1,"mixolydian","","7"],[5,2906,3,"aeolian","m","m7","minor"],[6,3434,5,"locrian","dim","m7b5"]],Hr={...Jn,name:"",alt:0,modeNum:NaN,triad:"",seventh:"",aliases:[]},Wr=Ur.map((function(e){const[t,n,r,s,i,o,l]=e,a=l?[l]:[],c=Number(n).toString(2);return{empty:!1,intervals:(u=s,ar[u]||lr).intervals,modeNum:t,chroma:c,normalized:c,name:s,setNum:n,alt:r,triad:i,seventh:o,aliases:a};var u})),Yr={};function Jr(e){return"string"==typeof e?Yr[e.toLowerCase()]||Hr:e&&e.name?Jr(e.name):Hr}function Xr(e){return(t,n)=>{const r=Jr(t);if(r.empty)return[];const s=Yn(r.modeNum,e),i=r.intervals.map((e=>Wn(n,e)));return s.map(((e,t)=>i[t]+e))}}function Qr(e){const t=e.map(ur).filter((e=>0===e||e));return e.length&&t.length===e.length?t.reduce(((e,t)=>{const n=e[e.length-1];return e.concat((r=n,s=t,r<s?function(e,t){const n=[];for(;t--;n[t]=t+e);return n}(r,s-r+1):function(e,t){const n=[];for(;t--;n[t]=e-t);return n}(r,r-s+1)).slice(1));var r,s}),[t[0]]):[]}Wr.forEach((e=>{Yr[e.name]=e,e.aliases.forEach((t=>{Yr[t]=e}))})),Xr(Ur.map((e=>e[4]))),Xr(Ur.map((e=>e[5])));var Zr={numeric:Qr,chromatic:function(e,t){return Qr(e).map((e=>gr(e,t)))}};const es=Zr.numeric(["C3","C6"]).map(jr.fromMidi),ts=e=>{let t=jr.get(e);return t.empty?jr.fromMidi(e):jr.fromFreq(t.freq)},ns=e=>jr.enharmonic(e),rs=[...Array(7)].reduce(((e,t)=>[...e,Wn(e[e.length-1],"P5")]),["C"]),ss=[...Array(7)].reduce(((e,t)=>[...e,Wn(e[e.length-1],"P4")]),["C"]),is=e=>Gr.majorKey(e);class os{constructor(e){this.context=e}get currentTime(){return this.context.currentTime}async init(e){}_ps=new Map;attack(e,t,n=this.context.currentTime){let r=new as(this.context,(s=t,jr.get(s).freq))._set_data({synth:e});var s;r.attack(n),this._ps.set(t,r)}release(e,t=this.context.currentTime){let n=this._ps.get(e);n&&(n.release(t),this._ps.delete(e))}}function ls(e,t,n=0){return new OscillatorNode(e,{type:t,detune:n})}class as extends _n{constructor(e,t){super(e),this.freq=t}_attack(e=this.context.currentTime){let{context:t,maxFilterFreq:n}=this,{_out_gain:r,freq:s}=this,{synth:i}=this.data,{wave:o,volume:l,cutoff:a,cutoff_max:c,amplitude:u,filter_adsr:m,amp_adsr:h}=i,d=ls(t,o,15);this.osc1=d;let f=ls(t,o,-15);this.osc2=f;let p=t.createGain(),g=t.createGain();d.connect(p),f.connect(g),p.gain.setValueAtTime(1,e),g.gain.setValueAtTime(1,e);let y=new BiquadFilterNode(t,{type:"lowpass",Q:6});this.filter=y,p.connect(y),g.connect(y),r.gain.setValueAtTime(l,e),d.frequency.setValueAtTime(s,e),f.frequency.setValueAtTime(s,e);let b=new GainNode(t);this.envelope=b,y.connect(b),b.connect(r);let v={...m,s:a*n*.4+m.s*c*n*.6};xn(y.frequency,e,v,a*n*.4,a*n*.4+c*n*.6),xn(b.gain,e,h,0,u),d.start(e),f.start(e)}_release(e=this.context.currentTime){let{synth:{cutoff:t,filter_adsr:n,amp_adsr:r}}=this.data;wn(this.envelope.gain,e,r,0),wn(this.filter.frequency,e,n,t*this.maxFilterFreq*.4);let{a:s,r:i}=r;this.osc1.stop(e+s+i),this.osc2.stop(e+s+i)}}const cs=(()=>{let e;return{get context(){return e||(e=new AudioContext),e}}})(),us=async e=>{if(e){let e={};es.forEach((t=>e[t]=`${t}.mp3`));let t=new An(cs.context);return await t.init({srcs:e,base_url:"./assets/audio/"}),t}},ms=async e=>{if(e){let e=new os(cs.context);return await e.init(),e}};class hs{onClick(){}onScroll(){this.ref.$clear_bounds()}user_click(){vn(this._user_click,!0)}get osc_player(){return Mn(this.r_opc)}get player(){return Mn(this.r_pc)}constructor(){this._user_click=y(!1),this.r_pc=_(this._user_click[0],us),this.r_opc=_(this._user_click[0],ms),this.ref=function(){let e=y(),t=y(void 0,{equals:!1}),n=M((()=>(Mn(t),Mn(e)?.scrollTop)));M((()=>{let e=Mn(n);if(void 0!==e)return yn.make(0,e)}));let r=M((()=>(Mn(t),Mn(e)?.getBoundingClientRect()))),s=M((()=>{let e=r();if(e)return yn.make(e.x,e.y)})),i=M((()=>{let e=r();if(e)return yn.make(e.width,e.height)}));return{$clear_bounds(){vn(t)},get $ref(){return Mn(e)},set $ref(t){vn(e,t)},get rect(){return r()},get orig(){return s()},get size(){return i()},get_normal_at_abs_pos(e){let t=i(),n=s();if(t&&n)return e.sub(n).div(t)}}}()}}const ds=S();function fs(e){let t=new hs(e.options);return Y(ds.Provider,{value:t,get children(){return e.children}})}const ps=()=>C(ds),gs=1e3/60,ys=60*gs,bs=30*gs;class vs{_just_on=!1;_just_off=!1;_been_on=void 0;get just_on(){return this._just_on}get been_on(){return this._been_on}get just_off(){return this._just_off}_on(){this._just_on=!0}_off(){this._just_off=!0}update(e,t){void 0!==this._been_on&&(this._been_on+=e),this._just_on&&(this._just_on=!1,this._been_on=0),this._just_off&&(this._just_off=!1,this._been_on=void 0)}}let Ps=(new class{clear(){this._jpr=new Map}_jpr=new Map;get just_ons(){let{_jpr:e}=this;return[...e.keys()].filter((t=>e.get(t).just_on))}get been_ons(){let{_jpr:e}=this;return[...e.keys()].filter((t=>void 0!==e.get(t).been_on)).map((t=>[t,e.get(t).been_on]))}get just_offs(){let{_jpr:e}=this;return[...e.keys()].filter((t=>e.get(t).just_off))}noteOn(e,t){this._jpr.has(e)||this._jpr.set(e,new vs),this._jpr.get(e)._on()}noteOff(e){this._jpr.has(e)||this._jpr.set(e,new vs),this._jpr.get(e)._off()}update(e,t){for(let[n,r]of this._jpr)r.update(e,t)}init(){const e=(e,n)=>{0!==n?this.noteOn(e,n):t(e)},t=e=>{this.noteOff(e)},n=n=>{let r=n.data;r[0],r[0];let s=240&r[0],i=r[1],o=r[2];switch(s){case 144:e(i,o);break;case 128:t(i)}};return navigator.requestMIDIAccess({sysex:!0}).then((e=>{let t=e.inputs.values();for(let e=t.next();e&&!e.done;e=t.next())e.value.onmidimessage=n})),this}}).init();const Ms=e=>{Ps.clear();let t=bn(((t,n)=>{let{just_ons:r,just_offs:s}=Ps;r.length>0&&e.just_ons(r.map((e=>e))),s.length>0&&e.just_offs(s.map((e=>e))),Ps.update(t,n)}));return{dispose(){Ps.clear(),t()}}},_s=(e=>{let t={get:t=>e.getItem(t),set:(t,n)=>e.setItem(t,n),remove:t=>e.removeItem(t),make:e=>({get:()=>t.get(e),set:n=>t.set(e,n),remove:()=>t.remove(e)})};return t})(window.localStorage),xs=(e,t,n)=>{let r=_s.make(e),s=y(parseInt(r.get())||t,n);return P(A(s[0],((e,t)=>{void 0===e?r.remove():r.set(e)}))),s};class ws{get player(){return Mn(this.solsido.r_pc)}user_click(){this.solsido.user_click()}constructor(e){this.solsido=e,this._exercises=js(this),this._majors=Fs(this),this.major_playback=Cs(this),this.major_you=Ss(this)}}const As=(e,t)=>{let n=[[...rs,...ss.slice(1,8)],rs,ss][t].slice(0);return 0===e&&function(e){for(var t=e.length-1;t>0;t--){var n=Math.floor(Math.random()*(t+1));[e[t],e[n]]=[e[n],e[t]]}}(n),e=>{let t=void 0===e?0:n.indexOf(e)+1;return n[t%n.length]}},ks=(()=>{const e=(e,t)=>[e,t].join("_");let t={},n=[0,1,2];return[0,1].forEach((r=>n.forEach((n=>{let s=e(r,n);t[s]=xs(s,0)})))),n=>{let[r,s,i]=n;return t[e(s,i)]}})(),js=e=>{let t=y(!0),n=xs("time",0),r=xs("order",0),s=xs("nb",0),i=xs("hints",0),o=y(),l=M((()=>{let t=Mn(o);if(t)return((e,t)=>{let[n,r,s,i]=t,o=1===i,l=ks(t),a=y(),c=As(r,s),u=["Challenge","Free"],m=["","Sorted"],h=["","Sharps","Flats"],d=y(0),f=y(),p=y(0),g=bn(((e,t)=>{vn(p,(t=>t+e))})),b=M((()=>{let e=Mn(f);if(e)return Mn(p)-e<bs})),v=M((()=>{let e=Mn(p);return(0===n?Math.max(0,120*ys-e):e)/1e3}));j((()=>{g()}));let _=M((()=>["you"])),x=M((()=>[b()?"red":""])),w=y(),k=y(c()),$=M((()=>is(Mn(k)))),S=M((()=>qs($().scale))),C=M((()=>Vs($().keySignature))),I=M((()=>C().length)),N=M((()=>1.3-I()/8*.3)),T=M((()=>S().map((e=>$().scale.find((t=>t[0]===e[0]))+e[1])))),E=M((()=>["gclef@0.2,0",...C(),...o?S().map(((e,t)=>`whole_note,ghost@${t*N()+.3*I()+1.5},${.125*Es(e)}`)):[]])),V=y([],{equals:!1}),q=M((()=>Mn(V).map(((e,t)=>`whole_note,live@${t*N()+.3*I()+1.5},${.125*Es(e)}`)))),D={get result(){return Mn(a)},get score(){return Mn(d)},get score_klass(){return x()},get time(){return v()},get show_hints(){return o},set playing_note(e){vn(w,e)},get bras(){return[...E(),...q()]},get klass(){return _()},get majorKey(){return $()},get header(){return[u[n],m[r],h[s]].join(" ")},cancel(){e._exercises.cancel()}};return P(A(V[0],(e=>{if(8===e.length){let e=c(Mn(k));e&&(vn(d,(e=>e+1)),vn(k,e),vn(V,[]))}}))),P(A(w[0],((e,t)=>{if(!t&&e){let t=T()[Mn(V).length],n=(t===e||ns(t)===e)&&t;if(n){let e=n,t=e[0]+e[e.length-1];Pn(V,(e=>e.push(t)))}else vn(f,Mn(p)),vn(V,[])}}))),P(A(v,((t,n)=>{if(t-n<0&&0===t){let t=Mn(l),n=Mn(d),r=Math.max(t,n);vn(a,r),vn(l,(e=>r)),e.major_you.stop_major(D)}}))),D})(e,t)}));P(A(l,((t,n)=>{t?e.major_you.play_major(t):n&&e.major_you.stop_major(n)})));let a=M((()=>[Mn(n),Mn(r),Mn(s),Mn(i)]));return{get explanations(){return Mn(t)},get dton(){return a()},get current(){return l()},start(l){vn(t,!1),vn(n,l[0]),vn(r,l[1]),vn(s,l[2]),vn(i,l[3]),vn(o,l),e.user_click()},cancel(){vn(o,void 0)}}};let $s={adsr:{a:0,d:.1,s:.8,r:.6}};const Ss=e=>{let t=y();return P(A(t[0],(t=>{if(t){let n=Ms({just_ons(n){let{player:r}=e;n.forEach((e=>r?.attack($s,ts(e)))),t.playing_note=ts(n[0])},just_offs(n){let{player:r}=e;n.forEach((e=>r?.release(ts(e)))),t.playing_note=void 0}});j((()=>{n.dispose()}))}}))),{play_major(e){vn(t,e)},stop_major(e){vn(t,(t=>t===e?void 0:t))}}},Cs=e=>{let t=y(),n=250;return P(A(t[0],(t=>{if(t){let r,s,i=-1,o=0,l=bn(((l,a)=>{o+=l;let{player:c}=e;if(o>=n)if(o-=n,i+=1,i>=8)i-=9;else{[r,s]=t.xw_at(i);let e=ts(t.notes[i]);c?.attack($s,e),c?.release(e,c.currentTime+(n-o)/1e3)}i>-1&&(t.xwi=`${r},${s},${o/n*100}`)}));j((()=>{l(),t.xwi="0,0,0"}))}}))),{play_major(e){vn(t,e)},stop_major(e){vn(t,(t=>t===e?void 0:t))}}};let Is={"#":"sharp_accidental",b:"flat_accidental"},Ns={undefined:[],"#":["F5","C5","G5","D5","A4","E5","B4"],b:["B4","E5","A4","D5","G5","C5","F5"]},Ts="B3 C4 D4 E4 F4 G4 A4 B4 C5 D5 E5 F5 G5 A5 B5 C6".split(" ");const Es=e=>Ts.indexOf("G4")-Ts.indexOf(e),Vs=e=>{let t=e[0],n=e.length;return Ns[t].slice(0,n).map(((e,n)=>`${Is[t]}@${.3*n+1.2},${.125*Es(e)}`))},qs=e=>{let t=Ts.findIndex((t=>t[0]===e[0][0]));return Ts.slice(t,t+e.length+1)},Ds=(e,t)=>{let n=is(t),r=qs(n.scale),s=Vs(n.keySignature),i=s.length,o=1.3-i/8*.3,l=["gclef@0.2,0",...s,...r.map(((e,t)=>`whole_note@${t*o+.3*i+1.5},${.125*Es(e)}`))],a=r.map((e=>n.scale.find((t=>t[0]===e[0]))+e[1])),c=y(!1),u=y(!1),m=y("0,0,0"),h=M((()=>[Mn(u)?"you":"",Mn(c)?"playback":""])),d=y(),f=M((()=>{let e=Mn(d);if(!e)return[];let t=a.find((t=>t===e||ns(t)===e)),n=t||e,r=n[0]+n[n.length-1];return[`whole_note,live,${t?"green":"red"}@${8*o+.3*i+1.5},${.125*Es(r)}`]})),p={get klass(){return h()},get majorKey(){return n},get bras(){return[...l,...f()]},get notes(){return a},set playing_note(e){vn(d,e)},xw_at(e){let t=l.findIndex((e=>e.match("whole_note"))),n=0,r=l.findIndex((t=>t.match("whole_note")&&n++===e)),s=l[t],i=l[t+1],o=l[r],a=s.split("@")[1].split(",")[0],c=i.split("@")[1].split(",")[0],u=o.split("@")[1].split(",")[0];return[parseFloat(u),parseFloat(c)-parseFloat(a)]},get play_mode(){return Mn(c)?"stop":"play"},get you_mode(){return Mn(u)?"stop":"you"},set_play(e){vn(c,(t=>!!e&&!t))},set_you(e){vn(u,(t=>!!e&&!t))},click_play(){e.user_click(),e._majors.majors.forEach((e=>e.set_play(e===this)))},click_you(){e.user_click(),e._majors.majors.forEach((e=>e.set_you(e===this)))},get you(){return Mn(u)},get playback(){return Mn(c)},set xwi(e){vn(m,e)},get xwi(){return Mn(m)}};return P(A(u[0],((t,n)=>{t?e.major_you.play_major(p):n&&e.major_you.stop_major(p)}))),P(A(c[0],((t,n)=>{t?e.major_playback.play_major(p):n&&e.major_playback.stop_major(p)}))),p},Fs=e=>{let t=rs.slice(1).map((t=>Ds(e,t))),n=ss.slice(1).map((t=>Ds(e,t))),r=Ds(e,rs[0]);return{get majors(){return[...t,...n,r]},get c_major(){return r},get sharps_flats_zipped(){return t.map(((e,t)=>[n[t],e]))}}},Ls=ue("<div></div>"),Bs=e=>{let t;return k((()=>{let n=fn(t);P((()=>{n.bras=e.bras})),P((()=>{n.xwi=e.xwi||""})),P((()=>{n.playback=e.playback}))})),(()=>{const e=Ls.cloneNode(!0);return"function"==typeof t?t(e):t=e,e})()},Os=ue("<main></main>"),Rs=ue("<h2> Major Key Exercise </h2>"),zs=ue('<div class="key-exercise"><div> <!> </div></div>'),Ks=ue('<span class="action icon">Start</span>'),Gs=ue('<div class="key-explanation"><p>You can memorize major key signatures with this exercise.</p><p>Play the given key signature using your MIDI keyboard.</p><p>You have 2 minutes to play as much as you can.</p><p> Also, play and practice individual scales at where they are listed below. </p><p>Try these extra challenges:</p><ul><li>Spot the patterns that emerge from sharp side, and flat side.</li><li>Play with five fingers with the fingering techniques.</li><li>Say the notes as you play them.</li><li>Play without looking at the piano.</li></ul></div>'),Us=ue('<div class="key-current"><span class="icon small">Restart</span><div class="box flex"><h4></h4></div><div class="scores"><div class="box status"><h4>High Score</h4><span></span></div></div></div>'),Hs=ue('<h3> <span class="major-type"></span> </h3>'),Ws=ue('<div class="key-current"><span class="icon small">Restart</span><div class="box flex"><h4></h4></div><div class="scores"><div class="box status"><h4>Score</h4><span></span></div><div class="box status"><h4> Time </h4><span></span></div></div><div class="major status"></div></div>'),Ys=ue('<div class="key-controls"><group class="radio"><div><input id="time_min" name="time" type="radio"><label for="time_min">2 Minutes</label></div><div><input id="time_no" name="time" type="radio"><label for="time_no">No time</label></div></group><group class="radio"><div><input id="order_random" name="order" type="radio"><label for="order_random">Random</label></div><div><input id="order_sorted" name="order" type="radio"><label for="order_sorted">Sorted</label></div></group><group class="radio"><div><input id="nb_all" name="nb" type="radio"><label for="nb_all">All</label></div><div><input id="nb_sharps" name="nb" type="radio"><label for="nb_sharps">Sharps</label></div><div><input id="nb_flats" name="nb" type="radio"><label for="nb_flats">Flats</label></div></group><div class="switch"><div><input id="use_hints" name="use_hints" type="checkbox"><label for="use_hints">Show Hints</label></div></div></div>'),Js=ue("<h2> Major Key Signatures </h2>"),Xs=ue('<div class="key-signatures"><div> <!> </div></div>'),Qs=ue("<div></div>"),Zs=ue('<div class="cmajor-exercise"><div></div></div>'),ei=ue('<div class="cmajor"><div class="header"><h3> <span class="major-type"></span> </h3><div class="controls"></div></div><div><div> </div></div></div>'),ti=ue('<span class="bra"></span>'),ni=ue('<span class="icon"></span>');let ri,si,ii,oi,li,ai,ci,ui;const mi=e=>{let t=new ws(ps());return(()=>{const e=Os.cloneNode(!0);return ge(e,Y(hi,{get exercises(){return t._exercises}}),null),ge(e,Y(yi,{get majors(){return t._majors}}),null),e})()},hi=e=>[Rs.cloneNode(!0),Y(ne,{get when(){return e.exercises.explanations},get children(){return Y(di,{})}}),Y(ne,{get when(){return e.exercises.current},get fallback(){return[(()=>{const t=Ks.cloneNode(!0);return t.$$click=()=>e.exercises.start([...[[ri,si],[ii,oi],[li,ai,ci]].map((e=>e.findIndex((e=>e.checked)))),ui.checked?1:0]),t})(),Y(gi,{get exercises(){return e.exercises}})]},children:e=>Y(ne,{get when(){return void 0!==e.result},get fallback(){return Y(pi,{current:e})},get children(){return Y(fi,{current:e})}})}),(()=>{const t=zs.cloneNode(!0),n=t.firstChild,r=n.firstChild.nextSibling;return r.nextSibling,ge(n,Y(bi,{get current(){return e.exercises.current}}),r),t})()],di=e=>Gs.cloneNode(!0),fi=e=>(()=>{const t=Us.cloneNode(!0),n=t.firstChild,r=n.nextSibling,s=r.firstChild,i=r.nextSibling.firstChild.firstChild.nextSibling;return n.$$click=()=>e.current.cancel(),ge(s,(()=>e.current.header)),ge(i,(()=>e.current.result)),v((()=>de(i,e.current.score_klass))),t})(),pi=e=>(()=>{const t=Ws.cloneNode(!0),n=t.firstChild,r=n.nextSibling,s=r.firstChild,i=r.nextSibling,o=i.firstChild,l=o.firstChild.nextSibling,a=o.nextSibling.firstChild.nextSibling,c=i.nextSibling;return n.$$click=()=>e.current.cancel(),ge(s,(()=>e.current.header)),ge(l,(()=>e.current.score)),ge(a,(()=>{return t=e.current.time,n=parseInt(t,10),r=Math.floor(n/60),(s=n-60*r)<10&&(s="0"+s),r+":"+s;var t,n,r,s})),ge(c,Y(ne,{get when(){return e.current.show_hints},get children(){const t=Hs.cloneNode(!0),n=t.firstChild,r=n.nextSibling;return ge(t,(()=>Y(Mi,{get tonic(){return e.current.majorKey.tonic}})),n),ge(r,(()=>e.current.majorKey.type)),t}})),v((()=>de(l,e.current.score_klass))),t})(),gi=e=>{let t=e.exercises;return(()=>{const e=Ys.cloneNode(!0),n=e.firstChild,r=n.firstChild,s=r.firstChild,i=r.nextSibling.firstChild,o=n.nextSibling,l=o.firstChild,a=l.firstChild,c=l.nextSibling.firstChild,u=o.nextSibling,m=u.firstChild,h=m.firstChild,d=m.nextSibling,f=d.firstChild,p=d.nextSibling.firstChild,g=u.nextSibling.firstChild.firstChild;"function"==typeof ri?ri(s):ri=s;"function"==typeof si?si(i):si=i;"function"==typeof ii?ii(a):ii=a;"function"==typeof oi?oi(c):oi=c;"function"==typeof li?li(h):li=h;"function"==typeof ai?ai(f):ai=f;"function"==typeof ci?ci(p):ci=p;return"function"==typeof ui?ui(g):ui=g,v((()=>s.checked=0===t.dton[0])),v((()=>i.checked=1===t.dton[0])),v((()=>a.checked=0===t.dton[1])),v((()=>c.checked=1===t.dton[1])),v((()=>h.checked=0===t.dton[2])),v((()=>f.checked=1===t.dton[2])),v((()=>p.checked=2===t.dton[2])),v((()=>g.checked=1===t.dton[3])),e})()},yi=e=>[Js.cloneNode(!0),(()=>{const t=Xs.cloneNode(!0),n=t.firstChild,r=n.firstChild.nextSibling;return r.nextSibling,ge(n,Y(Pi,{get major(){return e.majors.c_major}}),r),ge(t,Y(te,{get each(){return e.majors.sharps_flats_zipped},children:e=>(()=>{const t=Qs.cloneNode(!0);return ge(t,Y(Pi,{get major(){return e[0]}}),null),ge(t,Y(Pi,{get major(){return e[1]}}),null),t})()}),null),t})()],bi=e=>(()=>{const t=Zs.cloneNode(!0),n=t.firstChild;return ge(n,Y(Bs,Z((()=>e.current)))),v((()=>de(n,["major-staff",e.current?.klass||""].join(" ")))),t})(),vi={you:"You Play",stop:"Stop"},Pi=e=>{let t;k((()=>{let n=fn(t);P((()=>{n.bras=e.major.bras})),P((()=>{n.xwi=e.major.xwi})),P((()=>{n.playback=e.major.playback}))}));let n=y(!1);return(()=>{const r=ei.cloneNode(!0),s=r.firstChild,i=s.firstChild,o=i.firstChild,l=o.nextSibling,a=i.nextSibling,c=s.nextSibling,u=c.firstChild;r.$$mouseover=e=>vn(n,!0),r.addEventListener("mouseleave",(e=>vn(n,!1))),ge(i,(()=>Y(Mi,{get tonic(){return e.major.majorKey.tonic}})),o),ge(l,(()=>e.major.majorKey.type)),ge(a,Y(ne,{get when(){return Mn(n)},get children(){return[Y(xi,{onClick:t=>e.major.click_play(),get title(){return e.major.play_mode},get children(){return e.major.play_mode}}),Y(xi,{onClick:t=>e.major.click_you(),get title(){return vi[e.major.you_mode]},get children(){return e.major.you_mode}})]}}));return"function"==typeof t?t(u):t=u,v((()=>de(c,["major-staff",...e.major.klass].join(" ")))),r})()},Mi=e=>{return[(t=()=>e.tonic[0],M(t,void 0,n?void 0:{equals:n})),Y(ne,{get when(){return"b"===e.tonic[1]},get children(){const e=ti.cloneNode(!0);return ge(e,(()=>pn)),e}}),Y(ne,{get when(){return"#"===e.tonic[1]},get children(){const e=ti.cloneNode(!0);return ge(e,(()=>gn)),e}})];var t,n},xi=e=>(()=>{const t=ni.cloneNode(!0);return fe(t,"click",e.onClick,!0),ge(t,(()=>e.children)),v((()=>he(t,"title",e.title))),t})();me(["click","mouseover"]);const wi=(e,t=120)=>{let n=y(t),r=M((()=>6e4/Mn(n))),s=y(4),i=M((()=>Mn(r)/Mn(s))),o=y(-4*e-1),l=y(20),a=M((()=>Mn(l)-20)),c=bn(((e,t)=>{let n=Mn(l),r=i();n+e+20>r?x((()=>{vn(l,(t=>t-r+e)),vn(o,(e=>e+1))})):vn(l,(t=>t+e))}));return j((()=>{c()})),{get bpm(){return Mn(n)},set bpm(e){vn(n,Math.max(20,e))},get beat_ms(){return[Mn(o),a(),a()/i(),Mn(s)]},get ms_per_sub(){return i()}}},Ai=(e,t,n)=>{let r=y({wave:"sawtooth",volume:1,cutoff:.2,cutoff_max:.4,amplitude:1,filter_adsr:{a:.1,d:.1,s:0,r:0},amp_adsr:{a:.1,d:.1,s:.2,r:.02}}),s=y([0,16]),i=M((()=>n().map((e=>{let[t,n]=e.split("@"),[r,s]=n.split(",");return[t,parseInt(r),parseInt(s),-1]}))));return P((()=>{let{on_sub:n}=t;if(n){let[o,l]=n,[a,c]=Mn(s),u=o%(c-a)+a,m=i().filter((e=>e[1]===u&&e[3]!==o)),h=e(),{bpm:d}=t;h&&d&&m.forEach((e=>{let[t,n,s]=e,i=s*d.ms_per_sub;h.attack(Mn(r),t,h.currentTime-l/1e3),h.release(t,h.currentTime+(-l+i)/1e3),e[3]=o}))}})),{set loop(e){vn(s,e)},set synth(e){vn(r,e)}}};let ki=[20,30,60,90,120,180,200,400],ji=[1,2,3,4];class $i{constructor(e){this.solsido=e,this._exercises=Si(this)}}const Si=e=>({yardstick:Ci(e)}),Ci=e=>{let{solsido:t}=e,n=y(4),r=((e,t)=>{let n=y(!1),r=M((()=>{if(Mn(n))return wi(e(),120)})),s=M((()=>{let e=r()?.beat_ms;if(e){let[t,n,r,s]=e;if(r<0)return e}}));return{get on_sub(){return s()},get bpm(){return r()},set bpm(e){let t=r();t&&(t.bpm=e)},set playing(e){vn(n,e)},get playing(){return Mn(n)}}})(M((()=>Mn(n)))),s=M((()=>t.osc_player)),i=M((()=>(r.playing,r.bpm,["D5@-16,2","D5@0,2"]))),o=M((()=>(r.playing,r.bpm,["F4@-12,2","A4@-8,2","F4@-4,2","F4@4,2","A4@8,2","F4@12,2"]))),l=Ai(s,r,i),a=Ai(s,r,o);P((()=>{let e=Mn(n);l.loop=[0,4*e],a.loop=[0,4*e]})),l.synth={wave:"sine",volume:1,cutoff:.2,cutoff_max:.4,amplitude:1,filter_adsr:{a:0,d:.03,s:0,r:0},amp_adsr:{a:.01,d:.02,s:0,r:0}},a.synth={wave:"sine",volume:1,cutoff:.2,cutoff_max:.4,amplitude:1,filter_adsr:{a:.02,d:.02,s:0,r:0},amp_adsr:{a:.01,d:.01,s:0,r:.02}};let c=M((()=>{let e=r.bpm?.beat_ms;if(e){let[t,n,r,s]=e;return(t+r)/s}})),u=M((()=>{if(c()<0)return-10;let e=Mn(n),t=e/2;return((c()-t)%e+t)/e})),m=M((()=>{let e=Mn(n),t=e/2;return((c()+t)%e-t)/e})),h=[...Array(193).keys()].map((t=>Ei(e,t,n))),d=M((()=>({left:48*u()*4*100/193+"%"}))),f=M((()=>({left:48*m()*4*100/193+"%"}))),p=M((e=>r.bpm?.bpm||e)),g=y([],{equals:!1}),b=M((()=>Mn(g).map((t=>Ii(e,t))))),v={adsr:{a:0,d:.1,s:.05,r:.6}};P(A((()=>r.playing),(e=>{e&&(Ms({just_ons(e){let{player:r}=t;e.slice(-1).forEach((e=>r?.attack(v,ts(e))));let s=Mn(n);Pn(g,(e=>e.push(c()%s/s)))},just_offs(e){let{player:n}=t;e.forEach((e=>n?.release(ts(e))))}}),j((()=>{})))})));let _=M(A(c,((e,t)=>t))),x=M((e=>{let t=Mn(n),r=c();return r>0&&(s=r,i=_(),o=t,Math.floor(i/o)!==Math.floor(s/o))?r:e;var s,i,o}));P(A(x,(()=>{vn(g,[])})));let w=y([],{equals:!1}),k=M((()=>Mn(w).map(((t,n)=>Ti(e,n,t))))),$=[[0,.5]];return P(A(x,(e=>{if(void 0!==e){let e=k();b(),e.forEach((e=>e.on_beat())),0===Mn(w).length&&vn(w,$.pop())}}))),{get hits(){return b()},get scores(){return k()},get cursor1_style(){return d()},get cursor2_style(){return f()},set nb_beats(e){let t=ji.indexOf(Mn(n))+e+ji.length;t=Math.max(0,t)%ji.length,vn(n,ji[t])},get nb_beats(){return Mn(n)},get beats(){return h},get bpm(){return p()},set bpm(e){if(!r.bpm)return;let t=ki.indexOf(r.bpm.bpm)+e+ki.length;t=Math.max(0,t)%ki.length,r.bpm=ki[t]},get playback_playing(){return r.playing?"stop":"play"},toggle_playback_playing(){t.user_click(),r.playing=!r.playing}}},Ii=(e,t)=>{let n=t,r=M((()=>({left:48*n*4*100/193+"%"})));return{get x(){return n},get style(){return r()}}};let Ni=["ghost","red","blue","green"];const Ti=(e,t,n)=>{let r=y(0),s=n,i=M((()=>({left:48*s*4*100/193+"%"}))),o=M((()=>[Ni[Mn(r)]].join(" ")));return{i:t,get x(){return s},on_beat(){vn(r,(e=>0===e?1:e))},dispose_on_beat(){},get klass(){return o()},get style(){return i()}}},Ei=(e,t,n)=>{let r=M((()=>192/Mn(n))),s=M((()=>t%r()==0)),i=M((()=>t%(r()/2)==0)),o=M((()=>t%(r()/4)==0)),l=M((()=>s())),a=M((()=>i())),c=M((()=>o())),u=M((()=>[l()?"strong":a()?"medium":c()?"weak":""].join(" ")));return{get klass(){return u()}}},Vi=ue("<main></main>"),qi=ue('<div class="rhythm-exercises"><h2> Yardstick Exercise </h2><div class="yardstick-controls"></div><div class="yardstick-wrap"></div><h2> Notes Exercise </h2><div class="main-staff"></div></div>'),Di=ue('<metronome><span class="icon"></span><group><label>bpm</label></group><group><label>beats</label></group></metronome>'),Fi=ue('<div class="up-down"><span class="value-down">-</span><span class="value"> <!> </span> <span class="value-up">+</span></div>'),Li=ue("<yardstick><playback><cursor></cursor><cursor></cursor></playback><scores></scores><sticks></sticks></yardstick>"),Bi=ue("<hit></hit>"),Oi=ue("<score></score>"),Ri=ue("<stick></stick>"),zi=e=>{let t=new $i(ps());return(()=>{const e=Vi.cloneNode(!0);return ge(e,Y(Ki,{get exercises(){return t._exercises}})),e})()},Ki=e=>(()=>{const t=qi.cloneNode(!0),n=t.firstChild.nextSibling,r=n.nextSibling,s=r.nextSibling.nextSibling;return ge(n,Y(Gi,{toggle_play:()=>e.exercises.yardstick.toggle_playback_playing(),get play_mode(){return e.exercises.yardstick.playback_playing},get beats(){return e.exercises.yardstick.nb_beats},set_beats:t=>e.exercises.yardstick.nb_beats=t,get bpm(){return e.exercises.yardstick.bpm},set_bpm:t=>e.exercises.yardstick.bpm=t})),ge(r,Y(Hi,{get yardstick(){return e.exercises.yardstick}})),ge(s,Y(Bs,{})),t})(),Gi=e=>(()=>{const t=Di.cloneNode(!0),n=t.firstChild,r=n.nextSibling;r.firstChild;const s=r.nextSibling;return s.firstChild,fe(n,"click",e.toggle_play,!0),ge(n,(()=>e.play_mode)),ge(r,Y(Ui,{get value(){return e.bpm},setValue:t=>e.set_bpm(t)}),null),ge(s,Y(Ui,{get value(){return e.beats},setValue:t=>e.set_beats(t)}),null),t})(),Ui=e=>{const t=t=>{e.setValue(t)};return(()=>{const n=Fi.cloneNode(!0),r=n.firstChild,s=r.nextSibling,i=s.firstChild.nextSibling;i.nextSibling;const o=s.nextSibling.nextSibling;return r.$$click=e=>t(-1),s.$$click=e=>t(1),ge(s,(()=>{return(t=e.value)<10?`0${t}`:`${t}`;var t}),i),o.$$click=e=>t(1),n})()},Hi=e=>(()=>{const t=Li.cloneNode(!0),n=t.firstChild,r=n.firstChild,s=r.nextSibling,i=n.nextSibling,o=i.nextSibling;return ge(i,Y(te,{get each(){return e.yardstick.hits},children:e=>(()=>{const t=Bi.cloneNode(!0);return v((n=>pe(t,e.style,n))),t})()}),null),ge(i,Y(te,{get each(){return e.yardstick.scores},children:e=>(()=>{const t=Oi.cloneNode(!0);return v((n=>{const r=e.klass,s=e.style;return r!==n._v$3&&de(t,n._v$3=r),n._v$4=pe(t,s,n._v$4),n}),{_v$3:void 0,_v$4:void 0}),t})()}),null),ge(o,Y(te,{get each(){return e.yardstick.beats},children:e=>(()=>{const t=Ri.cloneNode(!0);return v((()=>de(t,e.klass))),t})()})),v((t=>{const n=e.yardstick.cursor1_style,i=e.yardstick.cursor2_style;return t._v$=pe(r,n,t._v$),t._v$2=pe(s,i,t._v$2),t}),{_v$:void 0,_v$2:void 0}),t})();me(["click"]);const Wi=ue('<solsido><header><input class="topnav-toggle fullscreen-toggle" type="checkbox" id="tn-tg"><label for="tn-tg" class="fullscreen-mask"></label><label for="tn-tg" class="hbg"> <span class="hbg_in"></span></label><nav id="topnav"><section></section><section> <!> </section><section> <!> </section></nav><h1 class="site-title"></h1></header><div id="main-wrap"></div></solsido>');function Yi(e,t,n,r){return e.addEventListener(t,n,r),()=>e.removeEventListener(t,n,r)}const Ji=e=>{let t,n=ps(),r=[];r.push(Yi(document,"scroll",(()=>n.onScroll()),{capture:!0,passive:!0})),r.push(Yi(window,"resize",(()=>n.onScroll()),{passive:!0})),j((()=>r.forEach((e=>e()))));let s=ze();return P((()=>{s.pathname,t.checked=!1})),(()=>{const e=Wi.cloneNode(!0),r=e.firstChild,i=r.firstChild,o=i.nextSibling.nextSibling.nextSibling,l=o.firstChild,a=l.nextSibling,c=a.firstChild.nextSibling;c.nextSibling;const u=a.nextSibling,m=u.firstChild.nextSibling;m.nextSibling;const h=o.nextSibling,d=r.nextSibling;var f;f=e,setTimeout((()=>n.ref.$ref=f)),e.$$click=e=>n.onClick();return"function"==typeof t?t(i):t=i,ge(l,Y(nt,{href:"/",children:" lasolsido.org "})),ge(a,Y(rt,{href:"/rhythm",children:"Rhythm"}),c),ge(u,Y(rt,{href:"/key",children:"Key Signatures"}),m),ge(h,Y(nt,{get href(){return s.pathname},get children(){return s.pathname}})),ge(d,Y(Qe,{get children(){return[Y(Ze,{path:"",component:st}),Y(Ze,{path:"key",component:mi}),Y(Ze,{path:"rhythm",component:zi})]}})),e})()};return me(["click"]),function(e,t={}){return function(e,t,n){let r;g((s=>{r=s,t===document?e():ge(t,e(),t.firstChild?null:void 0,n)}))}((e=>t=>Y(Xe,{get children(){return Y(fs,{options:e,get children(){return Y(Ji,{})}})}}))(t),e),{}}}();
