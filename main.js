var Lado=function(){"use strict";const e={};const t=Symbol("solid-proxy"),n=Symbol("solid-track"),r={equals:(e,t)=>e===t};let s=F;const i={},o={owned:null,cleanups:null,context:null,owner:null},[a,l]=y(!1);var c=null;let u,m=null,h=null,d=null,f=null,p=0;function g(e,t){const n=m,r=c,s=0===e.length,i=s?o:{owned:null,cleanups:null,context:null,owner:t||r},a=s?e:()=>e((()=>R(i)));c=i,m=null;try{return D(a,!0)}finally{m=n,c=r}}function y(e,t){t=t?Object.assign({},r,t):r;const n={value:e,observers:null,observerSlots:null,pending:i,comparator:t.equals||void 0};return[N.bind(n),e=>("function"==typeof e&&(e=e(n.pending!==i?n.pending:n.value)),T(n,e))]}function b(e,t,n){E(V(e,t,!0,1))}function v(e,t,n){E(V(e,t,!1,1))}function P(e,t,n){s=L;const r=V(e,t,!1,1);r.user=!0,f?f.push(r):E(r)}function M(e,t,n){n=n?Object.assign({},r,n):r;const s=V(e,t,!0,0);return s.pending=i,s.observers=null,s.observerSlots=null,s.comparator=n.equals||void 0,E(s),N.bind(s)}function _(t,n,r){2===arguments.length?"object"==typeof n&&(r=n,n=t,t=!0):1===arguments.length&&(n=t,t=!0),r||(r={});const s=new Set,[i,o]=y(r.initialValue),[a,l]=y(void 0,{equals:!1}),[c,h]=y(!1),[d,f]=y();let p,g=null,v=null,P=null,_=!1,A="initialValue"in r,k="function"==typeof t&&M(t);function j(e,t,n,s){return g===e&&(g=null,A=!0,v&&(e===v||t===v)&&r.onHydrated&&queueMicrotask((()=>r.onHydrated(s,{value:t}))),v=null,f(p=n),$(t)),t}function $(e){x((()=>{o((()=>e)),h(!1);for(const e of s.keys())e.decrement();s.clear()}))}function S(){const e=u,t=i();if(p)throw p;return m&&!m.user&&e&&b((()=>{a(),g&&(e.resolved||s.has(e)||(e.increment(),s.add(e)))})),t}function C(e=!0){if(e&&_)return;_=!1,f(p=void 0);const r=k?k():t;if(null==r||!1===r)return void j(g,w(i));const s=v||w((()=>n(r,{value:i(),refetching:e})));return"object"==typeof s&&"then"in s?(g=s,_=!0,queueMicrotask((()=>_=!1)),x((()=>{h(!0),l()})),s.then((e=>j(s,e,void 0,r)),(e=>j(s,e,e)))):(j(g,s),s)}return e.context&&(P=`${e.context.id}${e.context.count++}`,e.load&&(v=e.load(P))),Object.defineProperties(S,{loading:{get:()=>c()},error:{get:()=>d()},latest:{get(){if(!A)return S();if(p)throw p;return i()}}}),k?b((()=>C(!1))):C(!1),[S,{refetch:C,mutate:o}]}function x(e){if(h)return e();let t;const n=h=[];try{t=e()}finally{h=null}return D((()=>{for(let e=0;e<n.length;e+=1){const t=n[e];if(t.pending!==i){const e=t.pending;t.pending=i,T(t,e)}}}),!1),t}function w(e){let t,n=m;return m=null,t=e(),m=n,t}function A(e,t,n){const r=Array.isArray(e);let s,i=n&&n.defer;return n=>{let o;if(r){o=Array(e.length);for(let t=0;t<e.length;t++)o[t]=e[t]()}else o=e();if(i)return void(i=!1);const a=w((()=>t(o,s,n)));return s=o,a}}function k(e){P((()=>w(e)))}function j(e){return null===c||(null===c.cleanups?c.cleanups=[e]:c.cleanups.push(e)),e}function $(e){const t=m,n=c;return Promise.resolve().then((()=>{m=t,c=n,x(e),m=c=null}))}function S(e){const t=Symbol("context");return{id:t,Provider:U(t),defaultValue:e}}function C(e){let t;return void 0!==(t=K(c,e.id))?t:e.defaultValue}function I(e){const t=M(e);return M((()=>G(t())))}function N(){if(this.sources&&this.state){const e=d;d=null,1===this.state?E(this):O(this),d=e}if(m){const e=this.observers?this.observers.length:0;m.sources?(m.sources.push(this),m.sourceSlots.push(e)):(m.sources=[this],m.sourceSlots=[e]),this.observers?(this.observers.push(m),this.observerSlots.push(m.sources.length-1)):(this.observers=[m],this.observerSlots=[m.sources.length-1])}return this.value}function T(e,t,n){if(h)return e.pending===i&&h.push(e),e.pending=t,t;if(e.comparator&&e.comparator(e.value,t))return t;let r=!1;return e.value=t,e.observers&&e.observers.length&&D((()=>{for(let t=0;t<e.observers.length;t+=1){const n=e.observers[t];r,n.state||(n.pure?d.push(n):f.push(n),n.observers&&B(n)),n.state=1}if(d.length>1e6)throw d=[],new Error}),!1),t}function E(e){if(!e.fn)return;R(e);const t=c,n=m,r=p;m=c=e,function(e,t,n){let r;try{r=e.fn(t)}catch(e){z(e)}(!e.updatedAt||e.updatedAt<=n)&&(e.observers&&e.observers.length?T(e,r):e.value=r,e.updatedAt=n)}(e,e.value,r),m=n,c=t}function V(e,t,n,r=1,s){const i={fn:e,state:r,updatedAt:null,owned:null,sources:null,sourceSlots:null,cleanups:null,value:t,owner:c,context:null,pure:n};return null===c||c!==o&&(c.owned?c.owned.push(i):c.owned=[i]),i}function q(e){if(0===e.state)return;if(2===e.state)return O(e);if(e.suspense&&w(e.suspense.inFallback))return e.suspense.effects.push(e);const t=[e];for(;(e=e.owner)&&(!e.updatedAt||e.updatedAt<p);)e.state&&t.push(e);for(let n=t.length-1;n>=0;n--)if(1===(e=t[n]).state)E(e);else if(2===e.state){const n=d;d=null,O(e,t[0]),d=n}}function D(e,t){if(d)return e();let n=!1;t||(d=[]),f?n=!0:f=[],p++;try{const t=e();return function(e){d&&(F(d),d=null);if(e)return;f.length?x((()=>{s(f),f=null})):f=null}(n),t}catch(e){d||(f=null),z(e)}}function F(e){for(let t=0;t<e.length;t++)q(e[t])}function L(t){let n,r=0;for(n=0;n<t.length;n++){const e=t[n];e.user?t[r++]=e:q(e)}var s;e.context&&(e.context=s);const i=t.length;for(n=0;n<r;n++)q(t[n]);for(n=i;n<t.length;n++)q(t[n])}function O(e,t){e.state=0;for(let n=0;n<e.sources.length;n+=1){const r=e.sources[n];r.sources&&(1===r.state?r!==t&&q(r):2===r.state&&O(r,t))}}function B(e){for(let t=0;t<e.observers.length;t+=1){const n=e.observers[t];n.state||(n.state=2,n.pure?d.push(n):f.push(n),n.observers&&B(n))}}function R(e){let t;if(e.sources)for(;e.sources.length;){const t=e.sources.pop(),n=e.sourceSlots.pop(),r=t.observers;if(r&&r.length){const e=r.pop(),s=t.observerSlots.pop();n<r.length&&(e.sourceSlots[s]=n,r[n]=e,t.observerSlots[n]=s)}}if(e.owned){for(t=0;t<e.owned.length;t++)R(e.owned[t]);e.owned=null}if(e.cleanups){for(t=0;t<e.cleanups.length;t++)e.cleanups[t]();e.cleanups=null}e.state=0,e.context=null}function z(e){throw e}function K(e,t){return e?e.context&&void 0!==e.context[t]?e.context[t]:K(e.owner,t):void 0}function G(e){if("function"==typeof e&&!e.length)return G(e());if(Array.isArray(e)){const t=[];for(let n=0;n<e.length;n++){const r=G(e[n]);Array.isArray(r)?t.push.apply(t,r):t.push(r)}return t}return e}function U(e){return function(t){let n;return b((()=>n=w((()=>(c.context={[e]:t.value},I((()=>t.children))))))),n}}const H=Symbol("fallback");function W(e){for(let t=0;t<e.length;t++)e[t]()}function Y(e,t){return w((()=>e(t||{})))}function J(){return!0}const X={get:(e,n,r)=>n===t?r:e.get(n),has:(e,t)=>e.has(t),set:J,deleteProperty:J,getOwnPropertyDescriptor:(e,t)=>({configurable:!0,enumerable:!0,get:()=>e.get(t),set:J,deleteProperty:J}),ownKeys:e=>e.keys()};function Q(e){return null==(e="function"==typeof e?e():e)?{}:e}function Z(...e){return new Proxy({get(t){for(let n=e.length-1;n>=0;n--){const r=Q(e[n])[t];if(void 0!==r)return r}},has(t){for(let n=e.length-1;n>=0;n--)if(t in Q(e[n]))return!0;return!1},keys(){const t=[];for(let n=0;n<e.length;n++)t.push(...Object.keys(Q(e[n])));return[...new Set(t)]}},X)}function ee(e,...t){const n=new Set(t.flat()),r=Object.getOwnPropertyDescriptors(e),s=t.map((t=>{const n={};for(let s=0;s<t.length;s++){const i=t[s];Object.defineProperty(n,i,r[i]?r[i]:{get:()=>e[i],set:()=>!0})}return n}));return s.push(new Proxy({get:t=>n.has(t)?void 0:e[t],has:t=>!n.has(t)&&t in e,keys:()=>Object.keys(e).filter((e=>!n.has(e)))},X)),s}function te(e){const t="fallback"in e&&{fallback:()=>e.fallback};return M(function(e,t,r={}){let s=[],i=[],o=[],a=0,l=t.length>1?[]:null;return j((()=>W(o))),()=>{let c,u,m=e()||[];return m[n],w((()=>{let e,t,n,d,f,p,y,b,v,P=m.length;if(0===P)0!==a&&(W(o),o=[],s=[],i=[],a=0,l&&(l=[])),r.fallback&&(s=[H],i[0]=g((e=>(o[0]=e,r.fallback()))),a=1);else if(0===a){for(i=new Array(P),u=0;u<P;u++)s[u]=m[u],i[u]=g(h);a=P}else{for(n=new Array(P),d=new Array(P),l&&(f=new Array(P)),p=0,y=Math.min(a,P);p<y&&s[p]===m[p];p++);for(y=a-1,b=P-1;y>=p&&b>=p&&s[y]===m[b];y--,b--)n[b]=i[y],d[b]=o[y],l&&(f[b]=l[y]);for(e=new Map,t=new Array(b+1),u=b;u>=p;u--)v=m[u],c=e.get(v),t[u]=void 0===c?-1:c,e.set(v,u);for(c=p;c<=y;c++)v=s[c],u=e.get(v),void 0!==u&&-1!==u?(n[u]=i[c],d[u]=o[c],l&&(f[u]=l[c]),u=t[u],e.set(v,u)):o[c]();for(u=p;u<P;u++)u in n?(i[u]=n[u],o[u]=d[u],l&&(l[u]=f[u],l[u](u))):i[u]=g(h);i=i.slice(0,a=P),s=m.slice(0)}return i}));function h(e){if(o[u]=e,l){const[e,n]=y(u);return l[u]=n,t(m[u],e)}return t(m[u])}}}((()=>e.each),e.children,t||void 0))}function ne(e){let t=!1;const n=M((()=>e.when),void 0,{equals:(e,n)=>t?e===n:!e==!n});return M((()=>{const r=n();if(r){const n=e.children;return(t="function"==typeof n&&n.length>0)?w((()=>n(r))):n}return e.fallback}))}const re=new Set(["className","value","readOnly","formNoValidate","isMap","noModule","playsInline","allowfullscreen","async","autofocus","autoplay","checked","controls","default","disabled","formnovalidate","hidden","indeterminate","ismap","loop","multiple","muted","nomodule","novalidate","open","playsinline","readonly","required","reversed","seamless","selected"]),se=new Set(["innerHTML","textContent","innerText","children"]),ie={className:"class",htmlFor:"for"},oe={class:"className",formnovalidate:"formNoValidate",ismap:"isMap",nomodule:"noModule",playsinline:"playsInline",readonly:"readOnly"},ae=new Set(["beforeinput","click","dblclick","contextmenu","focusin","focusout","input","keydown","keyup","mousedown","mousemove","mouseout","mouseover","mouseup","pointerdown","pointermove","pointerout","pointerover","pointerup","touchend","touchmove","touchstart"]),le={xlink:"http://www.w3.org/1999/xlink",xml:"http://www.w3.org/XML/1998/namespace"};const ce="_$DX_DELEGATE";function ue(e,t,n){const r=document.createElement("template");r.innerHTML=e;let s=r.content.firstChild;return n&&(s=s.firstChild),s}function me(e,t=window.document){const n=t[ce]||(t[ce]=new Set);for(let r=0,s=e.length;r<s;r++){const s=e[r];n.has(s)||(n.add(s),t.addEventListener(s,ve))}}function he(e,t,n){null==n?e.removeAttribute(t):e.setAttribute(t,n)}function de(e,t){null==t?e.removeAttribute("class"):e.className=t}function fe(e,t,n,r){if(r)Array.isArray(n)?(e[`$$${t}`]=n[0],e[`$$${t}Data`]=n[1]):e[`$$${t}`]=n;else if(Array.isArray(n)){const r=n[0];e.addEventListener(t,n[0]=t=>r.call(e,n[1],t))}else e.addEventListener(t,n)}function pe(e,t,n={}){const r=e.style,s="string"==typeof n;if(null==t&&s||"string"==typeof t)return r.cssText=t;let i,o;for(o in s&&(r.cssText=void 0,n={}),t||(t={}),n)null==t[o]&&r.removeProperty(o),delete n[o];for(o in t)i=t[o],i!==n[o]&&(r.setProperty(o,i),n[o]=i);return n}function ge(e,t,n,r){if(void 0===n||r||(r=[]),"function"!=typeof t)return Me(e,t,r,n);v((r=>Me(e,t(),r,n)),r)}function ye(e,t,n){const r=t.trim().split(/\s+/);for(let t=0,s=r.length;t<s;t++)e.classList.toggle(r[t],n)}function be(e,t,n,r,s,i){let o,a,l;if("style"===t)return pe(e,n,r);if("classList"===t)return function(e,t,n={}){const r=Object.keys(t||{}),s=Object.keys(n);let i,o;for(i=0,o=s.length;i<o;i++){const r=s[i];r&&"undefined"!==r&&!t[r]&&(ye(e,r,!1),delete n[r])}for(i=0,o=r.length;i<o;i++){const s=r[i],o=!!t[s];s&&"undefined"!==s&&n[s]!==o&&o&&(ye(e,s,!0),n[s]=o)}return n}(e,n,r);if(n===r)return r;if("ref"===t)i||n(e);else if("on:"===t.slice(0,3)){const s=t.slice(3);r&&e.removeEventListener(s,r),n&&e.addEventListener(s,n)}else if("oncapture:"===t.slice(0,10)){const s=t.slice(10);r&&e.removeEventListener(s,r,!0),n&&e.addEventListener(s,n,!0)}else if("on"===t.slice(0,2)){const s=t.slice(2).toLowerCase(),i=ae.has(s);if(!i&&r){const t=Array.isArray(r)?r[0]:r;e.removeEventListener(s,t)}(i||n)&&(fe(e,s,n,i),i&&me([s]))}else if((l=se.has(t))||!s&&(oe[t]||(a=re.has(t)))||(o=e.nodeName.includes("-")))"class"===t||"className"===t?de(e,n):!o||a||l?e[oe[t]||t]=n:e[function(e){return e.toLowerCase().replace(/-([a-z])/g,((e,t)=>t.toUpperCase()))}(t)]=n;else{const r=s&&t.indexOf(":")>-1&&le[t.split(":")[0]];r?function(e,t,n,r){null==r?e.removeAttributeNS(t,n):e.setAttributeNS(t,n,r)}(e,r,t,n):he(e,ie[t]||t,n)}return n}function ve(t){const n=`$$${t.type}`;let r=t.composedPath&&t.composedPath()[0]||t.target;for(t.target!==r&&Object.defineProperty(t,"target",{configurable:!0,value:r}),Object.defineProperty(t,"currentTarget",{configurable:!0,get:()=>r||document}),e.registry&&!e.done&&(e.done=!0,document.querySelectorAll("[id^=pl-]").forEach((e=>e.remove())));null!==r;){const e=r[n];if(e&&!r.disabled){const s=r[`${n}Data`];if(void 0!==s?e.call(r,s,t):e.call(r,t),t.cancelBubble)return}r=r.host&&r.host!==r&&r.host instanceof Node?r.host:r.parentNode}}function Pe(e,t,n={},r,s){return t||(t={}),!s&&"children"in t&&v((()=>n.children=Me(e,t.children,n.children))),t.ref&&t.ref(e),v((()=>function(e,t,n,r,s={},i=!1){t||(t={});for(const r in s)if(!(r in t)){if("children"===r)continue;be(e,r,null,s[r],n,i)}for(const o in t){if("children"===o){r||Me(e,t.children);continue}const a=t[o];s[o]=be(e,o,a,s[o],n,i)}}(e,t,r,!0,n,!0))),n}function Me(t,n,r,s,i){for(e.context&&!r&&(r=[...t.childNodes]);"function"==typeof r;)r=r();if(n===r)return r;const o=typeof n,a=void 0!==s;if(t=a&&r[0]&&r[0].parentNode||t,"string"===o||"number"===o){if(e.context)return r;if("number"===o&&(n=n.toString()),a){let e=r[0];e&&3===e.nodeType?e.data=n:e=document.createTextNode(n),r=we(t,r,s,e)}else r=""!==r&&"string"==typeof r?t.firstChild.data=n:t.textContent=n}else if(null==n||"boolean"===o){if(e.context)return r;r=we(t,r,s)}else{if("function"===o)return v((()=>{let e=n();for(;"function"==typeof e;)e=e();r=Me(t,e,r,s)})),()=>r;if(Array.isArray(n)){const o=[],l=r&&Array.isArray(r);if(_e(o,n,r,i))return v((()=>r=Me(t,o,r,s,!0))),()=>r;if(e.context)for(let e=0;e<o.length;e++)if(o[e].parentNode)return r=o;if(0===o.length){if(r=we(t,r,s),a)return r}else l?0===r.length?xe(t,o,s):function(e,t,n){let r=n.length,s=t.length,i=r,o=0,a=0,l=t[s-1].nextSibling,c=null;for(;o<s||a<i;)if(t[o]!==n[a]){for(;t[s-1]===n[i-1];)s--,i--;if(s===o){const t=i<r?a?n[a-1].nextSibling:n[i-a]:l;for(;a<i;)e.insertBefore(n[a++],t)}else if(i===a)for(;o<s;)c&&c.has(t[o])||t[o].remove(),o++;else if(t[o]===n[i-1]&&n[a]===t[s-1]){const r=t[--s].nextSibling;e.insertBefore(n[a++],t[o++].nextSibling),e.insertBefore(n[--i],r),t[s]=n[i]}else{if(!c){c=new Map;let e=a;for(;e<i;)c.set(n[e],e++)}const r=c.get(t[o]);if(null!=r)if(a<r&&r<i){let l,u=o,m=1;for(;++u<s&&u<i&&null!=(l=c.get(t[u]))&&l===r+m;)m++;if(m>r-a){const s=t[o];for(;a<r;)e.insertBefore(n[a++],s)}else e.replaceChild(n[a++],t[o++])}else o++;else t[o++].remove()}}else o++,a++}(t,r,o):(r&&we(t),xe(t,o));r=o}else if(n instanceof Node){if(e.context&&n.parentNode)return r=a?[n]:n;if(Array.isArray(r)){if(a)return r=we(t,r,s,n);we(t,r,null,n)}else null!=r&&""!==r&&t.firstChild?t.replaceChild(n,t.firstChild):t.appendChild(n);r=n}}return r}function _e(e,t,n,r){let s=!1;for(let i=0,o=t.length;i<o;i++){let o=t[i],a=n&&n[i];if(o instanceof Node)e.push(o);else if(null==o||!0===o||!1===o);else if(Array.isArray(o))s=_e(e,o,a)||s;else if("function"==typeof o)if(r){for(;"function"==typeof o;)o=o();s=_e(e,Array.isArray(o)?o:[o],a)||s}else e.push(o),s=!0;else{const t=String(o);a&&3===a.nodeType&&a.data===t?e.push(a):e.push(document.createTextNode(t))}}return s}function xe(e,t,n){for(let r=0,s=t.length;r<s;r++)e.insertBefore(t[r],n)}function we(e,t,n,r){if(void 0===n)return e.textContent="";const s=r||document.createTextNode("");if(t.length){let r=!1;for(let i=t.length-1;i>=0;i--){const o=t[i];if(s!==o){const t=o.parentNode===e;r||i?t&&o.remove():t?e.replaceChild(s,o):e.insertBefore(s,n)}else r=!0}}else e.insertBefore(s,n);return[s]}function Ae(e,t,n){return e.addEventListener(t,n),()=>e.removeEventListener(t,n)}function ke(e,t){const n=function(e){try{return document.querySelector(e)}catch(e){return null}}(`#${e}`);n?n.scrollIntoView():t&&window.scrollTo(0,0)}function je(e,t,n,r){let s=!1;const i=e=>"string"==typeof e?{value:e}:e,o=function([e,t],n,r){return[n?()=>n(e()):e,r?e=>t(r(e)):t]}(y(i(e()),{equals:(e,t)=>e.value===t.value}),void 0,(e=>(!s&&t(e),e)));return n&&j(n(((t=e())=>{s=!0,o[1](i(t)),s=!1}))),{signal:o,utils:r}}const $e=/^(?:[a-z0-9]+:)?\/\//i,Se=/^\/+|\/+$/g;function Ce(e,t=!1){const n=e.replace(Se,"");return n?t||/^[?#]/.test(n)?n:"/"+n:""}function Ie(e,t,n){if($e.test(t))return;const r=Ce(e),s=n&&Ce(n);let i="";return i=!s||t.startsWith("/")?r:0!==s.toLowerCase().indexOf(r.toLowerCase())?r+s:s,(i||"/")+Ce(t,!i)}function Ne(e,t){return Ce(e).replace(/\/*(\*.*)?$/g,"")+Ce(t)}function Te(e,t){return decodeURIComponent(t?e.replace(/\+/g," "):e)}function Ee(e,t){const[n,r]=e.split("/*",2),s=n.split("/").filter(Boolean),i=s.length;return e=>{const n=e.split("/").filter(Boolean),o=n.length-i;if(o<0||o>0&&void 0===r&&!t)return null;const a={path:i?"":"/",params:{}};for(let e=0;e<i;e++){const t=s[e],r=n[e];if(":"===t[0])a.params[t.slice(1)]=r;else if(0!==t.localeCompare(r,void 0,{sensitivity:"base"}))return null;a.path+=`/${r}`}return r&&(a.params[r]=o?n.slice(-o).join("/"):""),a}}function Ve(e){const[t,n]=e.pattern.split("/*",2),r=t.split("/").filter(Boolean);return r.reduce(((e,t)=>e+(t.startsWith(":")?2:3)),r.length-(void 0===n?0:1))}function qe(e){const t=new Map,n=c;return new Proxy({},{get:(r,s)=>(t.has(s)||function(e,t){const n=c;c=e;try{D(t,!0)}finally{c=n}}(n,(()=>t.set(s,M((()=>e()[s]))))),t.get(s)()),getOwnPropertyDescriptor:()=>({enumerable:!0,configurable:!0}),ownKeys:()=>Reflect.ownKeys(e())})}function De(e){let t=/(\/?\:[^\/]+)\?/.exec(e);if(!t)return[e];let n=e.slice(0,t.index),r=e.slice(t.index+t[0].length);const s=[n,n+=t[1]];for(;t=/^(\/\:[^\/]+)\?/.exec(r);)s.push(n+=t[1]),r=r.slice(t[0].length);return De(r).reduce(((e,t)=>[...e,...s.map((e=>e+t))]),[])}const Fe=S(),Le=S(),Oe=()=>function(e,t){if(null==e)throw new Error(t);return e}(C(Fe),"Make sure your app is wrapped in a <Router />");let Be;const Re=()=>Be||C(Le)||Oe().base,ze=e=>{const t=Re();return M((()=>t.resolvePath(e())))},Ke=()=>Oe().location;function Ge(e,t="",n){const{component:r,data:s,children:i}=e,o=!i||Array.isArray(i)&&!i.length,a={key:e,element:r?()=>Y(r,{}):()=>{const{element:t}=e;return void 0===t&&n?Y(n,{}):t},preload:e.component?r.preload:e.preload,data:s};return He(e.path).reduce(((e,n)=>{for(const r of De(n)){const n=Ne(t,r),s=o?n:n.split("/*",1)[0];e.push({...a,originalPath:r,pattern:s,matcher:Ee(s,!o)})}return e}),[])}function Ue(e,t=0){return{routes:e,score:1e4*Ve(e[e.length-1])-t,matcher(t){const n=[];for(let r=e.length-1;r>=0;r--){const s=e[r],i=s.matcher(t);if(!i)return null;n.unshift({...i,route:s})}return n}}}function He(e){return Array.isArray(e)?e:[e]}function We(e,t="",n,r=[],s=[]){const i=He(e);for(let e=0,o=i.length;e<o;e++){const o=i[e];if(o&&"object"==typeof o&&o.hasOwnProperty("path")){const e=Ge(o,t,n);for(const t of e){if(r.push(t),o.children)We(o.children,t.pattern,n,r,s);else{const e=Ue([...r],s.length);s.push(e)}r.pop()}}}return r.length?s:s.sort(((e,t)=>t.score-e.score))}function Ye(e,t="",n,r){const{signal:[s,i],utils:o={}}=function(e){return e?Array.isArray(e)?{signal:e}:e:{signal:y({value:""})}}(e),l=o.parsePath||(e=>e),c=o.renderPath||(e=>e),u=Ie("",t);if(void 0===u)throw new Error(`${u} is not a valid base path`);u&&!s().value&&i({value:u,replace:!0,scroll:!1});const[m,h]=[a,$],[d,f]=y(s().value),[p,g]=y(s().state),b=function(e,t){const n=new URL("http://sar"),r=M((t=>{const r=e();try{return new URL(r,n)}catch(e){return console.error(`Invalid path ${r}`),t}}),n,{equals:(e,t)=>e.href===t.href}),s=M((()=>Te(r().pathname))),i=M((()=>Te(r().search,!0))),o=M((()=>Te(r().hash))),a=M((()=>""));return{get pathname(){return s()},get search(){return i()},get hash(){return o()},get state(){return t()},get key(){return a()},query:qe(A(i,(()=>function(e){const t={};return e.searchParams.forEach(((e,n)=>{t[n]=e})),t}(r()))))}}(d,p),P=[],_={pattern:u,params:{},path:()=>u,outlet:()=>null,resolvePath:e=>Ie(u,e)};if(n)try{Be=_,_.data=n({data:void 0,params:{},location:b,navigate:k(_)})}finally{Be=void 0}function x(e,t,n){w((()=>{if("number"==typeof t)return void(t&&(o.go?o.go(t):console.warn("Router integration does not support relative routing")));const{replace:r,resolve:s,scroll:a,state:l}={replace:!1,resolve:!0,scroll:!0,...n},c=s?e.resolvePath(t):Ie("",t);if(void 0===c)throw new Error(`Path '${t}' is not a routable path`);if(P.length>=100)throw new Error("Too many redirects");const u=d();if(c!==u||l!==p()){const e=P.push({value:u,replace:r,scroll:a,state:p()});h((()=>{f(c),g(l)})).then((()=>{P.length===e&&function(e){const t=P[0];t&&(e.value===t.value&&e.state===t.state||i({...e,replace:t.replace,scroll:t.scroll}),P.length=0)}({value:c,state:l})}))}}))}function k(e){return e=e||C(Le)||_,(t,n)=>x(e,t,n)}v((()=>{const{value:e,state:t}=s();w((()=>{e!==d()&&h((()=>{f(e),g(t)}))}))}));{function S(e){if(e.defaultPrevented||0!==e.button||e.metaKey||e.altKey||e.ctrlKey||e.shiftKey)return;const t=e.composedPath().find((e=>e instanceof Node&&"A"===e.nodeName.toUpperCase()));if(!t)return;const n="http://www.w3.org/2000/svg"===t.namespaceURI;const r=n?t.href.baseVal:t.href;if((n?t.target.baseVal:t.target)||!r&&!t.hasAttribute("state"))return;const s=(t.getAttribute("rel")||"").split(/\s+/);if(t.hasAttribute("download")||s&&s.includes("external"))return;const i=n?new URL(r,document.baseURI):new URL(r),o=Te(i.pathname);if(i.origin!==window.location.origin||u&&o&&!o.toLowerCase().startsWith(u.toLowerCase()))return;const a=l(o+Te(i.search,!0)+Te(i.hash)),c=t.getAttribute("state");e.preventDefault(),x(_,a,{resolve:!1,replace:t.hasAttribute("replace"),scroll:!t.hasAttribute("noscroll"),state:c&&JSON.parse(c)})}document.addEventListener("click",S),j((()=>document.removeEventListener("click",S)))}return{base:_,out:undefined,location:b,isRouting:m,renderPath:c,parsePath:l,navigatorFactory:k}}function Je(e,t,n,r){const{base:s,location:i,navigatorFactory:o}=e,{pattern:a,element:l,preload:c,data:u}=r().route,m=M((()=>r().path)),h=qe((()=>r().params));c&&c();const d={parent:t,pattern:a,get child(){return n()},path:m,params:h,data:t.data,outlet:l,resolvePath:e=>Ie(s.path(),e,m())};if(u)try{Be=d,d.data=u({data:t.data,params:h,location:i,navigate:o(d)})}finally{Be=void 0}return d}const Xe=ue("<a></a>"),Qe=e=>{const{source:t,url:n,base:r,data:s,out:i}=e,o=Ye(t||je((()=>({value:window.location.pathname+window.location.search+window.location.hash,state:history.state})),(({value:e,replace:t,scroll:n,state:r})=>{t?window.history.replaceState(r,"",e):window.history.pushState(r,"",e),ke(window.location.hash.slice(1),n)}),(e=>Ae(window,"popstate",(()=>e()))),{go:e=>window.history.go(e)}),r,s);return Y(Fe.Provider,{value:o,get children(){return e.children}})},Ze=e=>{const t=Oe(),n=Re(),r=I((()=>e.children)),s=M((()=>We(r(),Ne(n.pattern,e.base||""),tt))),i=M((()=>function(e,t){for(let n=0,r=e.length;n<r;n++){const r=e[n].matcher(t);if(r)return r}return[]}(s(),t.location.pathname)));t.out&&t.out.matches.push(i().map((({route:e,path:t,params:n})=>({originalPath:e.originalPath,pattern:e.pattern,path:t,params:n}))));const o=[];let a;const l=M(A(i,((e,r,s)=>{let c=r&&e.length===r.length;const u=[];for(let a=0,m=e.length;a<m;a++){const m=r&&r[a],h=e[a];s&&m&&h.route.key===m.route.key?u[a]=s[a]:(c=!1,o[a]&&o[a](),g((e=>{o[a]=e,u[a]=Je(t,u[a-1]||n,(()=>l()[a+1]),(()=>i()[a]))})))}return o.splice(e.length).forEach((e=>e())),s&&c?s:(a=u[0],u)})));return Y(ne,{get when(){return l()&&a},children:e=>Y(Le.Provider,{value:e,get children(){return e.outlet()}})})},et=e=>{const t=I((()=>e.children));return Z(e,{get children(){return t()}})},tt=()=>{const e=Re();return Y(ne,{get when(){return e.child},children:e=>Y(Le.Provider,{value:e,get children(){return e.outlet()}})})};function nt(e){const[,t]=ee(e,["children","to","href","state"]),n=(e=>{const t=Oe();return M((()=>{const n=e();return void 0!==n?t.renderPath(n):n}))})((()=>e.to));return(()=>{const r=Xe.cloneNode(!0);var s,i,o,a;return s=r,o=!1,a=!0,"function"==typeof(i=t)?v((e=>Pe(s,i(),e,o,a))):Pe(s,i,void 0,o,a),ge(r,(()=>e.children)),v((t=>{const s=n()||e.href,i=JSON.stringify(e.state);return s!==t._v$&&he(r,"href",t._v$=s),i!==t._v$2&&he(r,"state",t._v$2=i),t}),{_v$:void 0,_v$2:void 0}),r})()}function rt(e){const t=ze((()=>e.href));return Y(nt,Z(e,{get to(){return t()}}))}function st(e){e=Z({inactiveClass:"inactive",activeClass:"active"},e);const[,t]=ee(e,["activeClass","inactiveClass","end"]),n=Ke(),r=ze((()=>e.href)),s=M((()=>{const t=r();if(void 0===t)return!1;const s=t.split(/[?#]/,1)[0].toLowerCase(),i=n.pathname.toLowerCase();return e.end?s===i:i.startsWith(s)}));return Y(nt,Z(t,{get to(){return r()},get classList(){return{[e.inactiveClass]:!s(),[e.activeClass]:s(),...t.classList}},get"aria-current"(){return s()?"page":void 0}}))}const it=e=>"Home",ot={},at=Symbol("solid-track"),lt={equals:(e,t)=>e===t};let ct=Ct;const ut={},mt={owned:null,cleanups:null,context:null,owner:null};var ht=null;let dt=null,ft=null,pt=null,gt=null,yt=0;function bt(e,t){const n=dt,r=ht,s=0===e.length,i=s?mt:{owned:null,cleanups:null,context:null,owner:t||r},o=s?e:()=>e((()=>Tt(i)));ht=i,dt=null;try{return St(o,!0)}finally{dt=n,ht=r}}function vt(e,t){t=t?Object.assign({},lt,t):lt;const n={value:e,observers:null,observerSlots:null,pending:ut,comparator:t.equals||void 0};return[wt.bind(n),e=>("function"==typeof e&&(e=e(n.pending!==ut?n.pending:n.value)),At(n,e))]}function Pt(e,t,n){kt(jt(e,t,!1,1))}function Mt(e,t,n){n=n?Object.assign({},lt,n):lt;const r=jt(e,t,!0,0);return r.pending=ut,r.observers=null,r.observerSlots=null,r.comparator=n.equals||void 0,kt(r),wt.bind(r)}function _t(e){let t,n=dt;return dt=null,t=e(),dt=n,t}function xt(e){return null===ht||(null===ht.cleanups?ht.cleanups=[e]:ht.cleanups.push(e)),e}function wt(){if(this.sources&&this.state){const e=pt;pt=null,1===this.state?kt(this):It(this),pt=e}if(dt){const e=this.observers?this.observers.length:0;dt.sources?(dt.sources.push(this),dt.sourceSlots.push(e)):(dt.sources=[this],dt.sourceSlots=[e]),this.observers?(this.observers.push(dt),this.observerSlots.push(dt.sources.length-1)):(this.observers=[dt],this.observerSlots=[dt.sources.length-1])}return this.value}function At(e,t,n){if(ft)return e.pending===ut&&ft.push(e),e.pending=t,t;if(e.comparator&&e.comparator(e.value,t))return t;let r=!1;return e.value=t,e.observers&&e.observers.length&&St((()=>{for(let t=0;t<e.observers.length;t+=1){const n=e.observers[t];r,n.state||(n.pure?pt.push(n):gt.push(n),n.observers&&Nt(n)),n.state=1}if(pt.length>1e6)throw pt=[],new Error}),!1),t}function kt(e){if(!e.fn)return;Tt(e);const t=ht,n=dt,r=yt;dt=ht=e,function(e,t,n){let r;try{r=e.fn(t)}catch(e){Et(e)}(!e.updatedAt||e.updatedAt<=n)&&(e.observers&&e.observers.length?At(e,r):e.value=r,e.updatedAt=n)}(e,e.value,r),dt=n,ht=t}function jt(e,t,n,r=1,s){const i={fn:e,state:r,updatedAt:null,owned:null,sources:null,sourceSlots:null,cleanups:null,value:t,owner:ht,context:null,pure:n};return null===ht||ht!==mt&&(ht.owned?ht.owned.push(i):ht.owned=[i]),i}function $t(e){if(0===e.state)return;if(2===e.state)return It(e);if(e.suspense&&_t(e.suspense.inFallback))return e.suspense.effects.push(e);const t=[e];for(;(e=e.owner)&&(!e.updatedAt||e.updatedAt<yt);)e.state&&t.push(e);for(let n=t.length-1;n>=0;n--)if(1===(e=t[n]).state)kt(e);else if(2===e.state){const n=pt;pt=null,It(e,t[0]),pt=n}}function St(e,t){if(pt)return e();let n=!1;t||(pt=[]),gt?n=!0:gt=[],yt++;try{const t=e();return function(e){pt&&(Ct(pt),pt=null);if(e)return;gt.length?function(e){if(ft)return e();let t;const n=ft=[];try{t=e()}finally{ft=null}St((()=>{for(let e=0;e<n.length;e+=1){const t=n[e];if(t.pending!==ut){const e=t.pending;t.pending=ut,At(t,e)}}}),!1)}((()=>{ct(gt),gt=null})):gt=null}(n),t}catch(e){pt||(gt=null),Et(e)}}function Ct(e){for(let t=0;t<e.length;t++)$t(e[t])}function It(e,t){e.state=0;for(let n=0;n<e.sources.length;n+=1){const r=e.sources[n];r.sources&&(1===r.state?r!==t&&$t(r):2===r.state&&It(r,t))}}function Nt(e){for(let t=0;t<e.observers.length;t+=1){const n=e.observers[t];n.state||(n.state=2,n.pure?pt.push(n):gt.push(n),n.observers&&Nt(n))}}function Tt(e){let t;if(e.sources)for(;e.sources.length;){const t=e.sources.pop(),n=e.sourceSlots.pop(),r=t.observers;if(r&&r.length){const e=r.pop(),s=t.observerSlots.pop();n<r.length&&(e.sourceSlots[s]=n,r[n]=e,t.observerSlots[n]=s)}}if(e.owned){for(t=0;t<e.owned.length;t++)Tt(e.owned[t]);e.owned=null}if(e.cleanups){for(t=0;t<e.cleanups.length;t++)e.cleanups[t]();e.cleanups=null}e.state=0,e.context=null}function Et(e){throw e}const Vt=Symbol("fallback");function qt(e){for(let t=0;t<e.length;t++)e[t]()}function Dt(e,t,n={}){let r=[],s=[],i=[],o=0,a=t.length>1?[]:null;return xt((()=>qt(i))),()=>{let l,c,u=e()||[];return u[at],_t((()=>{let e,t,h,d,f,p,g,y,b,v=u.length;if(0===v)0!==o&&(qt(i),i=[],r=[],s=[],o=0,a&&(a=[])),n.fallback&&(r=[Vt],s[0]=bt((e=>(i[0]=e,n.fallback()))),o=1);else if(0===o){for(s=new Array(v),c=0;c<v;c++)r[c]=u[c],s[c]=bt(m);o=v}else{for(h=new Array(v),d=new Array(v),a&&(f=new Array(v)),p=0,g=Math.min(o,v);p<g&&r[p]===u[p];p++);for(g=o-1,y=v-1;g>=p&&y>=p&&r[g]===u[y];g--,y--)h[y]=s[g],d[y]=i[g],a&&(f[y]=a[g]);for(e=new Map,t=new Array(y+1),c=y;c>=p;c--)b=u[c],l=e.get(b),t[c]=void 0===l?-1:l,e.set(b,c);for(l=p;l<=g;l++)b=r[l],c=e.get(b),void 0!==c&&-1!==c?(h[c]=s[l],d[c]=i[l],a&&(f[c]=a[l]),c=t[c],e.set(b,c)):i[l]();for(c=p;c<v;c++)c in h?(s[c]=h[c],i[c]=d[c],a&&(a[c]=f[c],a[c](c))):s[c]=bt(m);s=s.slice(0,o=v),r=u.slice(0)}return s}));function m(e){if(i[c]=e,a){const[e,n]=vt(c);return a[c]=n,t(u[c],e)}return t(u[c])}}}function Ft(e,t){return _t((()=>e(t||{})))}function Lt(e){const t="fallback"in e&&{fallback:()=>e.fallback};return Mt(Dt((()=>e.each),e.children,t||void 0))}function Ot(e){let t=!1;const n=Mt((()=>e.when),void 0,{equals:(e,n)=>t?e===n:!e==!n});return Mt((()=>{const r=n();if(r){const n=e.children;return(t="function"==typeof n&&n.length>0)?_t((()=>n(r))):n}return e.fallback}))}function Bt(e,t,n){const r=document.createElement("template");r.innerHTML=e;let s=r.content.firstChild;return n&&(s=s.firstChild),s}function Rt(e,t,n){null==n?e.removeAttribute(t):e.setAttribute(t,n)}function zt(e,t){null==t?e.removeAttribute("class"):e.className=t}function Kt(e,t,n={}){const r=e.style,s="string"==typeof n;if(null==t&&s||"string"==typeof t)return r.cssText=t;let i,o;for(o in s&&(r.cssText=void 0,n={}),t||(t={}),n)null==t[o]&&r.removeProperty(o),delete n[o];for(o in t)i=t[o],i!==n[o]&&(r.setProperty(o,i),n[o]=i);return n}function Gt(e,t,n,r){if(void 0===n||r||(r=[]),"function"!=typeof t)return Ut(e,t,r,n);Pt((r=>Ut(e,t(),r,n)),r)}function Ut(e,t,n,r,s){for(ot.context&&!n&&(n=[...e.childNodes]);"function"==typeof n;)n=n();if(t===n)return n;const i=typeof t,o=void 0!==r;if(e=o&&n[0]&&n[0].parentNode||e,"string"===i||"number"===i){if(ot.context)return n;if("number"===i&&(t=t.toString()),o){let s=n[0];s&&3===s.nodeType?s.data=t:s=document.createTextNode(t),n=Yt(e,n,r,s)}else n=""!==n&&"string"==typeof n?e.firstChild.data=t:e.textContent=t}else if(null==t||"boolean"===i){if(ot.context)return n;n=Yt(e,n,r)}else{if("function"===i)return Pt((()=>{let s=t();for(;"function"==typeof s;)s=s();n=Ut(e,s,n,r)})),()=>n;if(Array.isArray(t)){const i=[],a=n&&Array.isArray(n);if(Ht(i,t,n,s))return Pt((()=>n=Ut(e,i,n,r,!0))),()=>n;if(ot.context)for(let e=0;e<i.length;e++)if(i[e].parentNode)return n=i;if(0===i.length){if(n=Yt(e,n,r),o)return n}else a?0===n.length?Wt(e,i,r):function(e,t,n){let r=n.length,s=t.length,i=r,o=0,a=0,l=t[s-1].nextSibling,c=null;for(;o<s||a<i;)if(t[o]!==n[a]){for(;t[s-1]===n[i-1];)s--,i--;if(s===o){const t=i<r?a?n[a-1].nextSibling:n[i-a]:l;for(;a<i;)e.insertBefore(n[a++],t)}else if(i===a)for(;o<s;)c&&c.has(t[o])||t[o].remove(),o++;else if(t[o]===n[i-1]&&n[a]===t[s-1]){const r=t[--s].nextSibling;e.insertBefore(n[a++],t[o++].nextSibling),e.insertBefore(n[--i],r),t[s]=n[i]}else{if(!c){c=new Map;let e=a;for(;e<i;)c.set(n[e],e++)}const r=c.get(t[o]);if(null!=r)if(a<r&&r<i){let l,u=o,m=1;for(;++u<s&&u<i&&null!=(l=c.get(t[u]))&&l===r+m;)m++;if(m>r-a){const s=t[o];for(;a<r;)e.insertBefore(n[a++],s)}else e.replaceChild(n[a++],t[o++])}else o++;else t[o++].remove()}}else o++,a++}(e,n,i):(n&&Yt(e),Wt(e,i));n=i}else if(t instanceof Node){if(ot.context&&t.parentNode)return n=o?[t]:t;if(Array.isArray(n)){if(o)return n=Yt(e,n,r,t);Yt(e,n,null,t)}else null!=n&&""!==n&&e.firstChild?e.replaceChild(t,e.firstChild):e.appendChild(t);n=t}}return n}function Ht(e,t,n,r){let s=!1;for(let i=0,o=t.length;i<o;i++){let o=t[i],a=n&&n[i];if(o instanceof Node)e.push(o);else if(null==o||!0===o||!1===o);else if(Array.isArray(o))s=Ht(e,o,a)||s;else if("function"==typeof o)if(r){for(;"function"==typeof o;)o=o();s=Ht(e,Array.isArray(o)?o:[o],a)||s}else e.push(o),s=!0;else{const t=String(o);a&&3===a.nodeType&&a.data===t?e.push(a):e.push(document.createTextNode(t))}}return s}function Wt(e,t,n){for(let r=0,s=t.length;r<s;r++)e.insertBefore(t[r],n)}function Yt(e,t,n,r){if(void 0===n)return e.textContent="";const s=r||document.createTextNode("");if(t.length){let r=!1;for(let i=t.length-1;i>=0;i--){const o=t[i];if(s!==o){const t=o.parentNode===e;r||i?t&&o.remove():t?e.replaceChild(s,o):e.insertBefore(s,n)}else r=!0}}else e.insertBefore(s,n);return[s]}class Jt{static from_angle=e=>new Jt(Math.cos(e),Math.sin(e));static make=(e,t)=>new Jt(e,t);static get unit(){return new Jt(1,1)}static get zero(){return new Jt(0,0)}get vs(){return[this.x,this.y]}get mul_inverse(){return new Jt(1/this.x,1/this.y)}get inverse(){return new Jt(-this.x,-this.y)}get half(){return new Jt(this.x/2,this.y/2)}get length_squared(){return this.x*this.x+this.y*this.y}get length(){return Math.sqrt(this.length_squared)}get normalize(){return 0===this.length?Jt.zero:this.scale(1/this.length)}get perpendicular(){return new Jt(-this.y,this.x)}equals(e){return this.x===e.x&&this.y===e.y}get clone(){return new Jt(this.x,this.y)}get angle(){return Math.atan2(this.y,this.x)}constructor(e,t){this.x=e,this.y=t}dot(e){return this.x*e.x+this.y*e.y}cross(e){return this.x*e.y-this.y*e.x}project_to(e){let t=e.length_squared,n=this.dot(e);return Jt.make(n*e.x/t,n*e.y/t)}distance(e){return this.sub(e).length}addy(e){return Jt.make(this.x,this.y+e)}add_angle(e){return Jt.from_angle(this.angle+e)}scale(e){let{clone:t}=this;return t.scale_in(e)}scale_in(e){return this.x*=e,this.y*=e,this}add(e){let{clone:t}=this;return t.add_in(e)}add_in(e){return this.x+=e.x,this.y+=e.y,this}sub(e){let{clone:t}=this;return t.sub_in(e)}sub_in(e){return this.x-=e.x,this.y-=e.y,this}mul(e){let{clone:t}=this;return t.mul_in(e)}mul_in(e){return this.x*=e.x,this.y*=e.y,this}div(e){let{clone:t}=this;return t.div_in(e)}div_in(e){return this.x/=e.x,this.y/=e.y,this}set_in(e,t=this.y){return this.x=e,this.y=t,this}}function Xt(e,t){if("function"==typeof t)return e[1](t);e[1]((e=>t))}function Qt(e){return Array.isArray(e)?e[0]():e()}class Zt{onScroll(){this.ref.$clear_bounds()}get style(){return this.m_style()}set bras(e){this.sheet.bras=e}get ties(){return this.sheet.ties}get beams(){return this.sheet.beams}get stems(){return this.sheet.stems}get bars(){return this.sheet.bars}get bras(){return this.sheet.bras}get ledgers(){return this.sheet.ledgers}constructor(){this.ref=function(){let e=vt(),t=vt(void 0,{equals:!1}),n=Mt((()=>(Qt(t),Qt(e)?.scrollTop)));Mt((()=>{let e=Qt(n);if(void 0!==e)return Jt.make(0,e)}));let r=Mt((()=>(Qt(t),Qt(e)?.getBoundingClientRect()))),s=Mt((()=>{let e=r();if(e)return Jt.make(e.x,e.y)})),i=Mt((()=>{let e=r();if(e)return Jt.make(e.width,e.height)}));return{$clear_bounds(){Xt(t)},get $ref(){return Qt(e)},set $ref(t){Xt(e,t)},get rect(){return r()},get orig(){return s()},get size(){return i()},get_normal_at_abs_pos(e){let t=i(),n=s();if(t&&n)return e.sub(n).div(t)}}}(),this.m_style=Mt((()=>({"font-size":(this.ref.size?.y||0)/4+"px"}))),this.sheet=tn(this),this.playback=en()}}const en=e=>{let t=vt(!1),n=vt(1),r=vt(1),s=vt(100),i=Mt((()=>({transform:`translate(${Qt(n)}em, 0)`,width:`${Qt(r)}em`}))),o=Mt((()=>({transform:`translate(${.01*Qt(r)*Qt(s)}em, 0)`})));return{get show(){if(Qt(t))return this},get line_style(){return o()},get style(){return i()},set_play(e){Xt(t,e)},set xwi(e){let[t,i,o]=e.split(",");Xt(n,t),Xt(r,i),Xt(s,o)}}},tn=e=>{let t=vt([]),n=Mt(Dt(t[0],(e=>((e,t)=>{let[n,r]=t.split("@"),[s,i]=r.split(","),[o,...a]=n.split(",");const l=Mt((()=>({transform:`translate(${s}em, ${i}em)`})));return{get klass(){return a.join(" ")},get glyph(){return o},get style(){return l()}}})(0,e)))),r=vt([]),s=Mt(Dt(r[0],(e=>((e,t)=>{let[n,r]=t.split("@"),[s,i]=r.split(",");const o=Mt((()=>({transform:`translate(${s}em, ${i}em)`})));return{get style(){return o()}}})(0,e)))),i=vt([]),o=Mt(Dt(i[0],(e=>((e,t)=>{let[n,r]=t.split("@"),[s]=r.split(",");const i=Mt((()=>({transform:`translate(${s}em, 0)`})));return{get style(){return i()}}})(0,e)))),a=vt([]),l=Mt(Dt(a[0],(e=>((e,t)=>{let[n,r]=t.split("@"),[s,i,o]=r.split(",");const a=Mt((()=>({transform:`translate(${s}em, ${i}em)`,height:`${o}em`})));return{set xwi(e){let[t,n,r]=e.split(",");Xt(_x,t),Xt(_w,n),Xt(_i,r)},get style(){return a()}}})(0,e)))),c=vt([]),u=Mt(Dt(c[0],(e=>((e,t)=>{let[n,r]=t.split("@"),[s,i,o]=r.split(",");o-=i;const a=Mt((()=>({transform:`translate(${s}em, ${i}em)`})));return{get y2(){return 100*o},get style(){return a()}}})(0,e)))),m=vt([]),h=Mt(Dt(m[0],(e=>((e,t)=>{let[n,r]=t.split("@"),[s,i,o]=r.split(",");o-=s,o*=100,o=20;const a=Mt((()=>({transform:`translate(${s}em, ${i}em)`})));return{x2:o,klass:n,get style(){return a()}}})(0,e))));return{set ties(e){Xt(m,e)},get ties(){return h()},set beams(e){Xt(c,e)},get beams(){return u()},set stems(e){Xt(a,e)},get stems(){return l()},set bars(e){Xt(i,e)},get bars(){return o()},get ledgers(){return s()},set ledgers(e){Xt(r,e)},get bras(){return n()},set bras(e){Xt(t,e)}}};var nn={barline_single:"",barline_double:"",barline_final:"",quarter_text:"",gclef:"",bclef:"",double_note:"",whole_note:"",half_note:"",quarter_note:"",flat_accidental:"",natural_accidental:"",sharp_accidental:"",dflat_accidental:"",dsharp_accidental:"",eighth_flag_up:"",sixteenth_flag_up:"",thirtysecond_flag_up:"",sixtyfourth_flag_up:"",eighth_flag_down:"",sixteenth_flag_down:"",thirtysecond_flag_down:"",sixtyfourth_flag_down:"",brace:"",double_rest:"",whole_rest:"",half_rest:"",quarter_rest:"",eighth_rest:"",sixteenth_rest:"",thirtysecond_rest:"",sixtyfourth_rest:"",onetwentyeighth_rest:"",zero_time:"",one_time:"",two_time:"",three_time:"",four_time:"",five_time:"",six_time:"",seven_time:"",eight_time:"",nine_time:"",ten_time:"",twelve_time:"",common_time:"",cut_time:""};const rn=Bt("<vstaff><staff><lines> <line></line> <line></line> <line></line> <line></line> <line></line> </lines><ledgers></ledgers><bravura></bravura></staff></vstaff>"),sn=Bt('<div class="playback"><span class="cursor"><span class="line"></span></span></div>'),on=Bt("<ledger></ledger>"),an=Bt("<bar></bar>"),ln=Bt("<stem></stem>"),cn=Bt("<bra></bra>"),un=Bt('<tie><svg width="1em" height="1em" viewBox="0 0 100 100"><path></path></svg></tie>'),mn=Bt('<beam><svg width="1em" height="1em" viewBox="0 0 100 100"><path></path></svg></beam>');function hn(e,t,n,r){return e.addEventListener(t,n,r),()=>e.removeEventListener(t,n,r)}const dn=e=>(()=>{const t=un.cloneNode(!0),n=t.firstChild.firstChild;return Pt((r=>{const s=e.klass,i=e.style,o=`M 0 ${.5*(a=e.x2)} c ${a} -${.5*a}    ${4*a} -${.5*a}    ${5*a} 0\n    -${a} -${.5*a-4} -${4*a} -${.5*a-4} -${5*a} 0`;var a;return s!==r._v$5&&zt(t,r._v$5=s),r._v$6=Kt(t,i,r._v$6),o!==r._v$7&&Rt(n,"d",r._v$7=o),r}),{_v$5:void 0,_v$6:void 0,_v$7:void 0}),t})(),fn=e=>(e.y2,(()=>{const t=mn.cloneNode(!0),n=t.firstChild.firstChild;return Pt((r=>{const s=e.style,i=(o=100,a=e.y2,`M0,10L0,0L${o},${a}L${o},${a+10}L0,10`);var o,a;return r._v$8=Kt(t,s,r._v$8),i!==r._v$9&&Rt(n,"d",r._v$9=i),r}),{_v$8:void 0,_v$9:void 0}),t})());function pn(e,t={}){let n=new Zt(e);return function(e,t,n){let r;bt((s=>{r=s,t===document?e():Gt(t,e(),t.firstChild?null:void 0,n)}))}((e=>t=>{let n=[];return n.push(hn(document,"scroll",(()=>e.onScroll()),{capture:!0,passive:!0})),n.push(hn(window,"resize",(()=>e.onScroll()),{passive:!0})),xt((()=>n.forEach((e=>e())))),(()=>{const t=rn.cloneNode(!0),n=t.firstChild,r=n.firstChild,s=r.nextSibling,i=s.nextSibling;var o;return o=t,setTimeout((()=>e.ref.$ref=o)),Gt(n,Ft(Ot,{get when(){return e.playback.show},children:e=>(()=>{const t=sn.cloneNode(!0),n=t.firstChild,r=n.firstChild;return Pt((t=>{const s=e.style,i=e.line_style;return t._v$=Kt(n,s,t._v$),t._v$2=Kt(r,i,t._v$2),t}),{_v$:void 0,_v$2:void 0}),t})()}),r),Gt(s,Ft(Lt,{get each(){return e.ledgers},children:e=>(()=>{const t=on.cloneNode(!0);return Pt((n=>Kt(t,e.style,n))),t})()}),null),Gt(s,Ft(Lt,{get each(){return e.bars},children:e=>(()=>{const t=an.cloneNode(!0);return Pt((n=>Kt(t,e.style,n))),t})()}),null),Gt(s,Ft(Lt,{get each(){return e.stems},children:e=>(()=>{const t=ln.cloneNode(!0);return Pt((n=>Kt(t,e.style,n))),t})()}),null),Gt(s,Ft(Lt,{get each(){return e.beams},children:e=>Ft(fn,{get style(){return e.style},get y2(){return e.y2}})}),null),Gt(s,Ft(Lt,{get each(){return e.ties},children:e=>Ft(dn,{get klass(){return e.klass},get style(){return e.style},get x2(){return e.x2}})}),null),Gt(i,Ft(Lt,{get each(){return e.bras},children:e=>(()=>{const t=cn.cloneNode(!0);return Gt(t,(()=>nn[e.glyph])),Pt((n=>{const r=e.klass,s=e.style;return r!==n._v$3&&zt(t,n._v$3=r),n._v$4=Kt(t,s,n._v$4),n}),{_v$3:void 0,_v$4:void 0}),t})()})),Pt((n=>Kt(t,e.style,n))),t})()})(n),e),{sheet:n.sheet,set bras(e){n.bras=e},set xwi(e){n.playback.xwi=e},set playback(e){n.playback.set_play(e)}}}var gn="",yn="";class bn{static from_angle=e=>new bn(Math.cos(e),Math.sin(e));static make=(e,t)=>new bn(e,t);static get unit(){return new bn(1,1)}static get zero(){return new bn(0,0)}get vs(){return[this.x,this.y]}get mul_inverse(){return new bn(1/this.x,1/this.y)}get inverse(){return new bn(-this.x,-this.y)}get half(){return new bn(this.x/2,this.y/2)}get length_squared(){return this.x*this.x+this.y*this.y}get length(){return Math.sqrt(this.length_squared)}get normalize(){return 0===this.length?bn.zero:this.scale(1/this.length)}get perpendicular(){return new bn(-this.y,this.x)}equals(e){return this.x===e.x&&this.y===e.y}get clone(){return new bn(this.x,this.y)}get angle(){return Math.atan2(this.y,this.x)}constructor(e,t){this.x=e,this.y=t}dot(e){return this.x*e.x+this.y*e.y}cross(e){return this.x*e.y-this.y*e.x}project_to(e){let t=e.length_squared,n=this.dot(e);return bn.make(n*e.x/t,n*e.y/t)}distance(e){return this.sub(e).length}addy(e){return bn.make(this.x,this.y+e)}add_angle(e){return bn.from_angle(this.angle+e)}scale(e){let{clone:t}=this;return t.scale_in(e)}scale_in(e){return this.x*=e,this.y*=e,this}add(e){let{clone:t}=this;return t.add_in(e)}add_in(e){return this.x+=e.x,this.y+=e.y,this}sub(e){let{clone:t}=this;return t.sub_in(e)}sub_in(e){return this.x-=e.x,this.y-=e.y,this}mul(e){let{clone:t}=this;return t.mul_in(e)}mul_in(e){return this.x*=e.x,this.y*=e.y,this}div(e){let{clone:t}=this;return t.div_in(e)}div_in(e){return this.x/=e.x,this.y/=e.y,this}set_in(e,t=this.y){return this.x=e,this.y=t,this}}function vn(e){let t,n,r=1e3/60,s=r;return t=requestAnimationFrame((function i(o){let a=n?o-n:r;a=Math.min(33.333333333333336,Math.max(16.666666666666668,a)),e(a,s)||(s=a,n=o,t=requestAnimationFrame(i))})),()=>{cancelAnimationFrame(t)}}function Pn(e,t){if("function"==typeof t)return e[1](t);e[1]((e=>t))}function Mn(e,t){return e[1]((e=>(t(e),e)))}function _n(e){return Array.isArray(e)?e[0]():e()}class xn{_set_data(e){return this.data=e,this}get maxFilterFreq(){return this.context.sampleRate/2}constructor(e){this.context=e}attack(e=this.context.currentTime){let{context:t}=this;this._out_gain=t.createGain(),this._out_gain.gain.setValueAtTime(1,e);let n=t.createDynamicsCompressor();return n.threshold.setValueAtTime(-60,t.currentTime),n.knee.setValueAtTime(40,t.currentTime),n.ratio.setValueAtTime(12,t.currentTime),n.attack.setValueAtTime(0,t.currentTime),n.release.setValueAtTime(.25,t.currentTime),this._out_gain.connect(n),n.connect(t.destination),this._attack(e),this}release(e=this.context.currentTime){return this._release(e),this}}function wn(e,t,{a:n,d:r,s:s,r:i},o,a){e.setValueAtTime(o,t),e.linearRampToValueAtTime(a,t+n),e.linearRampToValueAtTime(s,t+n+r)}function An(e,t,{s:n,r:r},s){e.cancelAndHoldAtTime(t),e.setValueAtTime(n,t),e.linearRampToValueAtTime(s,t+(r||0))}class kn{constructor(e){this.context=e}get currentTime(){return this.context.currentTime}async init(e){let{srcs:t,base_url:n}=e,r=await Promise.all(Object.keys(t).map((e=>{return(r=n+t[e],fetch(r).then((e=>e.arrayBuffer()))).then((e=>{return t=this.context,n=e,t.decodeAudioData(n);var t,n})).then((t=>[e,t]));var r})));this._buffers=new Map(r)}_ps=new Map;attack(e,t,n=this.context.currentTime){let r=this._buffers.get(t),s=new jn(this.context,r)._set_data({synth:e});s.attack(n),this._ps.set(t,s)}release(e,t=this.context.currentTime){let n=this._ps.get(e);n&&(n.release(t),this._ps.delete(e))}}class jn extends xn{constructor(e,t){super(e),this.buffer=t}_attack(e=this.context.currentTime){let{context:t,buffer:n}=this,{synth:{adsr:r}}=this.data,s=t.createGain();s.connect(this._out_gain),this.source_mix=s;let i=t.createBufferSource();this.source=i,i.buffer=n,i.connect(s),wn(s.gain,e,r,0,1),i.start()}_release(e=this.context.currentTime){let{synth:{adsr:t}}=this.data;An(this.source_mix.gain,e,t,0),this.source.stop(e+t.r)}}const $n=(e,t)=>Array(Math.abs(t)+1).join(e);function Sn(e){return null!==e&&"object"==typeof e&&"string"==typeof e.name}function Cn(e){return null!==e&&"object"==typeof e&&"number"==typeof e.step&&"number"==typeof e.alt}const In=[0,2,4,-1,1,3,5],Nn=In.map((e=>Math.floor(7*e/12)));function Tn(e){const{step:t,alt:n,oct:r,dir:s=1}=e,i=In[t]+7*n;if(void 0===r)return[s*i];return[s*i,s*(r-Nn[t]-4*n)]}const En=[3,0,4,1,5,2,6];const Vn={empty:!0,name:"",pc:"",acc:""},qn=new Map,Dn=e=>e<0?$n("b",-e):$n("#",e),Fn=e=>"b"===e[0]?-e.length:e.length;function Ln(e){const t=qn.get(e);if(t)return t;const n="string"==typeof e?function(e){const t=function(e){const t=On.exec(e);return[t[1].toUpperCase(),t[2].replace(/x/g,"##"),t[3],t[4]]}(e);if(""===t[0]||""!==t[3])return Vn;const n=t[0],r=t[1],s=t[2],i=(n.charCodeAt(0)+3)%7,o=Fn(r),a=s.length?+s:void 0,l=Tn({step:i,alt:o,oct:a}),c=n+r+s,u=n+r,m=(Rn[i]+o+120)%12,h=void 0===a?(p=Rn[i]+o,g=12,(p%g+g)%g-1188):Rn[i]+o+12*(a+1),d=h>=0&&h<=127?h:null,f=void 0===a?null:440*Math.pow(2,(h-69)/12);var p,g;return{empty:!1,acc:r,alt:o,chroma:m,coord:l,freq:f,height:h,letter:n,midi:d,name:c,oct:a,pc:u,step:i}}(e):Cn(e)?Ln(function(e){const{step:t,alt:n,oct:r}=e,s=(e=>"CDEFGAB".charAt(e))(t);if(!s)return"";const i=s+Dn(n);return r||0===r?i+r:i}(e)):Sn(e)?Ln(e.name):Vn;return qn.set(e,n),n}const On=/^([a-gA-G]?)(#{1,}|b{1,}|x{1,}|)(-?\d*)\s*(.*)$/;function Bn(e){return Ln(function(e){const[t,n,r]=e,s=En[function(e){const t=(e+1)%7;return t<0?7+t:t}(t)],i=Math.floor((t+1)/7);return void 0===n?{step:s,alt:i,dir:r}:{step:s,alt:i,oct:n+4*i+Nn[s],dir:r}}(e))}const Rn=[0,2,4,5,7,9,11];const zn={empty:!0,name:"",acc:""},Kn=new RegExp("^([-+]?\\d+)(d{1,4}|m|M|P|A{1,4})|(AA|A|P|M|m|d|dd)([-+]?\\d+)$");const Gn={};function Un(e){return"string"==typeof e?Gn[e]||(Gn[e]=function(e){const t=function(e){const t=Kn.exec(`${e}`);return null===t?["",""]:t[1]?[t[1],t[2]]:[t[4],t[3]]}(e);if(""===t[0])return zn;const n=+t[0],r=t[1],s=(Math.abs(n)-1)%7,i=Wn[s];if("M"===i&&"P"===r)return zn;const o="M"===i?"majorable":"perfectable",a=""+n+r,l=n<0?-1:1,c=8===n||-8===n?n:l*(s+1),u=function(e,t){return"M"===t&&"majorable"===e||"P"===t&&"perfectable"===e?0:"m"===t&&"majorable"===e?-1:/^A+$/.test(t)?t.length:/^d+$/.test(t)?-1*("perfectable"===e?t.length:t.length+1):0}(o,r),m=Math.floor((Math.abs(n)-1)/7),h=l*(Hn[s]+u+12*m),d=(l*(Hn[s]+u)%12+12)%12,f=Tn({step:s,alt:u,oct:m,dir:l});return{empty:!1,name:a,num:n,q:r,step:s,alt:u,dir:l,type:o,simple:c,semitones:h,chroma:d,coord:f,oct:m}}(e)):Cn(e)?Un(function(e){const{step:t,alt:n,oct:r=0,dir:s}=e;if(!s)return"";const i=t+1+7*r;return(s<0?"-":"")+(0===i?t+1:i)+function(e,t){return 0===t?"majorable"===e?"M":"P":-1===t&&"majorable"===e?"m":t>0?$n("A",t):$n("d","perfectable"===e?t:t+1)}("M"===Wn[t]?"majorable":"perfectable",n)}(e)):Sn(e)?Un(e.name):zn}const Hn=[0,2,4,5,7,9,11],Wn="PMMPPMM";function Yn(e,t){const n=Ln(e),r=Un(t);if(n.empty||r.empty)return"";const s=n.coord,i=r.coord;return Bn(1===s.length?[s[0]+i[0]]:[s[0]+i[0],s[1]+i[1]]).name}function Jn(e,t){const n=t.length,r=(e%n+n)%n;return t.slice(r,n).concat(t.slice(0,r))}const Xn={empty:!0,name:"",setNum:0,chroma:"000000000000",normalized:"000000000000",intervals:[]},Qn=e=>Number(e).toString(2),Zn=e=>parseInt(e,2),er=/^[01]{12}$/;function tr(e){return er.test(e)}const nr={[Xn.chroma]:Xn};function rr(e){const t=tr(e)?e:"number"==typeof(n=e)&&n>=0&&n<=4095?Qn(e):Array.isArray(e)?function(e){if(0===e.length)return Xn.chroma;let t;const n=[0,0,0,0,0,0,0,0,0,0,0,0];for(let r=0;r<e.length;r++)t=Ln(e[r]),t.empty&&(t=Un(e[r])),t.empty||(n[t.chroma]=1);return n.join("")}(e):(e=>e&&tr(e.chroma))(e)?e.chroma:Xn.chroma;var n;return nr[t]=nr[t]||function(e){const t=Zn(e),n=function(e){const t=e.split("");return t.map(((e,n)=>Jn(n,t).join("")))}(e).map(Zn).filter((e=>e>=2048)).sort()[0],r=Qn(n),s=function(e){const t=[];for(let n=0;n<12;n++)"1"===e.charAt(n)&&t.push(sr[n]);return t}(e);return{empty:!1,name:"",setNum:t,chroma:e,normalized:r,intervals:s}}(t)}const sr=["1P","2m","2M","3m","3M","4P","5d","5P","6m","6M","7m","7M"];let ir=[],or={};function ar(e,t,n){const r=function(e){const t=t=>-1!==e.indexOf(t);return t("5A")?"Augmented":t("3M")?"Major":t("5d")?"Diminished":t("3m")?"Minor":"Unknown"}(e),s={...rr(e),name:n||"",quality:r,intervals:e,aliases:t};ir.push(s),s.name&&(or[s.name]=s),or[s.setNum]=s,or[s.chroma]=s,s.aliases.forEach((e=>function(e,t){or[t]=e}(s,e)))}[["1P 3M 5P","major","M ^ "],["1P 3M 5P 7M","major seventh","maj7 Δ ma7 M7 Maj7 ^7"],["1P 3M 5P 7M 9M","major ninth","maj9 Δ9 ^9"],["1P 3M 5P 7M 9M 13M","major thirteenth","maj13 Maj13 ^13"],["1P 3M 5P 6M","sixth","6 add6 add13 M6"],["1P 3M 5P 6M 9M","sixth/ninth","6/9 69 M69"],["1P 3M 6m 7M","major seventh flat sixth","M7b6 ^7b6"],["1P 3M 5P 7M 11A","major seventh sharp eleventh","maj#4 Δ#4 Δ#11 M7#11 ^7#11 maj7#11"],["1P 3m 5P","minor","m min -"],["1P 3m 5P 7m","minor seventh","m7 min7 mi7 -7"],["1P 3m 5P 7M","minor/major seventh","m/ma7 m/maj7 mM7 mMaj7 m/M7 -Δ7 mΔ -^7"],["1P 3m 5P 6M","minor sixth","m6 -6"],["1P 3m 5P 7m 9M","minor ninth","m9 -9"],["1P 3m 5P 7M 9M","minor/major ninth","mM9 mMaj9 -^9"],["1P 3m 5P 7m 9M 11P","minor eleventh","m11 -11"],["1P 3m 5P 7m 9M 13M","minor thirteenth","m13 -13"],["1P 3m 5d","diminished","dim ° o"],["1P 3m 5d 7d","diminished seventh","dim7 °7 o7"],["1P 3m 5d 7m","half-diminished","m7b5 ø -7b5 h7 h"],["1P 3M 5P 7m","dominant seventh","7 dom"],["1P 3M 5P 7m 9M","dominant ninth","9"],["1P 3M 5P 7m 9M 13M","dominant thirteenth","13"],["1P 3M 5P 7m 11A","lydian dominant seventh","7#11 7#4"],["1P 3M 5P 7m 9m","dominant flat ninth","7b9"],["1P 3M 5P 7m 9A","dominant sharp ninth","7#9"],["1P 3M 7m 9m","altered","alt7"],["1P 4P 5P","suspended fourth","sus4 sus"],["1P 2M 5P","suspended second","sus2"],["1P 4P 5P 7m","suspended fourth seventh","7sus4 7sus"],["1P 5P 7m 9M 11P","eleventh","11"],["1P 4P 5P 7m 9m","suspended fourth flat ninth","b9sus phryg 7b9sus 7b9sus4"],["1P 5P","fifth","5"],["1P 3M 5A","augmented","aug + +5 ^#5"],["1P 3m 5A","minor augmented","m#5 -#5 m+"],["1P 3M 5A 7M","augmented seventh","maj7#5 maj7+5 +maj7 ^7#5"],["1P 3M 5P 7M 9M 11A","major sharp eleventh (lydian)","maj9#11 Δ9#11 ^9#11"],["1P 2M 4P 5P","","sus24 sus4add9"],["1P 3M 5A 7M 9M","","maj9#5 Maj9#5"],["1P 3M 5A 7m","","7#5 +7 7+ 7aug aug7"],["1P 3M 5A 7m 9A","","7#5#9 7#9#5 7alt"],["1P 3M 5A 7m 9M","","9#5 9+"],["1P 3M 5A 7m 9M 11A","","9#5#11"],["1P 3M 5A 7m 9m","","7#5b9 7b9#5"],["1P 3M 5A 7m 9m 11A","","7#5b9#11"],["1P 3M 5A 9A","","+add#9"],["1P 3M 5A 9M","","M#5add9 +add9"],["1P 3M 5P 6M 11A","","M6#11 M6b5 6#11 6b5"],["1P 3M 5P 6M 7M 9M","","M7add13"],["1P 3M 5P 6M 9M 11A","","69#11"],["1P 3m 5P 6M 9M","","m69 -69"],["1P 3M 5P 6m 7m","","7b6"],["1P 3M 5P 7M 9A 11A","","maj7#9#11"],["1P 3M 5P 7M 9M 11A 13M","","M13#11 maj13#11 M13+4 M13#4"],["1P 3M 5P 7M 9m","","M7b9"],["1P 3M 5P 7m 11A 13m","","7#11b13 7b5b13"],["1P 3M 5P 7m 13M","","7add6 67 7add13"],["1P 3M 5P 7m 9A 11A","","7#9#11 7b5#9 7#9b5"],["1P 3M 5P 7m 9A 11A 13M","","13#9#11"],["1P 3M 5P 7m 9A 11A 13m","","7#9#11b13"],["1P 3M 5P 7m 9A 13M","","13#9"],["1P 3M 5P 7m 9A 13m","","7#9b13"],["1P 3M 5P 7m 9M 11A","","9#11 9+4 9#4"],["1P 3M 5P 7m 9M 11A 13M","","13#11 13+4 13#4"],["1P 3M 5P 7m 9M 11A 13m","","9#11b13 9b5b13"],["1P 3M 5P 7m 9m 11A","","7b9#11 7b5b9 7b9b5"],["1P 3M 5P 7m 9m 11A 13M","","13b9#11"],["1P 3M 5P 7m 9m 11A 13m","","7b9b13#11 7b9#11b13 7b5b9b13"],["1P 3M 5P 7m 9m 13M","","13b9"],["1P 3M 5P 7m 9m 13m","","7b9b13"],["1P 3M 5P 7m 9m 9A","","7b9#9"],["1P 3M 5P 9M","","Madd9 2 add9 add2"],["1P 3M 5P 9m","","Maddb9"],["1P 3M 5d","","Mb5"],["1P 3M 5d 6M 7m 9M","","13b5"],["1P 3M 5d 7M","","M7b5"],["1P 3M 5d 7M 9M","","M9b5"],["1P 3M 5d 7m","","7b5"],["1P 3M 5d 7m 9M","","9b5"],["1P 3M 7m","","7no5"],["1P 3M 7m 13m","","7b13"],["1P 3M 7m 9M","","9no5"],["1P 3M 7m 9M 13M","","13no5"],["1P 3M 7m 9M 13m","","9b13"],["1P 3m 4P 5P","","madd4"],["1P 3m 5P 6m 7M","","mMaj7b6"],["1P 3m 5P 6m 7M 9M","","mMaj9b6"],["1P 3m 5P 7m 11P","","m7add11 m7add4"],["1P 3m 5P 9M","","madd9"],["1P 3m 5d 6M 7M","","o7M7"],["1P 3m 5d 7M","","oM7"],["1P 3m 6m 7M","","mb6M7"],["1P 3m 6m 7m","","m7#5"],["1P 3m 6m 7m 9M","","m9#5"],["1P 3m 5A 7m 9M 11P","","m11A"],["1P 3m 6m 9m","","mb6b9"],["1P 2M 3m 5d 7m","","m9b5"],["1P 4P 5A 7M","","M7#5sus4"],["1P 4P 5A 7M 9M","","M9#5sus4"],["1P 4P 5A 7m","","7#5sus4"],["1P 4P 5P 7M","","M7sus4"],["1P 4P 5P 7M 9M","","M9sus4"],["1P 4P 5P 7m 9M","","9sus4 9sus"],["1P 4P 5P 7m 9M 13M","","13sus4 13sus"],["1P 4P 5P 7m 9m 13m","","7sus4b9b13 7b9b13sus4"],["1P 4P 7m 10m","","4 quartal"],["1P 5P 7m 9m 11P","","11b9"]].forEach((([e,t,n])=>ar(e.split(" "),n.split(" "),t))),ir.sort(((e,t)=>e.setNum-t.setNum));const lr={...Xn,intervals:[],aliases:[]};let cr={};function ur(e,t,n=[]){const r={...rr(e),name:t,intervals:e,aliases:n};return cr[r.name]=r,cr[r.setNum]=r,cr[r.chroma]=r,r.aliases.forEach((e=>function(e,t){cr[t]=e}(r,e))),r}function mr(e){if(+(t=e)>=0&&+t<=127)return+e;var t;const n=Ln(e);return n.empty?null:n.midi}[["1P 2M 3M 5P 6M","major pentatonic","pentatonic"],["1P 3M 4P 5P 7M","ionian pentatonic"],["1P 3M 4P 5P 7m","mixolydian pentatonic","indian"],["1P 2M 4P 5P 6M","ritusen"],["1P 2M 4P 5P 7m","egyptian"],["1P 3M 4P 5d 7m","neopolitan major pentatonic"],["1P 3m 4P 5P 6m","vietnamese 1"],["1P 2m 3m 5P 6m","pelog"],["1P 2m 4P 5P 6m","kumoijoshi"],["1P 2M 3m 5P 6m","hirajoshi"],["1P 2m 4P 5d 7m","iwato"],["1P 2m 4P 5P 7m","in-sen"],["1P 3M 4A 5P 7M","lydian pentatonic","chinese"],["1P 3m 4P 6m 7m","malkos raga"],["1P 3m 4P 5d 7m","locrian pentatonic","minor seven flat five pentatonic"],["1P 3m 4P 5P 7m","minor pentatonic","vietnamese 2"],["1P 3m 4P 5P 6M","minor six pentatonic"],["1P 2M 3m 5P 6M","flat three pentatonic","kumoi"],["1P 2M 3M 5P 6m","flat six pentatonic"],["1P 2m 3M 5P 6M","scriabin"],["1P 3M 5d 6m 7m","whole tone pentatonic"],["1P 3M 4A 5A 7M","lydian #5P pentatonic"],["1P 3M 4A 5P 7m","lydian dominant pentatonic"],["1P 3m 4P 5P 7M","minor #7M pentatonic"],["1P 3m 4d 5d 7m","super locrian pentatonic"],["1P 2M 3m 4P 5P 7M","minor hexatonic"],["1P 2A 3M 5P 5A 7M","augmented"],["1P 2M 3m 3M 5P 6M","major blues"],["1P 2M 4P 5P 6M 7m","piongio"],["1P 2m 3M 4A 6M 7m","prometheus neopolitan"],["1P 2M 3M 4A 6M 7m","prometheus"],["1P 2m 3M 5d 6m 7m","mystery #1"],["1P 2m 3M 4P 5A 6M","six tone symmetric"],["1P 2M 3M 4A 5A 7m","whole tone","messiaen's mode #1"],["1P 2m 4P 4A 5P 7M","messiaen's mode #5"],["1P 3m 4P 5d 5P 7m","minor blues","blues"],["1P 2M 3M 4P 5d 6m 7m","locrian major","arabian"],["1P 2m 3M 4A 5P 6m 7M","double harmonic lydian"],["1P 2M 3m 4P 5P 6m 7M","harmonic minor"],["1P 2m 2A 3M 4A 6m 7m","altered","super locrian","diminished whole tone","pomeroy"],["1P 2M 3m 4P 5d 6m 7m","locrian #2","half-diminished","aeolian b5"],["1P 2M 3M 4P 5P 6m 7m","mixolydian b6","melodic minor fifth mode","hindu"],["1P 2M 3M 4A 5P 6M 7m","lydian dominant","lydian b7","overtone"],["1P 2M 3M 4A 5P 6M 7M","lydian"],["1P 2M 3M 4A 5A 6M 7M","lydian augmented"],["1P 2m 3m 4P 5P 6M 7m","dorian b2","phrygian #6","melodic minor second mode"],["1P 2M 3m 4P 5P 6M 7M","melodic minor"],["1P 2m 3m 4P 5d 6m 7m","locrian"],["1P 2m 3m 4d 5d 6m 7d","ultralocrian","superlocrian bb7","superlocrian diminished"],["1P 2m 3m 4P 5d 6M 7m","locrian 6","locrian natural 6","locrian sharp 6"],["1P 2A 3M 4P 5P 5A 7M","augmented heptatonic"],["1P 2M 3m 4A 5P 6M 7m","dorian #4","ukrainian dorian","romanian minor","altered dorian"],["1P 2M 3m 4A 5P 6M 7M","lydian diminished"],["1P 2m 3m 4P 5P 6m 7m","phrygian"],["1P 2M 3M 4A 5A 7m 7M","leading whole tone"],["1P 2M 3M 4A 5P 6m 7m","lydian minor"],["1P 2m 3M 4P 5P 6m 7m","phrygian dominant","spanish","phrygian major"],["1P 2m 3m 4P 5P 6m 7M","balinese"],["1P 2m 3m 4P 5P 6M 7M","neopolitan major"],["1P 2M 3m 4P 5P 6m 7m","aeolian","minor"],["1P 2M 3M 4P 5P 6m 7M","harmonic major"],["1P 2m 3M 4P 5P 6m 7M","double harmonic major","gypsy"],["1P 2M 3m 4P 5P 6M 7m","dorian"],["1P 2M 3m 4A 5P 6m 7M","hungarian minor"],["1P 2A 3M 4A 5P 6M 7m","hungarian major"],["1P 2m 3M 4P 5d 6M 7m","oriental"],["1P 2m 3m 3M 4A 5P 7m","flamenco"],["1P 2m 3m 4A 5P 6m 7M","todi raga"],["1P 2M 3M 4P 5P 6M 7m","mixolydian","dominant"],["1P 2m 3M 4P 5d 6m 7M","persian"],["1P 2M 3M 4P 5P 6M 7M","major","ionian"],["1P 2m 3M 5d 6m 7m 7M","enigmatic"],["1P 2M 3M 4P 5A 6M 7M","major augmented","major #5","ionian augmented","ionian #5"],["1P 2A 3M 4A 5P 6M 7M","lydian #9"],["1P 2m 2M 4P 4A 5P 6m 7M","messiaen's mode #4"],["1P 2m 3M 4P 4A 5P 6m 7M","purvi raga"],["1P 2m 3m 3M 4P 5P 6m 7m","spanish heptatonic"],["1P 2M 3M 4P 5P 6M 7m 7M","bebop"],["1P 2M 3m 3M 4P 5P 6M 7m","bebop minor"],["1P 2M 3M 4P 5P 5A 6M 7M","bebop major"],["1P 2m 3m 4P 5d 5P 6m 7m","bebop locrian"],["1P 2M 3m 4P 5P 6m 7m 7M","minor bebop"],["1P 2M 3m 4P 5d 6m 6M 7M","diminished","whole-half diminished"],["1P 2M 3M 4P 5d 5P 6M 7M","ichikosucho"],["1P 2M 3m 4P 5P 6m 6M 7M","minor six diminished"],["1P 2m 3m 3M 4A 5P 6M 7m","half-whole diminished","dominant diminished","messiaen's mode #2"],["1P 3m 3M 4P 5P 6M 7m 7M","kafi raga"],["1P 2M 3M 4P 4A 5A 6A 7M","messiaen's mode #6"],["1P 2M 3m 3M 4P 5d 5P 6M 7m","composite blues"],["1P 2M 3m 3M 4A 5P 6m 7m 7M","messiaen's mode #3"],["1P 2m 2M 3m 4P 4A 5P 6m 6M 7M","messiaen's mode #7"],["1P 2m 2M 3m 3M 4P 5d 5P 6m 6M 7m 7M","chromatic"]].forEach((([e,t,...n])=>ur(e.split(" "),t,n)));const hr=Math.log(2),dr=Math.log(440);function fr(e){const t=12*(Math.log(e)-dr)/hr+69;return Math.round(100*t)/100}const pr="C C# D D# E F F# G G# A A# B".split(" "),gr="C Db D Eb E F Gb G Ab A Bb B".split(" ");function yr(e,t={}){if(isNaN(e)||e===-1/0||e===1/0)return"";e=Math.round(e);const n=(!0===t.sharps?pr:gr)[e%12];if(t.pitchClass)return n;return n+(Math.floor(e/12)-1)}const br=["C","D","E","F","G","A","B"],vr=e=>e.name,Pr=e=>e.map(Ln).filter((e=>!e.empty));const Mr=Ln;const _r=Yn,xr=e=>t=>_r(t,e),wr=e=>t=>_r(e,t);function Ar(e,t){const n=Mr(e);if(n.empty)return"";const[r,s]=n.coord;return Bn(void 0===s?[r+t]:[r+t,s]).name}const kr=(e,t)=>e.height-t.height;function jr(e,t){return t=t||kr,Pr(e).sort(t).map(vr)}var $r={names:function(e){return void 0===e?br.slice():Array.isArray(e)?Pr(e).map(vr):[]},get:Mr,name:e=>Mr(e).name,pitchClass:e=>Mr(e).pc,accidentals:e=>Mr(e).acc,octave:e=>Mr(e).oct,midi:e=>Mr(e).midi,ascending:kr,descending:(e,t)=>t.height-e.height,sortedNames:jr,sortedUniqNames:function(e){return jr(e,kr).filter(((e,t,n)=>0===t||e!==n[t-1]))},fromMidi:function(e){return yr(e)},fromMidiSharps:function(e){return yr(e,{sharps:!0})},freq:e=>Mr(e).freq,fromFreq:function(e){return yr(fr(e))},fromFreqSharps:function(e){return yr(fr(e),{sharps:!0})},chroma:e=>Mr(e).chroma,transpose:_r,tr:Yn,transposeBy:xr,trBy:xr,transposeFrom:wr,trFrom:wr,transposeFifths:Ar,trFifths:Ar,simplify:e=>{const t=Mr(e);return t.empty?"":yr(t.midi||t.chroma,{sharps:t.alt>0,pitchClass:null===t.midi})},enharmonic:function(e,t){const n=Mr(e);if(n.empty)return"";const r=Mr(t||yr(n.midi||n.chroma,{sharps:n.alt<0,pitchClass:!0}));if(r.empty||r.chroma!==n.chroma)return"";if(void 0===n.oct)return r.pc;const s=n.chroma-n.alt,i=r.chroma-r.alt,o=s>11||i<0?-1:s<0||i>11?1:0,a=n.oct+o;return r.pc+a}};const Sr={empty:!0,name:"",chordType:""},Cr={};function Ir(e){return"string"==typeof e?Cr[e]||(Cr[e]=function(e){const[t,n,r,s]=(i=e,Nr.exec(i)||["","","",""]);var i;if(!r)return Sr;const o=r.toUpperCase(),a=Tr.indexOf(o),l=Fn(n),c=1;return{empty:!1,name:t,roman:r,interval:Un({step:a,alt:l,dir:c}).name,acc:n,chordType:s,alt:l,step:a,major:r===o,oct:0,dir:c}}(e)):"number"==typeof e?Ir(Tr[e]||""):Cn(e)?Ir(Dn((t=e).alt)+Tr[t.step]):Sn(e)?Ir(e.name):Sr;var t}const Nr=/^(#{1,}|b{1,}|x{1,}|)(IV|I{1,3}|VI{0,2}|iv|i{1,3}|vi{0,2})([^IViv]*)$/;const Tr="I II III IV V VI VII".split(" ");const Er=Object.freeze([]),Vr={type:"major",tonic:"",alteration:0,keySignature:""},qr={tonic:"",grades:Er,intervals:Er,scale:Er,chords:Er,chordsHarmonicFunction:Er,chordScales:Er},Dr={...Vr,...qr,type:"major",minorRelative:"",scale:Er,secondaryDominants:Er,secondaryDominantsMinorRelative:Er,substituteDominants:Er,substituteDominantsMinorRelative:Er},Fr={...Vr,type:"minor",relativeMajor:"",natural:qr,harmonic:qr,melodic:qr},Lr=(e,t,n="")=>t.map(((t,r)=>`${e[r]}${n}${t}`));function Or(e,t,n,r){return s=>{const i=e.map((e=>Ir(e).interval||"")),o=i.map((e=>Yn(s,e)));return{tonic:s,grades:e,intervals:i,scale:o,chords:Lr(o,t),chordsHarmonicFunction:n.slice(),chordScales:Lr(o,r," ")}}}const Br=(e,t)=>{const n=Ln(e),r=Ln(t);return n.empty||r.empty?0:r.coord[0]-n.coord[0]},Rr=Or("I II III IV V VI VII".split(" "),"maj7 m7 m7 maj7 7 m7 m7b5".split(" "),"T SD T SD D T D".split(" "),"major,dorian,phrygian,lydian,mixolydian,minor,locrian".split(",")),zr=Or("I II bIII IV V bVI bVII".split(" "),"m7 m7b5 maj7 m7 m7 maj7 7".split(" "),"T SD T SD D SD SD".split(" "),"minor,locrian,major,dorian,phrygian,lydian,mixolydian".split(",")),Kr=Or("I II bIII IV V bVI VII".split(" "),"mMaj7 m7b5 +maj7 m7 7 maj7 o7".split(" "),"T SD T SD D SD D".split(" "),"harmonic minor,locrian 6,major augmented,lydian diminished,phrygian dominant,lydian #9,ultralocrian".split(",")),Gr=Or("I II bIII IV V VI VII".split(" "),"m6 m7 +maj7 7 7 m7b5 m7b5".split(" "),"T SD T SD D  ".split(" "),"melodic minor,dorian b2,lydian augmented,lydian dominant,mixolydian b6,locrian #2,altered".split(","));var Ur={majorKey:function(e){const t=Ln(e).pc;if(!t)return Dr;const n=Rr(t),r=Br("C",t),s=t=>{const n=Ir(t);return n.empty?"":Yn(e,n.interval)+n.chordType};return{...n,type:"major",minorRelative:Yn(t,"-3m"),alteration:r,keySignature:Dn(r),secondaryDominants:"- VI7 VII7 I7 II7 III7 -".split(" ").map(s),secondaryDominantsMinorRelative:"- IIIm7b5 IV#m7 Vm7 VIm7 VIIm7b5 -".split(" ").map(s),substituteDominants:"- bIII7 IV7 bV7 bVI7 bVII7 -".split(" ").map(s),substituteDominantsMinorRelative:"- IIIm7 Im7 IIbm7 VIm7 IVm7 -".split(" ").map(s)}},majorTonicFromKeySignature:function(e){return"number"==typeof e?Ar("C",e):"string"==typeof e&&/^b+|#+$/.test(e)?Ar("C",Fn(e)):null},minorKey:function(e){const t=Ln(e).pc;if(!t)return Fr;const n=Br("C",t)-3;return{type:"minor",tonic:t,relativeMajor:Yn(t,"3m"),alteration:n,keySignature:Dn(n),natural:zr(t),harmonic:Kr(t),melodic:Gr(t)}}};const Hr=[[0,2773,0,"ionian","","Maj7","major"],[1,2902,2,"dorian","m","m7"],[2,3418,4,"phrygian","m","m7"],[3,2741,-1,"lydian","","Maj7"],[4,2774,1,"mixolydian","","7"],[5,2906,3,"aeolian","m","m7","minor"],[6,3434,5,"locrian","dim","m7b5"]],Wr={...Xn,name:"",alt:0,modeNum:NaN,triad:"",seventh:"",aliases:[]},Yr=Hr.map((function(e){const[t,n,r,s,i,o,a]=e,l=a?[a]:[],c=Number(n).toString(2);return{empty:!1,intervals:(u=s,cr[u]||lr).intervals,modeNum:t,chroma:c,normalized:c,name:s,setNum:n,alt:r,triad:i,seventh:o,aliases:l};var u})),Jr={};function Xr(e){return"string"==typeof e?Jr[e.toLowerCase()]||Wr:e&&e.name?Xr(e.name):Wr}function Qr(e){return(t,n)=>{const r=Xr(t);if(r.empty)return[];const s=Jn(r.modeNum,e),i=r.intervals.map((e=>Yn(n,e)));return s.map(((e,t)=>i[t]+e))}}function Zr(e){const t=e.map(mr).filter((e=>0===e||e));return e.length&&t.length===e.length?t.reduce(((e,t)=>{const n=e[e.length-1];return e.concat((r=n,s=t,r<s?function(e,t){const n=[];for(;t--;n[t]=t+e);return n}(r,s-r+1):function(e,t){const n=[];for(;t--;n[t]=e-t);return n}(r,r-s+1)).slice(1));var r,s}),[t[0]]):[]}Yr.forEach((e=>{Jr[e.name]=e,e.aliases.forEach((t=>{Jr[t]=e}))})),Qr(Hr.map((e=>e[4]))),Qr(Hr.map((e=>e[5])));var es={numeric:Zr,chromatic:function(e,t){return Zr(e).map((e=>yr(e,t)))}};const ts=es.numeric(["C3","C6"]).map($r.fromMidi),ns=e=>{let t=$r.get(e);return t.empty?$r.fromMidi(e):$r.fromFreq(t.freq)},rs=e=>$r.enharmonic(e),ss=[...Array(7)].reduce(((e,t)=>[...e,Yn(e[e.length-1],"P5")]),["C"]),is=[...Array(7)].reduce(((e,t)=>[...e,Yn(e[e.length-1],"P4")]),["C"]),os=e=>Ur.majorKey(e);class as{constructor(e){this.context=e}get currentTime(){return this.context.currentTime}async init(e){}_ps=new Map;attack(e,t,n=this.context.currentTime){let r=new cs(this.context,(s=t,$r.get(s).freq))._set_data({synth:e});var s;r.attack(n),this._ps.set(t,r)}release(e,t=this.context.currentTime){let n=this._ps.get(e);n&&(n.release(t),this._ps.delete(e))}}function ls(e,t,n=0){return new OscillatorNode(e,{type:t,detune:n})}class cs extends xn{constructor(e,t){super(e),this.freq=t}_attack(e=this.context.currentTime){let{context:t,maxFilterFreq:n}=this,{_out_gain:r,freq:s}=this,{synth:i}=this.data,{wave:o,volume:a,cutoff:l,cutoff_max:c,amplitude:u,filter_adsr:m,amp_adsr:h}=i,d=ls(t,o,15);this.osc1=d;let f=ls(t,o,-15);this.osc2=f;let p=t.createGain(),g=t.createGain();d.connect(p),f.connect(g),p.gain.setValueAtTime(1,e),g.gain.setValueAtTime(1,e);let y=new BiquadFilterNode(t,{type:"lowpass",Q:6});this.filter=y,p.connect(y),g.connect(y),r.gain.setValueAtTime(a,e),d.frequency.setValueAtTime(s,e),f.frequency.setValueAtTime(s,e);let b=new GainNode(t);this.envelope=b,y.connect(b),b.connect(r);let v={...m,s:l*n*.4+m.s*c*n*.6};wn(y.frequency,e,v,l*n*.4,l*n*.4+c*n*.6),wn(b.gain,e,h,0,u),d.start(e),f.start(e)}_release(e=this.context.currentTime){let{synth:{cutoff:t,filter_adsr:n,amp_adsr:r}}=this.data;An(this.envelope.gain,e,r,0),An(this.filter.frequency,e,n,t*this.maxFilterFreq*.4);let{a:s,r:i}=r;this.osc1.stop(e+s+i),this.osc2.stop(e+s+i)}}const us=(()=>{let e;return{get context(){return e||(e=new AudioContext),e}}})(),ms=async e=>{if(e){let e={};ts.forEach((t=>e[t]=`${t}.mp3`));let t=new kn(us.context);return await t.init({srcs:e,base_url:"assets/audio/"}),t}},hs=async e=>{if(e){let e=new as(us.context);return await e.init(),e}};class ds{onClick(){}onScroll(){this.ref.$clear_bounds()}user_click(){Pn(this._user_click,!0)}get osc_player(){return _n(this.r_opc)}get player(){return _n(this.r_pc)}constructor(){this._user_click=y(!1),this.r_pc=_(this._user_click[0],ms),this.r_opc=_(this._user_click[0],hs),this.ref=function(){let e=y(),t=y(void 0,{equals:!1}),n=M((()=>(_n(t),_n(e)?.scrollTop)));M((()=>{let e=_n(n);if(void 0!==e)return bn.make(0,e)}));let r=M((()=>(_n(t),_n(e)?.getBoundingClientRect()))),s=M((()=>{let e=r();if(e)return bn.make(e.x,e.y)})),i=M((()=>{let e=r();if(e)return bn.make(e.width,e.height)}));return{$clear_bounds(){Pn(t)},get $ref(){return _n(e)},set $ref(t){Pn(e,t)},get rect(){return r()},get orig(){return s()},get size(){return i()},get_normal_at_abs_pos(e){let t=i(),n=s();if(t&&n)return e.sub(n).div(t)}}}()}}const fs=S();function ps(e){let t=new ds(e.options);return Y(fs.Provider,{value:t,get children(){return e.children}})}const gs=()=>C(fs),ys=1e3/60,bs=60*ys,vs=30*ys;class Ps{_just_on=!1;_just_off=!1;_been_on=void 0;get just_on(){return this._just_on}get been_on(){return this._been_on}get just_off(){return this._just_off}_on(){this._just_on=!0}_off(){this._just_off=!0}update(e,t){void 0!==this._been_on&&(this._been_on+=e),this._just_on&&(this._just_on=!1,this._been_on=0),this._just_off&&(this._just_off=!1,this._been_on=void 0)}}let Ms=(new class{clear(){this._jpr=new Map}_jpr=new Map;get just_ons(){let{_jpr:e}=this;return[...e.keys()].filter((t=>e.get(t).just_on))}get been_ons(){let{_jpr:e}=this;return[...e.keys()].filter((t=>void 0!==e.get(t).been_on)).map((t=>[t,e.get(t).been_on]))}get just_offs(){let{_jpr:e}=this;return[...e.keys()].filter((t=>e.get(t).just_off))}noteOn(e,t){this._jpr.has(e)||this._jpr.set(e,new Ps),this._jpr.get(e)._on()}noteOff(e){this._jpr.has(e)||this._jpr.set(e,new Ps),this._jpr.get(e)._off()}update(e,t){for(let[n,r]of this._jpr)r.update(e,t)}init(){const e=(e,n)=>{0!==n?this.noteOn(e,n):t(e)},t=e=>{this.noteOff(e)},n=n=>{let r=n.data;r[0],r[0];let s=240&r[0],i=r[1],o=r[2];switch(s){case 144:e(i,o);break;case 128:t(i)}};return navigator.requestMIDIAccess({sysex:!0}).then((e=>{let t=e.inputs.values();for(let e=t.next();e&&!e.done;e=t.next())e.value.onmidimessage=n})),this}}).init();const _s=e=>{Ms.clear();let t=vn(((t,n)=>{let{just_ons:r,just_offs:s}=Ms;r.length>0&&e.just_ons(r.map((e=>e))),s.length>0&&e.just_offs(s.map((e=>e))),Ms.update(t,n)}));return{dispose(){Ms.clear(),t()}}},xs=(e=>{let t={get:t=>e.getItem(t),set:(t,n)=>e.setItem(t,n),remove:t=>e.removeItem(t),make:e=>({get:()=>t.get(e),set:n=>t.set(e,n),remove:()=>t.remove(e)})};return t})(window.localStorage),ws=(e,t,n)=>{let r=xs.make(e),s=y(parseInt(r.get())||t,n);return P(A(s[0],((e,t)=>{void 0===e?r.remove():r.set(e)}))),s};class As{get player(){return _n(this.solsido.r_pc)}user_click(){this.solsido.user_click()}constructor(e){this.solsido=e,this._exercises=$s(this),this._majors=Ls(this),this.major_playback=Is(this),this.major_you=Cs(this)}}const ks=(e,t)=>{let n=[[...ss,...is.slice(1,8)],ss,is][t].slice(0);return 0===e&&function(e){for(var t=e.length-1;t>0;t--){var n=Math.floor(Math.random()*(t+1));[e[t],e[n]]=[e[n],e[t]]}}(n),e=>{let t=void 0===e?0:n.indexOf(e)+1;return n[t%n.length]}},js=(()=>{const e=(e,t)=>[e,t].join("_");let t={},n=[0,1,2];return[0,1].forEach((r=>n.forEach((n=>{let s=e(r,n);t[s]=ws(s,0)})))),n=>{let[r,s,i]=n;return t[e(s,i)]}})(),$s=e=>{let t=y(!0),n=ws("time",0),r=ws("order",0),s=ws("nb",0),i=ws("hints",0),o=y(),a=M((()=>{let t=_n(o);if(t)return((e,t)=>{let[n,r,s,i]=t,o=1===i,a=js(t),l=y(),c=ks(r,s),u=["Challenge","Free"],m=["","Sorted"],h=["","Sharps","Flats"],d=y(0),f=y(),p=y(0),g=vn(((e,t)=>{Pn(p,(t=>t+e))})),b=M((()=>{let e=_n(f);if(e)return _n(p)-e<vs})),v=M((()=>{let e=_n(p);return(0===n?Math.max(0,120*bs-e):e)/1e3}));j((()=>{g()}));let _=M((()=>["you"])),x=M((()=>[b()?"red":""])),w=y(),k=y(c()),$=M((()=>os(_n(k)))),S=M((()=>Ds($().scale))),C=M((()=>qs($().keySignature))),I=M((()=>C().length)),N=M((()=>1.3-I()/8*.3)),T=M((()=>S().map((e=>$().scale.find((t=>t[0]===e[0]))+e[1])))),E=M((()=>["gclef@0.2,0",...C(),...o?S().map(((e,t)=>`whole_note,ghost@${t*N()+.3*I()+1.5},${.125*Vs(e)}`)):[]])),V=y([],{equals:!1}),q=M((()=>_n(V).map(((e,t)=>`whole_note,live@${t*N()+.3*I()+1.5},${.125*Vs(e)}`)))),D={get result(){return _n(l)},get score(){return _n(d)},get score_klass(){return x()},get time(){return v()},get show_hints(){return o},set playing_note(e){Pn(w,e)},get bras(){return[...E(),...q()]},get klass(){return _()},get majorKey(){return $()},get header(){return[u[n],m[r],h[s]].join(" ")},cancel(){e._exercises.cancel()}};return P(A(V[0],(e=>{if(8===e.length){let e=c(_n(k));e&&(Pn(d,(e=>e+1)),Pn(k,e),Pn(V,[]))}}))),P(A(w[0],((e,t)=>{if(!t&&e){let t=T()[_n(V).length],n=(t===e||rs(t)===e)&&t;if(n){let e=n,t=e[0]+e[e.length-1];Mn(V,(e=>e.push(t)))}else Pn(f,_n(p)),Pn(V,[])}}))),P(A(v,((t,n)=>{if(t-n<0&&0===t){let t=_n(a),n=_n(d),r=Math.max(t,n);Pn(l,r),Pn(a,(e=>r)),e.major_you.stop_major(D)}}))),D})(e,t)}));P(A(a,((t,n)=>{t?e.major_you.play_major(t):n&&e.major_you.stop_major(n)})));let l=M((()=>[_n(n),_n(r),_n(s),_n(i)]));return{get explanations(){return _n(t)},get dton(){return l()},get current(){return a()},start(a){Pn(t,!1),Pn(n,a[0]),Pn(r,a[1]),Pn(s,a[2]),Pn(i,a[3]),Pn(o,a),e.user_click()},cancel(){Pn(o,void 0)}}};let Ss={adsr:{a:0,d:.1,s:.8,r:.6}};const Cs=e=>{let t=y();return P(A(t[0],(t=>{if(t){let n=_s({just_ons(n){let{player:r}=e;n.forEach((e=>r?.attack(Ss,ns(e)))),t.playing_note=ns(n[0])},just_offs(n){let{player:r}=e;n.forEach((e=>r?.release(ns(e)))),t.playing_note=void 0}});j((()=>{n.dispose()}))}}))),{play_major(e){Pn(t,e)},stop_major(e){Pn(t,(t=>t===e?void 0:t))}}},Is=e=>{let t=y(),n=250;return P(A(t[0],(t=>{if(t){let r,s,i=-1,o=0,a=vn(((a,l)=>{o+=a;let{player:c}=e;if(o>=n)if(o-=n,i+=1,i>=8)i-=9;else{[r,s]=t.xw_at(i);let e=ns(t.notes[i]);c?.attack(Ss,e),c?.release(e,c.currentTime+(n-o)/1e3)}i>-1&&(t.xwi=`${r},${s},${o/n*100}`)}));j((()=>{a(),t.xwi="0,0,0"}))}}))),{play_major(e){Pn(t,e)},stop_major(e){Pn(t,(t=>t===e?void 0:t))}}};let Ns={"#":"sharp_accidental",b:"flat_accidental"},Ts={undefined:[],"#":["F5","C5","G5","D5","A4","E5","B4"],b:["B4","E5","A4","D5","G5","C5","F5"]},Es="B3 C4 D4 E4 F4 G4 A4 B4 C5 D5 E5 F5 G5 A5 B5 C6".split(" ");const Vs=e=>Es.indexOf("G4")-Es.indexOf(e),qs=e=>{let t=e[0],n=e.length;return Ts[t].slice(0,n).map(((e,n)=>`${Ns[t]}@${.3*n+1.2},${.125*Vs(e)}`))},Ds=e=>{let t=Es.findIndex((t=>t[0]===e[0][0]));return Es.slice(t,t+e.length+1)},Fs=(e,t)=>{let n=os(t),r=Ds(n.scale),s=qs(n.keySignature),i=s.length,o=1.3-i/8*.3,a=["gclef@0.2,0",...s,...r.map(((e,t)=>`whole_note@${t*o+.3*i+1.5},${.125*Vs(e)}`))],l=r.map((e=>n.scale.find((t=>t[0]===e[0]))+e[1])),c=y(!1),u=y(!1),m=y("0,0,0"),h=M((()=>[_n(u)?"you":"",_n(c)?"playback":""])),d=y(),f=M((()=>{let e=_n(d);if(!e)return[];let t=l.find((t=>t===e||rs(t)===e)),n=t||e,r=n[0]+n[n.length-1];return[`whole_note,live,${t?"green":"red"}@${8*o+.3*i+1.5},${.125*Vs(r)}`]})),p={get klass(){return h()},get majorKey(){return n},get bras(){return[...a,...f()]},get notes(){return l},set playing_note(e){Pn(d,e)},xw_at(e){let t=a.findIndex((e=>e.match("whole_note"))),n=0,r=a.findIndex((t=>t.match("whole_note")&&n++===e)),s=a[t],i=a[t+1],o=a[r],l=s.split("@")[1].split(",")[0],c=i.split("@")[1].split(",")[0],u=o.split("@")[1].split(",")[0];return[parseFloat(u),parseFloat(c)-parseFloat(l)]},get play_mode(){return _n(c)?"stop":"play"},get you_mode(){return _n(u)?"stop":"you"},set_play(e){Pn(c,(t=>!!e&&!t))},set_you(e){Pn(u,(t=>!!e&&!t))},click_play(){e.user_click(),e._majors.majors.forEach((e=>e.set_play(e===this)))},click_you(){e.user_click(),e._majors.majors.forEach((e=>e.set_you(e===this)))},get you(){return _n(u)},get playback(){return _n(c)},set xwi(e){Pn(m,e)},get xwi(){return _n(m)}};return P(A(u[0],((t,n)=>{t?e.major_you.play_major(p):n&&e.major_you.stop_major(p)}))),P(A(c[0],((t,n)=>{t?e.major_playback.play_major(p):n&&e.major_playback.stop_major(p)}))),p},Ls=e=>{let t=ss.slice(1).map((t=>Fs(e,t))),n=is.slice(1).map((t=>Fs(e,t))),r=Fs(e,ss[0]);return{get majors(){return[...t,...n,r]},get c_major(){return r},get sharps_flats_zipped(){return t.map(((e,t)=>[n[t],e]))}}},Os=ue("<div></div>"),Bs=e=>{let t;return k((()=>{let n=pn(t);P((()=>{n.bras=e.bras})),P((()=>{n.xwi=e.xwi||""})),P((()=>{n.playback=e.playback}))})),(()=>{const e=Os.cloneNode(!0);return"function"==typeof t?t(e):t=e,e})()},Rs=ue("<main></main>"),zs=ue("<h2> Major Key Exercise </h2>"),Ks=ue('<div class="key-exercise"><div> <!> </div></div>'),Gs=ue('<span class="action icon">Start</span>'),Us=ue('<div class="key-explanation"><p>You can memorize major key signatures with this exercise.</p><p>Play the given key signature using your MIDI keyboard.</p><p>You have 2 minutes to play as much as you can.</p><p> Also, play and practice individual scales at where they are listed below. </p><p>Try these extra challenges:</p><ul><li>Spot the patterns that emerge from sharp side, and flat side.</li><li>Play with five fingers with the fingering techniques.</li><li>Say the notes as you play them.</li><li>Play without looking at the piano.</li></ul></div>'),Hs=ue('<div class="key-current"><span class="icon small">Restart</span><div class="box flex"><h4></h4></div><div class="scores"><div class="box status"><h4>High Score</h4><span></span></div></div></div>'),Ws=ue('<h3> <span class="major-type"></span> </h3>'),Ys=ue('<div class="key-current"><span class="icon small">Restart</span><div class="box flex"><h4></h4></div><div class="scores"><div class="box status"><h4>Score</h4><span></span></div><div class="box status"><h4> Time </h4><span></span></div></div><div class="major status"></div></div>'),Js=ue('<div class="key-controls"><group class="radio"><div><input id="time_min" name="time" type="radio"><label for="time_min">2 Minutes</label></div><div><input id="time_no" name="time" type="radio"><label for="time_no">No time</label></div></group><group class="radio"><div><input id="order_random" name="order" type="radio"><label for="order_random">Random</label></div><div><input id="order_sorted" name="order" type="radio"><label for="order_sorted">Sorted</label></div></group><group class="radio"><div><input id="nb_all" name="nb" type="radio"><label for="nb_all">All</label></div><div><input id="nb_sharps" name="nb" type="radio"><label for="nb_sharps">Sharps</label></div><div><input id="nb_flats" name="nb" type="radio"><label for="nb_flats">Flats</label></div></group><div class="switch"><div><input id="use_hints" name="use_hints" type="checkbox"><label for="use_hints">Show Hints</label></div></div></div>'),Xs=ue("<h2> Major Key Signatures </h2>"),Qs=ue('<div class="key-signatures"><div> <!> </div></div>'),Zs=ue("<div></div>"),ei=ue('<div class="cmajor-exercise"><div></div></div>'),ti=ue('<div class="cmajor"><div class="header"><h3> <span class="major-type"></span> </h3><div class="controls"></div></div><div><div> </div></div></div>'),ni=ue('<span class="bra"></span>'),ri=ue('<span class="icon"></span>');let si,ii,oi,ai,li,ci,ui,mi;const hi=e=>{let t=new As(gs());return(()=>{const e=Rs.cloneNode(!0);return ge(e,Y(di,{get exercises(){return t._exercises}}),null),ge(e,Y(bi,{get majors(){return t._majors}}),null),e})()},di=e=>[zs.cloneNode(!0),Y(ne,{get when(){return e.exercises.explanations},get children(){return Y(fi,{})}}),Y(ne,{get when(){return e.exercises.current},get fallback(){return[(()=>{const t=Gs.cloneNode(!0);return t.$$click=()=>e.exercises.start([...[[si,ii],[oi,ai],[li,ci,ui]].map((e=>e.findIndex((e=>e.checked)))),mi.checked?1:0]),t})(),Y(yi,{get exercises(){return e.exercises}})]},children:e=>Y(ne,{get when(){return void 0!==e.result},get fallback(){return Y(gi,{current:e})},get children(){return Y(pi,{current:e})}})}),(()=>{const t=Ks.cloneNode(!0),n=t.firstChild,r=n.firstChild.nextSibling;return r.nextSibling,ge(n,Y(vi,{get current(){return e.exercises.current}}),r),t})()],fi=e=>Us.cloneNode(!0),pi=e=>(()=>{const t=Hs.cloneNode(!0),n=t.firstChild,r=n.nextSibling,s=r.firstChild,i=r.nextSibling.firstChild.firstChild.nextSibling;return n.$$click=()=>e.current.cancel(),ge(s,(()=>e.current.header)),ge(i,(()=>e.current.result)),v((()=>de(i,e.current.score_klass))),t})(),gi=e=>(()=>{const t=Ys.cloneNode(!0),n=t.firstChild,r=n.nextSibling,s=r.firstChild,i=r.nextSibling,o=i.firstChild,a=o.firstChild.nextSibling,l=o.nextSibling.firstChild.nextSibling,c=i.nextSibling;return n.$$click=()=>e.current.cancel(),ge(s,(()=>e.current.header)),ge(a,(()=>e.current.score)),ge(l,(()=>{return t=e.current.time,n=parseInt(t,10),r=Math.floor(n/60),(s=n-60*r)<10&&(s="0"+s),r+":"+s;var t,n,r,s})),ge(c,Y(ne,{get when(){return e.current.show_hints},get children(){const t=Ws.cloneNode(!0),n=t.firstChild,r=n.nextSibling;return ge(t,(()=>Y(xi,{get tonic(){return e.current.majorKey.tonic}})),n),ge(r,(()=>e.current.majorKey.type)),t}})),v((()=>de(a,e.current.score_klass))),t})(),yi=e=>{let t=e.exercises;return(()=>{const e=Js.cloneNode(!0),n=e.firstChild,r=n.firstChild,s=r.firstChild,i=r.nextSibling.firstChild,o=n.nextSibling,a=o.firstChild,l=a.firstChild,c=a.nextSibling.firstChild,u=o.nextSibling,m=u.firstChild,h=m.firstChild,d=m.nextSibling,f=d.firstChild,p=d.nextSibling.firstChild,g=u.nextSibling.firstChild.firstChild;"function"==typeof si?si(s):si=s;"function"==typeof ii?ii(i):ii=i;"function"==typeof oi?oi(l):oi=l;"function"==typeof ai?ai(c):ai=c;"function"==typeof li?li(h):li=h;"function"==typeof ci?ci(f):ci=f;"function"==typeof ui?ui(p):ui=p;return"function"==typeof mi?mi(g):mi=g,v((()=>s.checked=0===t.dton[0])),v((()=>i.checked=1===t.dton[0])),v((()=>l.checked=0===t.dton[1])),v((()=>c.checked=1===t.dton[1])),v((()=>h.checked=0===t.dton[2])),v((()=>f.checked=1===t.dton[2])),v((()=>p.checked=2===t.dton[2])),v((()=>g.checked=1===t.dton[3])),e})()},bi=e=>[Xs.cloneNode(!0),(()=>{const t=Qs.cloneNode(!0),n=t.firstChild,r=n.firstChild.nextSibling;return r.nextSibling,ge(n,Y(Mi,{get major(){return e.majors.c_major}}),r),ge(t,Y(te,{get each(){return e.majors.sharps_flats_zipped},children:e=>(()=>{const t=Zs.cloneNode(!0);return ge(t,Y(Mi,{get major(){return e[0]}}),null),ge(t,Y(Mi,{get major(){return e[1]}}),null),t})()}),null),t})()],vi=e=>(()=>{const t=ei.cloneNode(!0),n=t.firstChild;return ge(n,Y(Bs,Z((()=>e.current)))),v((()=>de(n,["major-staff",e.current?.klass||""].join(" ")))),t})(),Pi={you:"You Play",stop:"Stop"},Mi=e=>{let t;k((()=>{let n=pn(t);P((()=>{n.bras=e.major.bras})),P((()=>{n.xwi=e.major.xwi})),P((()=>{n.playback=e.major.playback}))}));let n=y(!1);return(()=>{const r=ti.cloneNode(!0),s=r.firstChild,i=s.firstChild,o=i.firstChild,a=o.nextSibling,l=i.nextSibling,c=s.nextSibling,u=c.firstChild;r.$$mouseover=e=>Pn(n,!0),r.addEventListener("mouseleave",(e=>Pn(n,!1))),ge(i,(()=>Y(xi,{get tonic(){return e.major.majorKey.tonic}})),o),ge(a,(()=>e.major.majorKey.type)),ge(l,Y(ne,{get when(){return _n(n)},get children(){return[Y(wi,{onClick:t=>e.major.click_play(),get title(){return e.major.play_mode},get children(){return e.major.play_mode}}),Y(wi,{onClick:t=>e.major.click_you(),get title(){return Pi[e.major.you_mode]},get children(){return e.major.you_mode}})]}}));return"function"==typeof t?t(u):t=u,v((()=>de(c,["major-staff",...e.major.klass].join(" ")))),r})()},xi=e=>{return[(t=()=>e.tonic[0],M(t,void 0,n?void 0:{equals:n})),Y(ne,{get when(){return"b"===e.tonic[1]},get children(){const e=ni.cloneNode(!0);return ge(e,(()=>gn)),e}}),Y(ne,{get when(){return"#"===e.tonic[1]},get children(){const e=ni.cloneNode(!0);return ge(e,(()=>yn)),e}})];var t,n},wi=e=>(()=>{const t=ri.cloneNode(!0);return fe(t,"click",e.onClick,!0),ge(t,(()=>e.children)),v((()=>he(t,"title",e.title))),t})();me(["click","mouseover"]);const Ai=(e,t=120)=>{let n=y(t),r=M((()=>6e4/_n(n))),s=y(4),i=M((()=>_n(r)/_n(s))),o=y(-4*e-1),a=y(20),l=M((()=>_n(a)-20)),c=vn(((e,t)=>{let n=_n(a),r=i();n+e+20>r?x((()=>{Pn(a,(t=>t-r+e)),Pn(o,(e=>e+1))})):Pn(a,(t=>t+e))}));return j((()=>{c()})),{get bpm(){return _n(n)},set bpm(e){Pn(n,Math.max(20,e))},get beat_ms(){return[_n(o),l(),l()/i(),_n(s)]},get ms_per_sub(){return i()}}},ki=(e,t,n)=>{let r=y({wave:"sawtooth",volume:1,cutoff:.2,cutoff_max:.4,amplitude:1,filter_adsr:{a:.1,d:.1,s:0,r:0},amp_adsr:{a:.1,d:.1,s:.2,r:.02}}),s=y([0,16]),i=M((()=>n().map((e=>{let[t,n]=e.split("@"),[r,s]=n.split(",");return[t,parseInt(r),parseInt(s),-1]}))));return P((()=>{let{on_sub:n}=t;if(n){let[o,a]=n,[l,c]=_n(s),u=o%(c-l)+l,m=i().filter((e=>e[1]===u&&e[3]!==o)),h=e(),{bpm:d}=t;h&&d&&m.forEach((e=>{let[t,n,s]=e,i=s*d.ms_per_sub;h.attack(_n(r),t,h.currentTime-a/1e3),h.release(t,h.currentTime+(-a+i)/1e3),e[3]=o}))}})),{set loop(e){Pn(s,e)},set synth(e){Pn(r,e)}}};let ji=[20,30,60,90,120,180,200,400],$i=[1,2,3,4];function Si(e){let t,n=-1;return e.forEach(((e,r)=>{void 0!==e&&(void 0===t||e<t)&&(t=e,n=r)})),n}class Ci{constructor(e){this.solsido=e,this._exercises=Ii(this)}}const Ii=e=>({yardstick:Ni(e)}),Ni=e=>{let{solsido:t}=e,n=y(4),r=((e,t)=>{let n=y(!1),r=M((()=>{if(_n(n))return Ai(e(),120)})),s=M((()=>{let e=r()?.beat_ms;if(e){let[t,n,r,s]=e;if(r<0)return e}}));return{get on_sub(){return s()},get bpm(){return r()},set bpm(e){let t=r();t&&(t.bpm=e)},set playing(e){Pn(n,e)},get playing(){return _n(n)}}})(M((()=>_n(n)))),s=M((()=>t.osc_player)),i=M((()=>(r.playing,r.bpm,["D5@-16,2","D5@0,2"]))),o=M((()=>(r.playing,r.bpm,["F4@-12,2","A4@-8,2","F4@-4,2","F4@4,2","A4@8,2","F4@12,2"]))),a=ki(s,r,i),l=ki(s,r,o);P((()=>{let e=_n(n);a.loop=[0,4*e],l.loop=[0,4*e]})),a.synth={wave:"sine",volume:1,cutoff:.2,cutoff_max:.4,amplitude:1,filter_adsr:{a:0,d:.03,s:0,r:0},amp_adsr:{a:.01,d:.02,s:0,r:0}},l.synth={wave:"sine",volume:1,cutoff:.2,cutoff_max:.4,amplitude:1,filter_adsr:{a:.02,d:.02,s:0,r:0},amp_adsr:{a:.01,d:.01,s:0,r:.02}};let c=M((()=>{let e=r.bpm?.beat_ms;if(e){let[t,n,r,s]=e;return(t+r)/s}})),u=M((()=>{let e=r.bpm?.beat_ms;if(e){let[t,n,r,s]=e;return t}})),m=M((()=>{if(c()<0)return-10;let e=_n(n),t=e/2;return((c()-t)%e+t)/e})),h=M((()=>{let e=_n(n),t=e/2;return((c()+t)%e-t)/e})),d=[...Array(193).keys()].map((t=>Vi(e,t,n))),f=M((()=>({left:48*m()*4*100/193+"%"}))),p=M((()=>({left:48*h()*4*100/193+"%"}))),g=M((e=>r.bpm?.bpm||e)),b=y([],{equals:!1}),v=M((()=>_n(b).map((t=>Ti(e,t))))),_={adsr:{a:0,d:.1,s:.05,r:.6}},x=M(A(c,((e,t)=>t)));M((e=>{let t=_n(n),r=c();return r>0&&(s=r,i=x(),o=t,Math.floor(i/o)!==Math.floor(s/o))?r:e;var s,i,o}));let w=M((()=>{let e=_n(n);return[...[...Array(e).keys()].map((t=>t/e)),1]})),k=M((()=>_n(w).map(((t,n)=>Ei(e,n,t)))));return P(A(u,(e=>{let t=_n(n),r=c()%t/t,s=Si(k().map((e=>-e.hit_distance(r))));s>=0&&(k()[s].hit=!1)}))),P(A((()=>r.playing),(e=>{e&&(_s({just_ons(e){let{player:r}=t;e.slice(-1).forEach((e=>r?.attack(_,ns(e))));let s=_n(n),i=c()%s/s;Mn(b,(e=>e.push(i)));let o=Si(k().map((e=>e.hit_distance(i))));o>=0&&(k()[o].hit=!0)},just_offs(e){let{player:n}=t;e.forEach((e=>n?.release(ns(e))))}}),j((()=>{})))}))),{get hits(){return v()},get scores(){return k()},get cursor1_style(){return f()},get cursor2_style(){return p()},set nb_beats(e){let t=$i.indexOf(_n(n))+e+$i.length;t=Math.max(0,t)%$i.length,Pn(n,$i[t])},get nb_beats(){return _n(n)},get beats(){return d},get bpm(){return g()},set bpm(e){if(!r.bpm)return;let t=ji.indexOf(r.bpm.bpm)+e+ji.length;t=Math.max(0,t)%ji.length,r.bpm=ji[t]},get playback_playing(){return r.playing?"stop":"play"},toggle_playback_playing(){t.user_click(),r.playing=!r.playing}}},Ti=(e,t)=>{let n=t,r=M((()=>({left:48*n*4*100/193+"%"})));return{get x(){return n},get style(){return r()}}},Ei=(e,t,n)=>{let r=y(0),s=n,i=M((()=>({left:48*s*4*100/193+"%"}))),o=y(!1),a=M((()=>[_n(o)?"hit":""].join(" ")));return{hit_distance:e=>Math.abs(e-s),get hit(){return _n(o)},set hit(e){Pn(o,e)},i:t,get x(){return s},on_beat(){Pn(r,(e=>0===e?1:e))},dispose_on_beat(){},get klass(){return a()},get style(){return i()}}},Vi=(e,t,n)=>{let r=M((()=>192/_n(n))),s=M((()=>t%r()==0)),i=M((()=>t%(r()/2)==0)),o=M((()=>t%(r()/4)==0)),a=M((()=>s())),l=M((()=>i())),c=M((()=>o())),u=M((()=>[a()?"strong":l()?"medium":c()?"weak":""].join(" ")));return{get klass(){return u()}}},qi=ue("<main></main>"),Di=ue('<div class="rhythm-exercises"><h2> Yardstick Exercise </h2><div class="yardstick-controls"></div><div class="yardstick-wrap"></div><h2> Notes Exercise </h2><div class="main-staff"></div></div>'),Fi=ue('<metronome><span class="icon"></span><group><label>bpm</label></group><group><label>beats</label></group></metronome>'),Li=ue('<div class="up-down"><span class="value-down">-</span><span class="value"> <!> </span> <span class="value-up">+</span></div>'),Oi=ue("<yardstick><playback><cursor></cursor><cursor></cursor></playback><scores></scores><sticks></sticks></yardstick>"),Bi=ue("<hit></hit>"),Ri=ue("<score></score>"),zi=ue("<stick></stick>"),Ki=e=>{let t=new Ci(gs());return(()=>{const e=qi.cloneNode(!0);return ge(e,Y(Gi,{get exercises(){return t._exercises}})),e})()},Gi=e=>(()=>{const t=Di.cloneNode(!0),n=t.firstChild.nextSibling,r=n.nextSibling,s=r.nextSibling.nextSibling;return ge(n,Y(Ui,{toggle_play:()=>e.exercises.yardstick.toggle_playback_playing(),get play_mode(){return e.exercises.yardstick.playback_playing},get beats(){return e.exercises.yardstick.nb_beats},set_beats:t=>e.exercises.yardstick.nb_beats=t,get bpm(){return e.exercises.yardstick.bpm},set_bpm:t=>e.exercises.yardstick.bpm=t})),ge(r,Y(Wi,{get yardstick(){return e.exercises.yardstick}})),ge(s,Y(Bs,{})),t})(),Ui=e=>(()=>{const t=Fi.cloneNode(!0),n=t.firstChild,r=n.nextSibling;r.firstChild;const s=r.nextSibling;return s.firstChild,fe(n,"click",e.toggle_play,!0),ge(n,(()=>e.play_mode)),ge(r,Y(Hi,{get value(){return e.bpm},setValue:t=>e.set_bpm(t)}),null),ge(s,Y(Hi,{get value(){return e.beats},setValue:t=>e.set_beats(t)}),null),t})(),Hi=e=>{const t=t=>{e.setValue(t)};return(()=>{const n=Li.cloneNode(!0),r=n.firstChild,s=r.nextSibling,i=s.firstChild.nextSibling;i.nextSibling;const o=s.nextSibling.nextSibling;return r.$$click=e=>t(-1),s.$$click=e=>t(1),ge(s,(()=>{return(t=e.value)<10?`0${t}`:`${t}`;var t}),i),o.$$click=e=>t(1),n})()},Wi=e=>(()=>{const t=Oi.cloneNode(!0),n=t.firstChild,r=n.firstChild,s=r.nextSibling,i=n.nextSibling,o=i.nextSibling;return ge(i,Y(te,{get each(){return e.yardstick.hits},children:e=>(()=>{const t=Bi.cloneNode(!0);return v((n=>pe(t,e.style,n))),t})()}),null),ge(i,Y(te,{get each(){return e.yardstick.scores},children:e=>(()=>{const t=Ri.cloneNode(!0);return v((n=>{const r=e.klass,s=e.style;return r!==n._v$3&&de(t,n._v$3=r),n._v$4=pe(t,s,n._v$4),n}),{_v$3:void 0,_v$4:void 0}),t})()}),null),ge(o,Y(te,{get each(){return e.yardstick.beats},children:e=>(()=>{const t=zi.cloneNode(!0);return v((()=>de(t,e.klass))),t})()})),v((t=>{const n=e.yardstick.cursor1_style,i=e.yardstick.cursor2_style;return t._v$=pe(r,n,t._v$),t._v$2=pe(s,i,t._v$2),t}),{_v$:void 0,_v$2:void 0}),t})();me(["click"]);const Yi=ue('<solsido><header><input class="topnav-toggle fullscreen-toggle" type="checkbox" id="tn-tg"><label for="tn-tg" class="fullscreen-mask"></label><label for="tn-tg" class="hbg"> <span class="hbg_in"></span></label><nav id="topnav"><section></section><section> <!> </section><section> <!> </section></nav><h1 class="site-title"></h1></header><div id="main-wrap"></div></solsido>');function Ji(e,t,n,r){return e.addEventListener(t,n,r),()=>e.removeEventListener(t,n,r)}const Xi=e=>{let t,n=gs(),r=[];r.push(Ji(document,"scroll",(()=>n.onScroll()),{capture:!0,passive:!0})),r.push(Ji(window,"resize",(()=>n.onScroll()),{passive:!0})),j((()=>r.forEach((e=>e()))));let s=Ke();return P((()=>{s.pathname,t.checked=!1})),(()=>{const e=Yi.cloneNode(!0),r=e.firstChild,i=r.firstChild,o=i.nextSibling.nextSibling.nextSibling,a=o.firstChild,l=a.nextSibling,c=l.firstChild.nextSibling;c.nextSibling;const u=l.nextSibling,m=u.firstChild.nextSibling;m.nextSibling;const h=o.nextSibling,d=r.nextSibling;var f;f=e,setTimeout((()=>n.ref.$ref=f)),e.$$click=e=>n.onClick();return"function"==typeof t?t(i):t=i,ge(a,Y(rt,{href:"/",children:" lasolsido.org "})),ge(l,Y(st,{href:"/rhythm",children:"Rhythm"}),c),ge(u,Y(st,{href:"/key",children:"Key Signatures"}),m),ge(h,Y(rt,{get href(){return s.pathname},get children(){return s.pathname}})),ge(d,Y(Ze,{get children(){return[Y(et,{path:"",component:it}),Y(et,{path:"key",component:hi}),Y(et,{path:"rhythm",component:Ki})]}})),e})()},Qi=e=>t=>Y(Qe,{get source(){return je((()=>window.location.hash.slice(1)),(({value:e,replace:t,scroll:n,state:r})=>{t?window.history.replaceState(r,"","#"+e):window.location.hash=e;const s=e.indexOf("#");ke(s>=0?e.slice(s+1):"",n)}),(e=>Ae(window,"hashchange",(()=>e()))),{go:e=>window.history.go(e),renderPath:e=>`#${e}`,parsePath:e=>{const t=e.replace(/^.*?#/,"");if(!t.startsWith("/")){const[,e="/"]=window.location.hash.split("#",2);return`${e}#${t}`}return t}})},get children(){return Y(ps,{options:e,get children(){return Y(Xi,{})}})}});return me(["click"]),function(e,t={}){return function(e,t,n){let r;g((s=>{r=s,t===document?e():ge(t,e(),t.firstChild?null:void 0,n)}))}(Qi(t),e),{}}}();
